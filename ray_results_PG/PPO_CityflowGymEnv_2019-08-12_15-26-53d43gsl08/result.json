{"episode_reward_max": -13376.0, "episode_reward_min": -18596.0, "episode_reward_mean": -15650.666666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 3, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.7197370650737889, "mean_processing_ms": 0.11765560606842308, "mean_inference_ms": 0.7308475734650627}, "off_policy_estimator": {}, "info": {"num_steps_trained": 3968, "num_steps_sampled": 4000, "sample_time_ms": 6415.672, "load_time_ms": 54.057, "grad_time_ms": 7353.333, "update_time_ms": 512.816, "learner": {"default_policy": {"cur_kl_coeff": 0.20000000298023224, "cur_lr": 4.999999873689376e-05, "total_loss": 1248711.625, "policy_loss": -0.02479317970573902, "vf_loss": 1248711.625, "vf_explained_var": 0.00025472333072684705, "kl": 0.016146307811141014, "entropy": 2.0630390644073486, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 4000, "episodes_total": 3, "training_iteration": 1, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-27-14", "timestamp": 1565594834, "time_this_iter_s": 14.384164571762085, "time_total_s": 14.384164571762085, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 14.384164571762085, "timesteps_since_restore": 4000, "iterations_since_restore": 1, "perf": {"cpu_util_percent": 41.07619047619047, "ram_util_percent": 16.03333333333333}}
{"episode_reward_max": -9918.0, "episode_reward_min": -18596.0, "episode_reward_mean": -13604.57142857143, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6787874542189767, "mean_processing_ms": 0.11206648717375568, "mean_inference_ms": 0.6925735293193691}, "off_policy_estimator": {}, "info": {"num_steps_trained": 7936, "num_steps_sampled": 8000, "sample_time_ms": 5789.099, "load_time_ms": 28.041, "grad_time_ms": 7166.107, "update_time_ms": 258.37, "learner": {"default_policy": {"cur_kl_coeff": 0.20000000298023224, "cur_lr": 4.999999873689376e-05, "total_loss": 771496.125, "policy_loss": -0.030437957495450974, "vf_loss": 771496.125, "vf_explained_var": 0.00030860400875099003, "kl": 0.017820041626691818, "entropy": 2.046412229537964, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 8000, "episodes_total": 7, "training_iteration": 2, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-27-26", "timestamp": 1565594846, "time_this_iter_s": 12.156308889389038, "time_total_s": 26.540473461151123, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 26.540473461151123, "timesteps_since_restore": 8000, "iterations_since_restore": 2, "perf": {"cpu_util_percent": 32.082352941176474, "ram_util_percent": 16.28235294117647}}
{"episode_reward_max": -9293.0, "episode_reward_min": -18596.0, "episode_reward_mean": -12377.90909090909, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6590505457877316, "mean_processing_ms": 0.11034871589943213, "mean_inference_ms": 0.676320018336396}, "off_policy_estimator": {}, "info": {"num_steps_trained": 11904, "num_steps_sampled": 12000, "sample_time_ms": 5618.485, "load_time_ms": 19.311, "grad_time_ms": 7128.677, "update_time_ms": 180.629, "learner": {"default_policy": {"cur_kl_coeff": 0.20000000298023224, "cur_lr": 4.999999873689376e-05, "total_loss": 559115.1875, "policy_loss": -0.030628858134150505, "vf_loss": 559115.1875, "vf_explained_var": 0.00026960912509821355, "kl": 0.020506907254457474, "entropy": 2.0286612510681152, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 12000, "episodes_total": 11, "training_iteration": 3, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-27-38", "timestamp": 1565594858, "time_this_iter_s": 12.365223407745361, "time_total_s": 38.905696868896484, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 38.905696868896484, "timesteps_since_restore": 12000, "iterations_since_restore": 3, "perf": {"cpu_util_percent": 31.450000000000003, "ram_util_percent": 16.244444444444444}}
{"episode_reward_max": -7109.0, "episode_reward_min": -18596.0, "episode_reward_mean": -11452.266666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6460002699785828, "mean_processing_ms": 0.10936468960037385, "mean_inference_ms": 0.6661301928386256}, "off_policy_estimator": {}, "info": {"num_steps_trained": 15872, "num_steps_sampled": 16000, "sample_time_ms": 5513.558, "load_time_ms": 15.087, "grad_time_ms": 7122.851, "update_time_ms": 137.295, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 428046.78125, "policy_loss": -0.03152866289019585, "vf_loss": 428046.8125, "vf_explained_var": 0.00017662010213825852, "kl": 0.013400147669017315, "entropy": 2.005634069442749, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 16000, "episodes_total": 15, "training_iteration": 4, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-27-51", "timestamp": 1565594871, "time_this_iter_s": 12.319933652877808, "time_total_s": 51.22563052177429, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 51.22563052177429, "timesteps_since_restore": 16000, "iterations_since_restore": 4, "perf": {"cpu_util_percent": 31.661111111111115, "ram_util_percent": 16.26111111111111}}
{"episode_reward_max": -7042.0, "episode_reward_min": -18596.0, "episode_reward_mean": -10592.736842105263, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6378298282263298, "mean_processing_ms": 0.10899731043574676, "mean_inference_ms": 0.6596638222804637}, "off_policy_estimator": {}, "info": {"num_steps_trained": 19840, "num_steps_sampled": 20000, "sample_time_ms": 5491.758, "load_time_ms": 12.317, "grad_time_ms": 6993.728, "update_time_ms": 111.21, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 330426.40625, "policy_loss": -0.033959969878196716, "vf_loss": 330426.4375, "vf_explained_var": 0.00015788116434123367, "kl": 0.01569175533950329, "entropy": 1.9718056917190552, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 20000, "episodes_total": 19, "training_iteration": 5, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-28-03", "timestamp": 1565594883, "time_this_iter_s": 11.902113199234009, "time_total_s": 63.1277437210083, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 63.1277437210083, "timesteps_since_restore": 20000, "iterations_since_restore": 5, "perf": {"cpu_util_percent": 30.629411764705885, "ram_util_percent": 16.3}}
{"episode_reward_max": -5361.0, "episode_reward_min": -18596.0, "episode_reward_mean": -9935.782608695652, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6296319032786135, "mean_processing_ms": 0.10844964657551648, "mean_inference_ms": 0.6530033663807215}, "off_policy_estimator": {}, "info": {"num_steps_trained": 23808, "num_steps_sampled": 24000, "sample_time_ms": 5360.002, "load_time_ms": 10.676, "grad_time_ms": 6982.018, "update_time_ms": 93.845, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 180637.890625, "policy_loss": -0.027351833879947662, "vf_loss": 180637.875, "vf_explained_var": 0.00010414854477858171, "kl": 0.014868189580738544, "entropy": 1.9684805870056152, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 24000, "episodes_total": 23, "training_iteration": 6, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-28-14", "timestamp": 1565594894, "time_this_iter_s": 11.646403312683105, "time_total_s": 74.7741470336914, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 74.7741470336914, "timesteps_since_restore": 24000, "iterations_since_restore": 6, "perf": {"cpu_util_percent": 31.568749999999998, "ram_util_percent": 16.2625}}
{"episode_reward_max": -5000.0, "episode_reward_min": -18596.0, "episode_reward_mean": -9299.518518518518, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6222143165877085, "mean_processing_ms": 0.10784149543594486, "mean_inference_ms": 0.6470024935037083}, "off_policy_estimator": {}, "info": {"num_steps_trained": 27776, "num_steps_sampled": 28000, "sample_time_ms": 5272.426, "load_time_ms": 9.371, "grad_time_ms": 6989.864, "update_time_ms": 81.377, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 136728.59375, "policy_loss": -0.029231159016489983, "vf_loss": 136728.609375, "vf_explained_var": 7.287148764589801e-05, "kl": 0.014289170503616333, "entropy": 1.9640804529190063, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 28000, "episodes_total": 27, "training_iteration": 7, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-28-26", "timestamp": 1565594906, "time_this_iter_s": 11.797691106796265, "time_total_s": 86.57183814048767, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 86.57183814048767, "timesteps_since_restore": 28000, "iterations_since_restore": 7, "perf": {"cpu_util_percent": 32.2764705882353, "ram_util_percent": 16.370588235294118}}
{"episode_reward_max": -4705.0, "episode_reward_min": -18596.0, "episode_reward_mean": -8762.41935483871, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6161359146358675, "mean_processing_ms": 0.10736460894052885, "mean_inference_ms": 0.642318775740194}, "off_policy_estimator": {}, "info": {"num_steps_trained": 31744, "num_steps_sampled": 32000, "sample_time_ms": 5245.54, "load_time_ms": 8.414, "grad_time_ms": 6919.225, "update_time_ms": 72.44, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 112944.5390625, "policy_loss": -0.03747701644897461, "vf_loss": 112944.5859375, "vf_explained_var": 5.524196967598982e-05, "kl": 0.015805484727025032, "entropy": 1.9550013542175293, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 32000, "episodes_total": 31, "training_iteration": 8, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-28-38", "timestamp": 1565594918, "time_this_iter_s": 11.502798080444336, "time_total_s": 98.074636220932, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 98.074636220932, "timesteps_since_restore": 32000, "iterations_since_restore": 8, "perf": {"cpu_util_percent": 31.443749999999998, "ram_util_percent": 16.28125}}
{"episode_reward_max": -3596.0, "episode_reward_min": -18596.0, "episode_reward_mean": -8244.742857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6107139255580297, "mean_processing_ms": 0.10691810994268831, "mean_inference_ms": 0.6383428751680814}, "off_policy_estimator": {}, "info": {"num_steps_trained": 35712, "num_steps_sampled": 36000, "sample_time_ms": 5203.732, "load_time_ms": 7.857, "grad_time_ms": 6917.189, "update_time_ms": 64.937, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 89210.0625, "policy_loss": -0.031745318323373795, "vf_loss": 89210.1015625, "vf_explained_var": 3.163660585414618e-05, "kl": 0.014630593359470367, "entropy": 1.9433528184890747, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 36000, "episodes_total": 35, "training_iteration": 9, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-28-50", "timestamp": 1565594930, "time_this_iter_s": 11.789138555526733, "time_total_s": 109.86377477645874, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 109.86377477645874, "timesteps_since_restore": 36000, "iterations_since_restore": 9, "perf": {"cpu_util_percent": 31.4, "ram_util_percent": 16.264705882352942}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -7858.923076923077, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6057105763617137, "mean_processing_ms": 0.10651155242593816, "mean_inference_ms": 0.634802942093052}, "off_policy_estimator": {}, "info": {"num_steps_trained": 39680, "num_steps_sampled": 40000, "sample_time_ms": 5158.969, "load_time_ms": 7.286, "grad_time_ms": 6908.457, "update_time_ms": 59.111, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 55455.234375, "policy_loss": -0.03241060674190521, "vf_loss": 55455.265625, "vf_explained_var": 2.5906871087499894e-05, "kl": 0.015523211099207401, "entropy": 1.9049705266952515, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 40000, "episodes_total": 39, "training_iteration": 10, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-29-01", "timestamp": 1565594941, "time_this_iter_s": 11.60790228843689, "time_total_s": 121.47167706489563, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 121.47167706489563, "timesteps_since_restore": 40000, "iterations_since_restore": 10, "perf": {"cpu_util_percent": 32.42941176470588, "ram_util_percent": 16.370588235294118}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -7584.976744186047, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.6014279549919955, "mean_processing_ms": 0.10620554067700132, "mean_inference_ms": 0.6318872638578544}, "off_policy_estimator": {}, "info": {"num_steps_trained": 43648, "num_steps_sampled": 44000, "sample_time_ms": 5023.046, "load_time_ms": 2.253, "grad_time_ms": 6873.189, "update_time_ms": 8.487, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 116977.8125, "policy_loss": -0.03035811521112919, "vf_loss": 116977.8359375, "vf_explained_var": 1.1984378943452612e-05, "kl": 0.011775110848248005, "entropy": 1.8916906118392944, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 44000, "episodes_total": 43, "training_iteration": 11, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-29-13", "timestamp": 1565594953, "time_this_iter_s": 12.078888177871704, "time_total_s": 133.55056524276733, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 133.55056524276733, "timesteps_since_restore": 44000, "iterations_since_restore": 11, "perf": {"cpu_util_percent": 31.641176470588242, "ram_util_percent": 16.341176470588234}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -7277.787234042553, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5974580411296377, "mean_processing_ms": 0.10590503806702703, "mean_inference_ms": 0.6290543691968533}, "off_policy_estimator": {}, "info": {"num_steps_trained": 47616, "num_steps_sampled": 48000, "sample_time_ms": 4971.504, "load_time_ms": 2.3, "grad_time_ms": 6857.068, "update_time_ms": 8.757, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 48271.23046875, "policy_loss": -0.032518427819013596, "vf_loss": 48271.265625, "vf_explained_var": 1.8427448594593443e-05, "kl": 0.013350234366953373, "entropy": 1.8664453029632568, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 48000, "episodes_total": 47, "training_iteration": 12, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-29-25", "timestamp": 1565594965, "time_this_iter_s": 11.480137348175049, "time_total_s": 145.03070259094238, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 145.03070259094238, "timesteps_since_restore": 48000, "iterations_since_restore": 12, "perf": {"cpu_util_percent": 32.175, "ram_util_percent": 16.31875}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -7073.450980392156, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5939356035289199, "mean_processing_ms": 0.10563903806813664, "mean_inference_ms": 0.6265037598994262}, "off_policy_estimator": {}, "info": {"num_steps_trained": 51584, "num_steps_sampled": 52000, "sample_time_ms": 4931.006, "load_time_ms": 2.364, "grad_time_ms": 6836.512, "update_time_ms": 6.863, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 89475.0859375, "policy_loss": -0.02391796186566353, "vf_loss": 89475.1015625, "vf_explained_var": 8.565763891965616e-06, "kl": 0.012036980129778385, "entropy": 1.8597960472106934, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 52000, "episodes_total": 51, "training_iteration": 13, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-29-36", "timestamp": 1565594976, "time_this_iter_s": 11.740240573883057, "time_total_s": 156.77094316482544, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 156.77094316482544, "timesteps_since_restore": 52000, "iterations_since_restore": 13, "perf": {"cpu_util_percent": 32.11764705882353, "ram_util_percent": 16.335294117647063}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -6838.145454545454, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5906353533137506, "mean_processing_ms": 0.10536644890559996, "mean_inference_ms": 0.6240913090340402}, "off_policy_estimator": {}, "info": {"num_steps_trained": 55552, "num_steps_sampled": 56000, "sample_time_ms": 4875.262, "load_time_ms": 2.385, "grad_time_ms": 6810.043, "update_time_ms": 6.639, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 63092.84765625, "policy_loss": -0.032067399471998215, "vf_loss": 63092.875, "vf_explained_var": 1.534723378426861e-05, "kl": 0.015576270408928394, "entropy": 1.815358281135559, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 56000, "episodes_total": 55, "training_iteration": 14, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-29-48", "timestamp": 1565594988, "time_this_iter_s": 11.503571271896362, "time_total_s": 168.2745144367218, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 168.2745144367218, "timesteps_since_restore": 56000, "iterations_since_restore": 14, "perf": {"cpu_util_percent": 31.95882352941177, "ram_util_percent": 16.305882352941175}}
{"episode_reward_max": -3246.0, "episode_reward_min": -18596.0, "episode_reward_mean": -6624.254237288135, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5876988162960389, "mean_processing_ms": 0.10513043056202359, "mean_inference_ms": 0.6219881648823216}, "off_policy_estimator": {}, "info": {"num_steps_trained": 59520, "num_steps_sampled": 60000, "sample_time_ms": 4831.179, "load_time_ms": 2.509, "grad_time_ms": 6866.331, "update_time_ms": 6.483, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 40691.15234375, "policy_loss": -0.025817889720201492, "vf_loss": 40691.16796875, "vf_explained_var": 0.00016782553575467318, "kl": 0.012445444241166115, "entropy": 1.8161722421646118, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 60000, "episodes_total": 59, "training_iteration": 15, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-30-00", "timestamp": 1565595000, "time_this_iter_s": 12.02419114112854, "time_total_s": 180.29870557785034, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 180.29870557785034, "timesteps_since_restore": 60000, "iterations_since_restore": 15, "perf": {"cpu_util_percent": 31.647058823529413, "ram_util_percent": 16.388235294117646}}
{"episode_reward_max": -3241.0, "episode_reward_min": -18596.0, "episode_reward_mean": -6448.920634920635, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5850927298461315, "mean_processing_ms": 0.1049448785215816, "mean_inference_ms": 0.6201907998896171}, "off_policy_estimator": {}, "info": {"num_steps_trained": 63488, "num_steps_sampled": 64000, "sample_time_ms": 4867.723, "load_time_ms": 2.535, "grad_time_ms": 6857.686, "update_time_ms": 6.704, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 43507.71875, "policy_loss": -0.03022008202970028, "vf_loss": 43507.7421875, "vf_explained_var": 4.464387893676758e-05, "kl": 0.01421396154910326, "entropy": 1.8068125247955322, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 64000, "episodes_total": 63, "training_iteration": 16, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-30-12", "timestamp": 1565595012, "time_this_iter_s": 11.924311637878418, "time_total_s": 192.22301721572876, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 192.22301721572876, "timesteps_since_restore": 64000, "iterations_since_restore": 16, "perf": {"cpu_util_percent": 31.77647058823529, "ram_util_percent": 16.364705882352943}}
{"episode_reward_max": -3048.0, "episode_reward_min": -18596.0, "episode_reward_mean": -6268.731343283582, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5826780140727159, "mean_processing_ms": 0.10478413581678941, "mean_inference_ms": 0.6185664663894458}, "off_policy_estimator": {}, "info": {"num_steps_trained": 67456, "num_steps_sampled": 68000, "sample_time_ms": 4879.926, "load_time_ms": 2.755, "grad_time_ms": 6842.712, "update_time_ms": 6.624, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 27264.923828125, "policy_loss": -0.031901292502880096, "vf_loss": 27264.955078125, "vf_explained_var": 0.00027194907306693494, "kl": 0.013477000407874584, "entropy": 1.8033192157745361, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 68000, "episodes_total": 67, "training_iteration": 17, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-30-24", "timestamp": 1565595024, "time_this_iter_s": 11.778019189834595, "time_total_s": 204.00103640556335, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 204.00103640556335, "timesteps_since_restore": 68000, "iterations_since_restore": 17, "perf": {"cpu_util_percent": 31.323529411764707, "ram_util_percent": 16.358823529411765}}
{"episode_reward_max": -3042.0, "episode_reward_min": -18596.0, "episode_reward_mean": -6122.859154929577, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5805393790985701, "mean_processing_ms": 0.10464444295059734, "mean_inference_ms": 0.6171917469116712}, "off_policy_estimator": {}, "info": {"num_steps_trained": 71424, "num_steps_sampled": 72000, "sample_time_ms": 4887.606, "load_time_ms": 2.846, "grad_time_ms": 6887.856, "update_time_ms": 6.391, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 36737.3984375, "policy_loss": -0.03270680829882622, "vf_loss": 36737.4296875, "vf_explained_var": 0.02741600014269352, "kl": 0.015482974238693714, "entropy": 1.7786277532577515, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 72000, "episodes_total": 71, "training_iteration": 18, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-30-36", "timestamp": 1565595036, "time_this_iter_s": 12.033182382583618, "time_total_s": 216.03421878814697, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 216.03421878814697, "timesteps_since_restore": 72000, "iterations_since_restore": 18, "perf": {"cpu_util_percent": 31.552941176470586, "ram_util_percent": 16.341176470588238}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5954.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5786108654332265, "mean_processing_ms": 0.10452680075074616, "mean_inference_ms": 0.6159761314106597}, "off_policy_estimator": {}, "info": {"num_steps_trained": 75392, "num_steps_sampled": 76000, "sample_time_ms": 4905.544, "load_time_ms": 2.744, "grad_time_ms": 6884.924, "update_time_ms": 6.465, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 18144.5390625, "policy_loss": -0.032327838242053986, "vf_loss": 18144.564453125, "vf_explained_var": 0.03140554204583168, "kl": 0.014503825455904007, "entropy": 1.7823017835617065, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 76000, "episodes_total": 75, "training_iteration": 19, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-30-48", "timestamp": 1565595048, "time_this_iter_s": 11.939056873321533, "time_total_s": 227.9732756614685, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 227.9732756614685, "timesteps_since_restore": 76000, "iterations_since_restore": 19, "perf": {"cpu_util_percent": 31.164705882352944, "ram_util_percent": 16.370588235294115}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5819.278481012659, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5767812515641836, "mean_processing_ms": 0.10440275813994353, "mean_inference_ms": 0.6148227211455543}, "off_policy_estimator": {}, "info": {"num_steps_trained": 79360, "num_steps_sampled": 80000, "sample_time_ms": 4906.044, "load_time_ms": 2.781, "grad_time_ms": 6897.706, "update_time_ms": 6.352, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 21699.369140625, "policy_loss": -0.032523464411497116, "vf_loss": 21699.396484375, "vf_explained_var": 0.06630013883113861, "kl": 0.011744916439056396, "entropy": 1.7661120891571045, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 80000, "episodes_total": 79, "training_iteration": 20, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-00", "timestamp": 1565595060, "time_this_iter_s": 11.74130916595459, "time_total_s": 239.7145848274231, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 239.7145848274231, "timesteps_since_restore": 80000, "iterations_since_restore": 20, "perf": {"cpu_util_percent": 31.00588235294118, "ram_util_percent": 16.317647058823532}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5712.144578313253, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5750701825975277, "mean_processing_ms": 0.10429778832524919, "mean_inference_ms": 0.6137000767876852}, "off_policy_estimator": {}, "info": {"num_steps_trained": 83328, "num_steps_sampled": 84000, "sample_time_ms": 4880.591, "load_time_ms": 2.674, "grad_time_ms": 6895.385, "update_time_ms": 6.231, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 47592.71484375, "policy_loss": -0.041330866515636444, "vf_loss": 47592.74609375, "vf_explained_var": 0.06586943566799164, "kl": 0.015547906048595905, "entropy": 1.7591538429260254, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 84000, "episodes_total": 83, "training_iteration": 21, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-11", "timestamp": 1565595071, "time_this_iter_s": 11.79617691040039, "time_total_s": 251.5107617378235, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 251.5107617378235, "timesteps_since_restore": 84000, "iterations_since_restore": 21, "perf": {"cpu_util_percent": 32.256249999999994, "ram_util_percent": 16.35}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5619.83908045977, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5735497823324698, "mean_processing_ms": 0.1042216250472992, "mean_inference_ms": 0.6127505779267175}, "off_policy_estimator": {}, "info": {"num_steps_trained": 87296, "num_steps_sampled": 88000, "sample_time_ms": 4941.449, "load_time_ms": 2.683, "grad_time_ms": 6903.524, "update_time_ms": 6.52, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 29025.798828125, "policy_loss": -0.03708906099200249, "vf_loss": 29025.83203125, "vf_explained_var": 0.07583469152450562, "kl": 0.015559536404907703, "entropy": 1.7776200771331787, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 88000, "episodes_total": 87, "training_iteration": 22, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-24", "timestamp": 1565595084, "time_this_iter_s": 12.179548978805542, "time_total_s": 263.690310716629, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 263.690310716629, "timesteps_since_restore": 88000, "iterations_since_restore": 22, "perf": {"cpu_util_percent": 31.59444444444444, "ram_util_percent": 16.372222222222224}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5529.087912087912, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5721108181287574, "mean_processing_ms": 0.10415045683967376, "mean_inference_ms": 0.6118600883508235}, "off_policy_estimator": {}, "info": {"num_steps_trained": 91264, "num_steps_sampled": 92000, "sample_time_ms": 4940.483, "load_time_ms": 2.702, "grad_time_ms": 6909.094, "update_time_ms": 6.656, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 40558.984375, "policy_loss": -0.03302500396966934, "vf_loss": 40559.01171875, "vf_explained_var": 0.08459752798080444, "kl": 0.013037241995334625, "entropy": 1.7505923509597778, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 92000, "episodes_total": 91, "training_iteration": 23, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-35", "timestamp": 1565595095, "time_this_iter_s": 11.787674903869629, "time_total_s": 275.47798562049866, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 275.47798562049866, "timesteps_since_restore": 92000, "iterations_since_restore": 23, "perf": {"cpu_util_percent": 31.129411764705885, "ram_util_percent": 16.423529411764704}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5446.4315789473685, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5707914114170418, "mean_processing_ms": 0.10409331834142695, "mean_inference_ms": 0.6111004311904701}, "off_policy_estimator": {}, "info": {"num_steps_trained": 95232, "num_steps_sampled": 96000, "sample_time_ms": 4992.974, "load_time_ms": 2.617, "grad_time_ms": 6931.2, "update_time_ms": 7.274, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 27753.658203125, "policy_loss": -0.03261585533618927, "vf_loss": 27753.685546875, "vf_explained_var": 0.08952374756336212, "kl": 0.015315934084355831, "entropy": 1.7287253141403198, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 96000, "episodes_total": 95, "training_iteration": 24, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-48", "timestamp": 1565595108, "time_this_iter_s": 12.249377489089966, "time_total_s": 287.7273631095886, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 287.7273631095886, "timesteps_since_restore": 96000, "iterations_since_restore": 24, "perf": {"cpu_util_percent": 31.547058823529415, "ram_util_percent": 16.311764705882354}}
{"episode_reward_max": -2464.0, "episode_reward_min": -18596.0, "episode_reward_mean": -5376.292929292929, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5695166560789311, "mean_processing_ms": 0.10402903673568886, "mean_inference_ms": 0.6103644441116133}, "off_policy_estimator": {}, "info": {"num_steps_trained": 99200, "num_steps_sampled": 100000, "sample_time_ms": 4971.922, "load_time_ms": 2.625, "grad_time_ms": 6878.13, "update_time_ms": 7.354, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 43041.78515625, "policy_loss": -0.041803643107414246, "vf_loss": 43041.828125, "vf_explained_var": 0.10074682533740997, "kl": 0.01798705942928791, "entropy": 1.7381941080093384, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 100000, "episodes_total": 99, "training_iteration": 25, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-31-59", "timestamp": 1565595119, "time_this_iter_s": 11.285529851913452, "time_total_s": 299.0128929615021, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 299.0128929615021, "timesteps_since_restore": 100000, "iterations_since_restore": 25, "perf": {"cpu_util_percent": 31.78125, "ram_util_percent": 16.4125}}
{"episode_reward_max": -2464.0, "episode_reward_min": -15330.0, "episode_reward_mean": -4971.75, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5638015994492424, "mean_processing_ms": 0.10356642190710005, "mean_inference_ms": 0.606083887191033}, "off_policy_estimator": {}, "info": {"num_steps_trained": 103168, "num_steps_sampled": 104000, "sample_time_ms": 4978.792, "load_time_ms": 2.619, "grad_time_ms": 6876.559, "update_time_ms": 7.318, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 20916.892578125, "policy_loss": -0.030715761706233025, "vf_loss": 20916.919921875, "vf_explained_var": 0.13770544528961182, "kl": 0.013459987938404083, "entropy": 1.7179001569747925, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 104000, "episodes_total": 103, "training_iteration": 26, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-32-11", "timestamp": 1565595131, "time_this_iter_s": 11.98271107673645, "time_total_s": 310.9956040382385, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 310.9956040382385, "timesteps_since_restore": 104000, "iterations_since_restore": 26, "perf": {"cpu_util_percent": 31.341176470588234, "ram_util_percent": 16.4}}
{"episode_reward_max": -2213.0, "episode_reward_min": -12376.0, "episode_reward_mean": -4623.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.559440695248495, "mean_processing_ms": 0.10335737818867086, "mean_inference_ms": 0.6032905400359634}, "off_policy_estimator": {}, "info": {"num_steps_trained": 107136, "num_steps_sampled": 108000, "sample_time_ms": 4994.273, "load_time_ms": 2.447, "grad_time_ms": 6885.217, "update_time_ms": 7.244, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 21423.416015625, "policy_loss": -0.03497103601694107, "vf_loss": 21423.443359375, "vf_explained_var": 0.21086476743221283, "kl": 0.014468525536358356, "entropy": 1.7168549299240112, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 108000, "episodes_total": 107, "training_iteration": 27, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-32-23", "timestamp": 1565595143, "time_this_iter_s": 12.015251159667969, "time_total_s": 323.0108551979065, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 323.0108551979065, "timesteps_since_restore": 108000, "iterations_since_restore": 27, "perf": {"cpu_util_percent": 31.77647058823529, "ram_util_percent": 16.447058823529414}}
{"episode_reward_max": -2213.0, "episode_reward_min": -10283.0, "episode_reward_mean": -4336.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5559890204840837, "mean_processing_ms": 0.10317289133185997, "mean_inference_ms": 0.6011294707669903}, "off_policy_estimator": {}, "info": {"num_steps_trained": 111104, "num_steps_sampled": 112000, "sample_time_ms": 4972.754, "load_time_ms": 2.425, "grad_time_ms": 6879.782, "update_time_ms": 7.03, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 13186.0068359375, "policy_loss": -0.03411703556776047, "vf_loss": 13186.0380859375, "vf_explained_var": 0.24570514261722565, "kl": 0.011931778863072395, "entropy": 1.699854850769043, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 112000, "episodes_total": 111, "training_iteration": 28, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-32-35", "timestamp": 1565595155, "time_this_iter_s": 11.756675243377686, "time_total_s": 334.7675304412842, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 334.7675304412842, "timesteps_since_restore": 112000, "iterations_since_restore": 28, "perf": {"cpu_util_percent": 31.50588235294117, "ram_util_percent": 16.370588235294118}}
{"episode_reward_max": -2213.0, "episode_reward_min": -9098.0, "episode_reward_mean": -4121.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5530916999320795, "mean_processing_ms": 0.10301278472883361, "mean_inference_ms": 0.5993520957960081}, "off_policy_estimator": {}, "info": {"num_steps_trained": 115072, "num_steps_sampled": 116000, "sample_time_ms": 4960.519, "load_time_ms": 2.495, "grad_time_ms": 6884.353, "update_time_ms": 7.147, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 25863.966796875, "policy_loss": -0.03751925751566887, "vf_loss": 25863.998046875, "vf_explained_var": 0.2578338086605072, "kl": 0.016952063888311386, "entropy": 1.6695740222930908, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 116000, "episodes_total": 115, "training_iteration": 29, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-32-47", "timestamp": 1565595167, "time_this_iter_s": 11.861032485961914, "time_total_s": 346.6285629272461, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 346.6285629272461, "timesteps_since_restore": 116000, "iterations_since_restore": 29, "perf": {"cpu_util_percent": 32.73529411764706, "ram_util_percent": 16.441176470588236}}
{"episode_reward_max": -2213.0, "episode_reward_min": -9098.0, "episode_reward_mean": -3953.66, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5502717675032952, "mean_processing_ms": 0.10281021184178724, "mean_inference_ms": 0.5976491714794051}, "off_policy_estimator": {}, "info": {"num_steps_trained": 119040, "num_steps_sampled": 120000, "sample_time_ms": 4963.057, "load_time_ms": 2.51, "grad_time_ms": 6881.383, "update_time_ms": 7.227, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 19015.705078125, "policy_loss": -0.03227803483605385, "vf_loss": 19015.734375, "vf_explained_var": 0.2403382658958435, "kl": 0.012994895689189434, "entropy": 1.6594167947769165, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 120000, "episodes_total": 119, "training_iteration": 30, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-32-58", "timestamp": 1565595178, "time_this_iter_s": 11.736276865005493, "time_total_s": 358.3648397922516, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 358.3648397922516, "timesteps_since_restore": 120000, "iterations_since_restore": 30, "perf": {"cpu_util_percent": 32.06470588235294, "ram_util_percent": 16.535294117647055}}
{"episode_reward_max": -2213.0, "episode_reward_min": -6522.0, "episode_reward_mean": -3810.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5480380307686217, "mean_processing_ms": 0.10266462278738046, "mean_inference_ms": 0.5964328312121785}, "off_policy_estimator": {}, "info": {"num_steps_trained": 123008, "num_steps_sampled": 124000, "sample_time_ms": 4933.269, "load_time_ms": 2.438, "grad_time_ms": 6881.029, "update_time_ms": 7.372, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 16249.841796875, "policy_loss": -0.03451630473136902, "vf_loss": 16249.869140625, "vf_explained_var": 0.24598684906959534, "kl": 0.013678413815796375, "entropy": 1.5993181467056274, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 124000, "episodes_total": 123, "training_iteration": 31, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-33-10", "timestamp": 1565595190, "time_this_iter_s": 11.498452186584473, "time_total_s": 369.86329197883606, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 369.86329197883606, "timesteps_since_restore": 124000, "iterations_since_restore": 31, "perf": {"cpu_util_percent": 31.125, "ram_util_percent": 16.5125}}
{"episode_reward_max": -2213.0, "episode_reward_min": -6428.0, "episode_reward_mean": -3699.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5462362924775703, "mean_processing_ms": 0.10258059628895648, "mean_inference_ms": 0.595575704139082}, "off_policy_estimator": {}, "info": {"num_steps_trained": 126976, "num_steps_sampled": 128000, "sample_time_ms": 4904.705, "load_time_ms": 2.371, "grad_time_ms": 6885.903, "update_time_ms": 7.035, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 10457.2529296875, "policy_loss": -0.02883751317858696, "vf_loss": 10457.2763671875, "vf_explained_var": 0.2959778904914856, "kl": 0.01136048510670662, "entropy": 1.604223608970642, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 128000, "episodes_total": 127, "training_iteration": 32, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-33-22", "timestamp": 1565595202, "time_this_iter_s": 11.93449592590332, "time_total_s": 381.7977879047394, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 381.7977879047394, "timesteps_since_restore": 128000, "iterations_since_restore": 32, "perf": {"cpu_util_percent": 33.188235294117646, "ram_util_percent": 16.535294117647055}}
{"episode_reward_max": -2213.0, "episode_reward_min": -6428.0, "episode_reward_mean": -3635.53, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5446390820300864, "mean_processing_ms": 0.10250885320020138, "mean_inference_ms": 0.5948138685458827}, "off_policy_estimator": {}, "info": {"num_steps_trained": 130944, "num_steps_sampled": 132000, "sample_time_ms": 4935.31, "load_time_ms": 2.3, "grad_time_ms": 6871.658, "update_time_ms": 6.796, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 20727.560546875, "policy_loss": -0.03405710309743881, "vf_loss": 20727.591796875, "vf_explained_var": 0.3265953063964844, "kl": 0.014215612784028053, "entropy": 1.5871559381484985, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 132000, "episodes_total": 131, "training_iteration": 33, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-33-34", "timestamp": 1565595214, "time_this_iter_s": 11.949148893356323, "time_total_s": 393.7469367980957, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 393.7469367980957, "timesteps_since_restore": 132000, "iterations_since_restore": 33, "perf": {"cpu_util_percent": 32.205882352941174, "ram_util_percent": 16.705882352941174}}
{"episode_reward_max": -2177.0, "episode_reward_min": -6428.0, "episode_reward_mean": -3579.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5432470785569411, "mean_processing_ms": 0.10245518947093615, "mean_inference_ms": 0.5941536960484944}, "off_policy_estimator": {}, "info": {"num_steps_trained": 134912, "num_steps_sampled": 136000, "sample_time_ms": 4889.118, "load_time_ms": 2.267, "grad_time_ms": 6854.772, "update_time_ms": 6.205, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 11541.044921875, "policy_loss": -0.030891653150320053, "vf_loss": 11541.0712890625, "vf_explained_var": 0.3597138226032257, "kl": 0.010319385677576065, "entropy": 1.5749635696411133, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 136000, "episodes_total": 135, "training_iteration": 34, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-33-45", "timestamp": 1565595225, "time_this_iter_s": 11.617610692977905, "time_total_s": 405.3645474910736, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 405.3645474910736, "timesteps_since_restore": 136000, "iterations_since_restore": 34, "perf": {"cpu_util_percent": 32.176470588235304, "ram_util_percent": 16.747058823529414}}
{"episode_reward_max": -2177.0, "episode_reward_min": -6428.0, "episode_reward_mean": -3511.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5421863761307903, "mean_processing_ms": 0.10244545889844588, "mean_inference_ms": 0.5936978123346287}, "off_policy_estimator": {}, "info": {"num_steps_trained": 138880, "num_steps_sampled": 140000, "sample_time_ms": 4962.258, "load_time_ms": 2.371, "grad_time_ms": 6889.202, "update_time_ms": 6.089, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 10444.9169921875, "policy_loss": -0.035292234271764755, "vf_loss": 10444.94921875, "vf_explained_var": 0.3889698386192322, "kl": 0.01158598717302084, "entropy": 1.5683226585388184, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 140000, "episodes_total": 139, "training_iteration": 35, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-33-58", "timestamp": 1565595238, "time_this_iter_s": 12.356814861297607, "time_total_s": 417.7213623523712, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 417.7213623523712, "timesteps_since_restore": 140000, "iterations_since_restore": 35, "perf": {"cpu_util_percent": 35.46666666666667, "ram_util_percent": 16.822222222222223}}
{"episode_reward_max": -2005.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3427.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5412419713855228, "mean_processing_ms": 0.10243131271087626, "mean_inference_ms": 0.5932956429876998}, "off_policy_estimator": {}, "info": {"num_steps_trained": 142848, "num_steps_sampled": 144000, "sample_time_ms": 4974.812, "load_time_ms": 2.344, "grad_time_ms": 6883.589, "update_time_ms": 5.826, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 12572.880859375, "policy_loss": -0.03122757002711296, "vf_loss": 12572.9091796875, "vf_explained_var": 0.3637027144432068, "kl": 0.010882020927965641, "entropy": 1.592521071434021, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 144000, "episodes_total": 143, "training_iteration": 36, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-34-10", "timestamp": 1565595250, "time_this_iter_s": 12.042906999588013, "time_total_s": 429.76426935195923, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 429.76426935195923, "timesteps_since_restore": 144000, "iterations_since_restore": 36, "perf": {"cpu_util_percent": 32.01176470588235, "ram_util_percent": 16.9}}
{"episode_reward_max": -2005.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3367.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.540484990316382, "mean_processing_ms": 0.10243872765694721, "mean_inference_ms": 0.5931007147127433}, "off_policy_estimator": {}, "info": {"num_steps_trained": 146816, "num_steps_sampled": 148000, "sample_time_ms": 4974.862, "load_time_ms": 2.296, "grad_time_ms": 6871.941, "update_time_ms": 5.912, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 7762.36181640625, "policy_loss": -0.029590608552098274, "vf_loss": 7762.3876953125, "vf_explained_var": 0.34948310256004333, "kl": 0.012868989259004593, "entropy": 1.5552319288253784, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 148000, "episodes_total": 147, "training_iteration": 37, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-34-22", "timestamp": 1565595262, "time_this_iter_s": 11.897673845291138, "time_total_s": 441.66194319725037, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 441.66194319725037, "timesteps_since_restore": 148000, "iterations_since_restore": 37, "perf": {"cpu_util_percent": 32.2235294117647, "ram_util_percent": 16.85882352941176}}
{"episode_reward_max": -2005.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3279.72, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5398006574427048, "mean_processing_ms": 0.10245105988455806, "mean_inference_ms": 0.5929796948372815}, "off_policy_estimator": {}, "info": {"num_steps_trained": 150784, "num_steps_sampled": 152000, "sample_time_ms": 4973.666, "load_time_ms": 2.327, "grad_time_ms": 6878.88, "update_time_ms": 5.866, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 8511.56640625, "policy_loss": -0.030864154919981956, "vf_loss": 8511.595703125, "vf_explained_var": 0.42276039719581604, "kl": 0.010811669752001762, "entropy": 1.571638822555542, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 152000, "episodes_total": 151, "training_iteration": 38, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-34-34", "timestamp": 1565595274, "time_this_iter_s": 11.814244270324707, "time_total_s": 453.4761874675751, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 453.4761874675751, "timesteps_since_restore": 152000, "iterations_since_restore": 38, "perf": {"cpu_util_percent": 33.27058823529413, "ram_util_percent": 16.870588235294115}}
{"episode_reward_max": -2005.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3219.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5392616968504261, "mean_processing_ms": 0.10248862325523767, "mean_inference_ms": 0.5929917888060499}, "off_policy_estimator": {}, "info": {"num_steps_trained": 154752, "num_steps_sampled": 156000, "sample_time_ms": 4978.555, "load_time_ms": 2.291, "grad_time_ms": 6837.051, "update_time_ms": 5.884, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5815.18994140625, "policy_loss": -0.026789972558617592, "vf_loss": 5815.212890625, "vf_explained_var": 0.3282718062400818, "kl": 0.013370828703045845, "entropy": 1.5296345949172974, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 156000, "episodes_total": 155, "training_iteration": 39, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-34-45", "timestamp": 1565595285, "time_this_iter_s": 11.496634483337402, "time_total_s": 464.9728219509125, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 464.9728219509125, "timesteps_since_restore": 156000, "iterations_since_restore": 39, "perf": {"cpu_util_percent": 31.35625, "ram_util_percent": 16.8625}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3168.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5387761268748408, "mean_processing_ms": 0.10252822414868927, "mean_inference_ms": 0.5930316327039516}, "off_policy_estimator": {}, "info": {"num_steps_trained": 158720, "num_steps_sampled": 160000, "sample_time_ms": 5009.447, "load_time_ms": 2.138, "grad_time_ms": 6843.765, "update_time_ms": 5.94, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 8965.17578125, "policy_loss": -0.02939402498304844, "vf_loss": 8965.19921875, "vf_explained_var": 0.38051334023475647, "kl": 0.012491011992096901, "entropy": 1.5395960807800293, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 160000, "episodes_total": 159, "training_iteration": 40, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-34-57", "timestamp": 1565595297, "time_this_iter_s": 12.107583045959473, "time_total_s": 477.08040499687195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 477.08040499687195, "timesteps_since_restore": 160000, "iterations_since_restore": 40, "perf": {"cpu_util_percent": 33.17058823529412, "ram_util_percent": 16.81764705882353}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3125.65, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5383381933755195, "mean_processing_ms": 0.1025609457117233, "mean_inference_ms": 0.5930660336849976}, "off_policy_estimator": {}, "info": {"num_steps_trained": 162688, "num_steps_sampled": 164000, "sample_time_ms": 5078.616, "load_time_ms": 2.076, "grad_time_ms": 6838.042, "update_time_ms": 5.911, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6859.92138671875, "policy_loss": -0.033673398196697235, "vf_loss": 6859.951171875, "vf_explained_var": 0.3948720693588257, "kl": 0.012841825373470783, "entropy": 1.514125108718872, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 164000, "episodes_total": 163, "training_iteration": 41, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-35-09", "timestamp": 1565595309, "time_this_iter_s": 12.129971027374268, "time_total_s": 489.2103760242462, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 489.2103760242462, "timesteps_since_restore": 164000, "iterations_since_restore": 41, "perf": {"cpu_util_percent": 32.166666666666664, "ram_util_percent": 16.900000000000002}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3082.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5379832497962433, "mean_processing_ms": 0.10259814014753765, "mean_inference_ms": 0.5931449641527714}, "off_policy_estimator": {}, "info": {"num_steps_trained": 166656, "num_steps_sampled": 168000, "sample_time_ms": 5093.872, "load_time_ms": 2.124, "grad_time_ms": 6823.92, "update_time_ms": 6.776, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 7057.13818359375, "policy_loss": -0.02374313585460186, "vf_loss": 7057.15966796875, "vf_explained_var": 0.34711596369743347, "kl": 0.009243359789252281, "entropy": 1.504582166671753, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 168000, "episodes_total": 167, "training_iteration": 42, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-35-21", "timestamp": 1565595321, "time_this_iter_s": 11.960066556930542, "time_total_s": 501.17044258117676, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 501.17044258117676, "timesteps_since_restore": 168000, "iterations_since_restore": 42, "perf": {"cpu_util_percent": 32.50000000000001, "ram_util_percent": 16.847058823529412}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3032.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5376642239590201, "mean_processing_ms": 0.10264615193469805, "mean_inference_ms": 0.5932260929946436}, "off_policy_estimator": {}, "info": {"num_steps_trained": 170624, "num_steps_sampled": 172000, "sample_time_ms": 5122.256, "load_time_ms": 2.087, "grad_time_ms": 6846.872, "update_time_ms": 6.694, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6604.517578125, "policy_loss": -0.03237204998731613, "vf_loss": 6604.54638671875, "vf_explained_var": 0.3891853988170624, "kl": 0.011124112643301487, "entropy": 1.4921507835388184, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 172000, "episodes_total": 171, "training_iteration": 43, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-35-34", "timestamp": 1565595334, "time_this_iter_s": 12.45812726020813, "time_total_s": 513.6285698413849, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 513.6285698413849, "timesteps_since_restore": 172000, "iterations_since_restore": 43, "perf": {"cpu_util_percent": 32.71764705882353, "ram_util_percent": 16.858823529411765}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -3000.76, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5373852381255138, "mean_processing_ms": 0.1026964353378774, "mean_inference_ms": 0.5933302409540682}, "off_policy_estimator": {}, "info": {"num_steps_trained": 174592, "num_steps_sampled": 176000, "sample_time_ms": 5184.036, "load_time_ms": 2.19, "grad_time_ms": 6822.859, "update_time_ms": 6.948, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6537.54345703125, "policy_loss": -0.026524905115365982, "vf_loss": 6537.56640625, "vf_explained_var": 0.4026777148246765, "kl": 0.011767638847231865, "entropy": 1.4560476541519165, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 176000, "episodes_total": 175, "training_iteration": 44, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-35-46", "timestamp": 1565595346, "time_this_iter_s": 11.993092775344849, "time_total_s": 525.6216626167297, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 525.6216626167297, "timesteps_since_restore": 176000, "iterations_since_restore": 44, "perf": {"cpu_util_percent": 33.31111111111111, "ram_util_percent": 16.87222222222222}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -2952.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5372033726429981, "mean_processing_ms": 0.10276749534508217, "mean_inference_ms": 0.5934996515426991}, "off_policy_estimator": {}, "info": {"num_steps_trained": 178560, "num_steps_sampled": 180000, "sample_time_ms": 5158.847, "load_time_ms": 1.961, "grad_time_ms": 6818.763, "update_time_ms": 6.933, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5470.861328125, "policy_loss": -0.027903474867343903, "vf_loss": 5470.884765625, "vf_explained_var": 0.29939138889312744, "kl": 0.011767483316361904, "entropy": 1.4624608755111694, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 180000, "episodes_total": 179, "training_iteration": 45, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-35-58", "timestamp": 1565595358, "time_this_iter_s": 12.06069803237915, "time_total_s": 537.6823606491089, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 537.6823606491089, "timesteps_since_restore": 180000, "iterations_since_restore": 45, "perf": {"cpu_util_percent": 32.0, "ram_util_percent": 16.900000000000006}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -2903.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5370886699595419, "mean_processing_ms": 0.10284063283567944, "mean_inference_ms": 0.5937574690457236}, "off_policy_estimator": {}, "info": {"num_steps_trained": 182528, "num_steps_sampled": 184000, "sample_time_ms": 5159.202, "load_time_ms": 1.868, "grad_time_ms": 6843.761, "update_time_ms": 6.827, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5428.34814453125, "policy_loss": -0.029117068275809288, "vf_loss": 5428.3740234375, "vf_explained_var": 0.48137158155441284, "kl": 0.010429471731185913, "entropy": 1.4508219957351685, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 184000, "episodes_total": 183, "training_iteration": 46, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-36-10", "timestamp": 1565595370, "time_this_iter_s": 12.299240112304688, "time_total_s": 549.9816007614136, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 549.9816007614136, "timesteps_since_restore": 184000, "iterations_since_restore": 46, "perf": {"cpu_util_percent": 32.77058823529411, "ram_util_percent": 16.91764705882353}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -2841.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5369467587903282, "mean_processing_ms": 0.10290433905188281, "mean_inference_ms": 0.593965074280203}, "off_policy_estimator": {}, "info": {"num_steps_trained": 186496, "num_steps_sampled": 188000, "sample_time_ms": 5170.278, "load_time_ms": 1.942, "grad_time_ms": 6802.157, "update_time_ms": 6.927, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4934.72314453125, "policy_loss": -0.03045898862183094, "vf_loss": 4934.751953125, "vf_explained_var": 0.4287666976451874, "kl": 0.0107728885486722, "entropy": 1.444640874862671, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 188000, "episodes_total": 187, "training_iteration": 47, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-36-22", "timestamp": 1565595382, "time_this_iter_s": 11.59494423866272, "time_total_s": 561.5765450000763, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 561.5765450000763, "timesteps_since_restore": 188000, "iterations_since_restore": 47, "perf": {"cpu_util_percent": 32.1764705882353, "ram_util_percent": 16.852941176470587}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -2791.93, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5368543740424827, "mean_processing_ms": 0.10296936932352235, "mean_inference_ms": 0.5942012920972851}, "off_policy_estimator": {}, "info": {"num_steps_trained": 190464, "num_steps_sampled": 192000, "sample_time_ms": 5187.474, "load_time_ms": 1.798, "grad_time_ms": 6813.89, "update_time_ms": 7.026, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4122.05810546875, "policy_loss": -0.026306411251425743, "vf_loss": 4122.08056640625, "vf_explained_var": 0.5733252167701721, "kl": 0.011688966304063797, "entropy": 1.4588032960891724, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 192000, "episodes_total": 191, "training_iteration": 48, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-36-34", "timestamp": 1565595394, "time_this_iter_s": 12.104237079620361, "time_total_s": 573.6807820796967, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 573.6807820796967, "timesteps_since_restore": 192000, "iterations_since_restore": 48, "perf": {"cpu_util_percent": 32.71764705882352, "ram_util_percent": 16.876470588235296}}
{"episode_reward_max": -1781.0, "episode_reward_min": -5832.0, "episode_reward_mean": -2730.95, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367562959379347, "mean_processing_ms": 0.10302559313847041, "mean_inference_ms": 0.5943871015951134}, "off_policy_estimator": {}, "info": {"num_steps_trained": 194432, "num_steps_sampled": 196000, "sample_time_ms": 5191.551, "load_time_ms": 1.827, "grad_time_ms": 6846.375, "update_time_ms": 6.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4238.16796875, "policy_loss": -0.026998842135071754, "vf_loss": 4238.19189453125, "vf_explained_var": 0.5137934684753418, "kl": 0.010043217800557613, "entropy": 1.4506152868270874, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 196000, "episodes_total": 195, "training_iteration": 49, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-36-46", "timestamp": 1565595406, "time_this_iter_s": 11.860195875167847, "time_total_s": 585.5409779548645, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 585.5409779548645, "timesteps_since_restore": 196000, "iterations_since_restore": 49, "perf": {"cpu_util_percent": 31.952941176470592, "ram_util_percent": 16.876470588235296}}
{"episode_reward_max": -1563.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2663.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.536736129438616, "mean_processing_ms": 0.1030977092923822, "mean_inference_ms": 0.5946354172966505}, "off_policy_estimator": {}, "info": {"num_steps_trained": 198400, "num_steps_sampled": 200000, "sample_time_ms": 5209.17, "load_time_ms": 1.979, "grad_time_ms": 6832.706, "update_time_ms": 6.907, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4192.333984375, "policy_loss": -0.028472360223531723, "vf_loss": 4192.35888671875, "vf_explained_var": 0.37695345282554626, "kl": 0.012363988906145096, "entropy": 1.437009572982788, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 200000, "episodes_total": 199, "training_iteration": 50, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-36-58", "timestamp": 1565595418, "time_this_iter_s": 12.147200345993042, "time_total_s": 597.6881783008575, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 597.6881783008575, "timesteps_since_restore": 200000, "iterations_since_restore": 50, "perf": {"cpu_util_percent": 31.88235294117647, "ram_util_percent": 16.91764705882353}}
{"episode_reward_max": -1563.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2630.43, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367260075286598, "mean_processing_ms": 0.10316360620532042, "mean_inference_ms": 0.5948674558839376}, "off_policy_estimator": {}, "info": {"num_steps_trained": 202368, "num_steps_sampled": 204000, "sample_time_ms": 5210.045, "load_time_ms": 2.103, "grad_time_ms": 6833.752, "update_time_ms": 6.683, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4572.22216796875, "policy_loss": -0.027681060135364532, "vf_loss": 4572.24755859375, "vf_explained_var": 0.5740935206413269, "kl": 0.010503039695322514, "entropy": 1.4413436651229858, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 204000, "episodes_total": 203, "training_iteration": 51, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-37-10", "timestamp": 1565595430, "time_this_iter_s": 12.145826816558838, "time_total_s": 609.8340051174164, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 609.8340051174164, "timesteps_since_restore": 204000, "iterations_since_restore": 51, "perf": {"cpu_util_percent": 31.966666666666672, "ram_util_percent": 16.96111111111111}}
{"episode_reward_max": -1563.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2573.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367092702186229, "mean_processing_ms": 0.10322602991842224, "mean_inference_ms": 0.5950822915249545}, "off_policy_estimator": {}, "info": {"num_steps_trained": 206336, "num_steps_sampled": 208000, "sample_time_ms": 5189.555, "load_time_ms": 2.112, "grad_time_ms": 6845.875, "update_time_ms": 7.55, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3649.626708984375, "policy_loss": -0.027999088168144226, "vf_loss": 3649.651611328125, "vf_explained_var": 0.6106791496276855, "kl": 0.011411073617637157, "entropy": 1.4126509428024292, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 208000, "episodes_total": 207, "training_iteration": 52, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-37-22", "timestamp": 1565595442, "time_this_iter_s": 11.880868673324585, "time_total_s": 621.714873790741, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 621.714873790741, "timesteps_since_restore": 208000, "iterations_since_restore": 52, "perf": {"cpu_util_percent": 32.83529411764706, "ram_util_percent": 16.911764705882355}}
{"episode_reward_max": -1563.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2531.87, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5366907940842737, "mean_processing_ms": 0.10327975263440621, "mean_inference_ms": 0.5952695784198277}, "off_policy_estimator": {}, "info": {"num_steps_trained": 210304, "num_steps_sampled": 212000, "sample_time_ms": 5109.17, "load_time_ms": 2.208, "grad_time_ms": 6834.889, "update_time_ms": 7.884, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3260.685546875, "policy_loss": -0.02843422256410122, "vf_loss": 3260.710693359375, "vf_explained_var": 0.5722216367721558, "kl": 0.011003626510500908, "entropy": 1.430569052696228, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 212000, "episodes_total": 211, "training_iteration": 53, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-37-34", "timestamp": 1565595454, "time_this_iter_s": 11.553089618682861, "time_total_s": 633.2679634094238, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 633.2679634094238, "timesteps_since_restore": 212000, "iterations_since_restore": 53, "perf": {"cpu_util_percent": 31.175, "ram_util_percent": 16.925}}
{"episode_reward_max": -1563.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2469.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5366809597573221, "mean_processing_ms": 0.10333538827527405, "mean_inference_ms": 0.5954632074173276}, "off_policy_estimator": {}, "info": {"num_steps_trained": 214272, "num_steps_sampled": 216000, "sample_time_ms": 5073.312, "load_time_ms": 2.216, "grad_time_ms": 6864.683, "update_time_ms": 7.791, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4749.45947265625, "policy_loss": -0.0268660057336092, "vf_loss": 4749.4833984375, "vf_explained_var": 0.5665528774261475, "kl": 0.011206856928765774, "entropy": 1.4195901155471802, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 216000, "episodes_total": 215, "training_iteration": 54, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-37-46", "timestamp": 1565595466, "time_this_iter_s": 11.933449745178223, "time_total_s": 645.201413154602, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 645.201413154602, "timesteps_since_restore": 216000, "iterations_since_restore": 54, "perf": {"cpu_util_percent": 31.982352941176465, "ram_util_percent": 16.941176470588236}}
{"episode_reward_max": -1380.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2416.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367111719952777, "mean_processing_ms": 0.10339739432060131, "mean_inference_ms": 0.5957016860906006}, "off_policy_estimator": {}, "info": {"num_steps_trained": 218240, "num_steps_sampled": 220000, "sample_time_ms": 5062.914, "load_time_ms": 2.343, "grad_time_ms": 6875.26, "update_time_ms": 7.847, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3738.310791015625, "policy_loss": -0.03072335012257099, "vf_loss": 3738.338134765625, "vf_explained_var": 0.5285643339157104, "kl": 0.010373054072260857, "entropy": 1.405763030052185, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 220000, "episodes_total": 219, "training_iteration": 55, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-37-58", "timestamp": 1565595478, "time_this_iter_s": 12.067715167999268, "time_total_s": 657.2691283226013, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 657.2691283226013, "timesteps_since_restore": 220000, "iterations_since_restore": 55, "perf": {"cpu_util_percent": 33.688235294117646, "ram_util_percent": 16.9}}
{"episode_reward_max": -1380.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2358.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367907664999799, "mean_processing_ms": 0.10346941441406252, "mean_inference_ms": 0.5959916020417793}, "off_policy_estimator": {}, "info": {"num_steps_trained": 222208, "num_steps_sampled": 224000, "sample_time_ms": 5011.598, "load_time_ms": 2.473, "grad_time_ms": 6868.327, "update_time_ms": 7.888, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4786.13232421875, "policy_loss": -0.027313871309161186, "vf_loss": 4786.15771484375, "vf_explained_var": 0.49521979689598083, "kl": 0.009405482560396194, "entropy": 1.3973479270935059, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 224000, "episodes_total": 223, "training_iteration": 56, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-09", "timestamp": 1565595489, "time_this_iter_s": 11.718135833740234, "time_total_s": 668.9872641563416, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 668.9872641563416, "timesteps_since_restore": 224000, "iterations_since_restore": 56, "perf": {"cpu_util_percent": 30.835294117647056, "ram_util_percent": 16.95294117647059}}
{"episode_reward_max": -1380.0, "episode_reward_min": -4583.0, "episode_reward_mean": -2311.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367965558377326, "mean_processing_ms": 0.10352419804986246, "mean_inference_ms": 0.5961985297247533}, "off_policy_estimator": {}, "info": {"num_steps_trained": 226176, "num_steps_sampled": 228000, "sample_time_ms": 4897.626, "load_time_ms": 2.499, "grad_time_ms": 6763.57, "update_time_ms": 7.781, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3501.097412109375, "policy_loss": -0.030443213880062103, "vf_loss": 3501.124267578125, "vf_explained_var": 0.45740899443626404, "kl": 0.011519684456288815, "entropy": 1.3710322380065918, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 228000, "episodes_total": 227, "training_iteration": 57, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-19", "timestamp": 1565595499, "time_this_iter_s": 9.406982660293579, "time_total_s": 678.3942468166351, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 678.3942468166351, "timesteps_since_restore": 228000, "iterations_since_restore": 57, "perf": {"cpu_util_percent": 32.24285714285714, "ram_util_percent": 15.957142857142859}}
{"episode_reward_max": -1380.0, "episode_reward_min": -3862.0, "episode_reward_mean": -2241.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367541484497075, "mean_processing_ms": 0.10357375982257701, "mean_inference_ms": 0.5963417384766991}, "off_policy_estimator": {}, "info": {"num_steps_trained": 230144, "num_steps_sampled": 232000, "sample_time_ms": 4853.896, "load_time_ms": 2.498, "grad_time_ms": 6585.187, "update_time_ms": 7.754, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3773.312744140625, "policy_loss": -0.025632180273532867, "vf_loss": 3773.3349609375, "vf_explained_var": 0.45837461948394775, "kl": 0.011322828009724617, "entropy": 1.333164095878601, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 232000, "episodes_total": 231, "training_iteration": 58, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-29", "timestamp": 1565595509, "time_this_iter_s": 9.881014347076416, "time_total_s": 688.2752611637115, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 688.2752611637115, "timesteps_since_restore": 232000, "iterations_since_restore": 58, "perf": {"cpu_util_percent": 41.114285714285714, "ram_util_percent": 15.400000000000002}}
{"episode_reward_max": -1264.0, "episode_reward_min": -3862.0, "episode_reward_mean": -2192.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5367377457604654, "mean_processing_ms": 0.10363590419345449, "mean_inference_ms": 0.5964672947467864}, "off_policy_estimator": {}, "info": {"num_steps_trained": 234112, "num_steps_sampled": 236000, "sample_time_ms": 4814.161, "load_time_ms": 2.426, "grad_time_ms": 6404.753, "update_time_ms": 7.785, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4031.57080078125, "policy_loss": -0.021144885569810867, "vf_loss": 4031.589599609375, "vf_explained_var": 0.4061325788497925, "kl": 0.007819476537406445, "entropy": 1.3212916851043701, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 236000, "episodes_total": 235, "training_iteration": 59, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-38", "timestamp": 1565595518, "time_this_iter_s": 9.65218734741211, "time_total_s": 697.9274485111237, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 697.9274485111237, "timesteps_since_restore": 236000, "iterations_since_restore": 59, "perf": {"cpu_util_percent": 39.71538461538462, "ram_util_percent": 15.400000000000002}}
{"episode_reward_max": -1215.0, "episode_reward_min": -3862.0, "episode_reward_mean": -2150.27, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5366439404546933, "mean_processing_ms": 0.1036719956886541, "mean_inference_ms": 0.5965049906855255}, "off_policy_estimator": {}, "info": {"num_steps_trained": 238080, "num_steps_sampled": 240000, "sample_time_ms": 4756.177, "load_time_ms": 2.306, "grad_time_ms": 6242.996, "update_time_ms": 7.544, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4345.20556640625, "policy_loss": -0.030690442770719528, "vf_loss": 4345.23388671875, "vf_explained_var": 0.5249965786933899, "kl": 0.009413677267730236, "entropy": 1.3168877363204956, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 240000, "episodes_total": 239, "training_iteration": 60, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-48", "timestamp": 1565595528, "time_this_iter_s": 9.950064420700073, "time_total_s": 707.8775129318237, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 707.8775129318237, "timesteps_since_restore": 240000, "iterations_since_restore": 60, "perf": {"cpu_util_percent": 40.38, "ram_util_percent": 15.413333333333334}}
{"episode_reward_max": -1215.0, "episode_reward_min": -3304.0, "episode_reward_mean": -2103.17, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5365076441590788, "mean_processing_ms": 0.10370222984548803, "mean_inference_ms": 0.5964667197075335}, "off_policy_estimator": {}, "info": {"num_steps_trained": 242048, "num_steps_sampled": 244000, "sample_time_ms": 4702.154, "load_time_ms": 2.249, "grad_time_ms": 6064.271, "update_time_ms": 7.749, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3481.72412109375, "policy_loss": -0.028822023421525955, "vf_loss": 3481.749755859375, "vf_explained_var": 0.36231938004493713, "kl": 0.010157194919884205, "entropy": 1.3380396366119385, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 244000, "episodes_total": 243, "training_iteration": 61, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-38-58", "timestamp": 1565595538, "time_this_iter_s": 9.821346998214722, "time_total_s": 717.6988599300385, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 717.6988599300385, "timesteps_since_restore": 244000, "iterations_since_restore": 61, "perf": {"cpu_util_percent": 41.23571428571428, "ram_util_percent": 15.5}}
{"episode_reward_max": -1215.0, "episode_reward_min": -3304.0, "episode_reward_mean": -2064.02, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5363533008669574, "mean_processing_ms": 0.10373240107291966, "mean_inference_ms": 0.5963722864279692}, "off_policy_estimator": {}, "info": {"num_steps_trained": 246016, "num_steps_sampled": 248000, "sample_time_ms": 4665.418, "load_time_ms": 2.108, "grad_time_ms": 5899.411, "update_time_ms": 6.087, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3250.99072265625, "policy_loss": -0.031230082735419273, "vf_loss": 3251.01806640625, "vf_explained_var": 0.3379187285900116, "kl": 0.013197501190006733, "entropy": 1.3272532224655151, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 248000, "episodes_total": 247, "training_iteration": 62, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-08", "timestamp": 1565595548, "time_this_iter_s": 9.848003387451172, "time_total_s": 727.5468633174896, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 727.5468633174896, "timesteps_since_restore": 248000, "iterations_since_restore": 62, "perf": {"cpu_util_percent": 40.800000000000004, "ram_util_percent": 15.5}}
{"episode_reward_max": -1215.0, "episode_reward_min": -3304.0, "episode_reward_mean": -2032.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5362147985425086, "mean_processing_ms": 0.10376520396875973, "mean_inference_ms": 0.5962638768675107}, "off_policy_estimator": {}, "info": {"num_steps_trained": 249984, "num_steps_sampled": 252000, "sample_time_ms": 4684.048, "load_time_ms": 2.043, "grad_time_ms": 5724.147, "update_time_ms": 5.848, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3685.3955078125, "policy_loss": -0.02039029635488987, "vf_loss": 3685.413330078125, "vf_explained_var": 0.37367916107177734, "kl": 0.008495699614286423, "entropy": 1.3093321323394775, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 252000, "episodes_total": 251, "training_iteration": 63, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-18", "timestamp": 1565595558, "time_this_iter_s": 9.980213642120361, "time_total_s": 737.52707695961, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 737.52707695961, "timesteps_since_restore": 252000, "iterations_since_restore": 63, "perf": {"cpu_util_percent": 40.52857142857143, "ram_util_percent": 15.5}}
{"episode_reward_max": -1215.0, "episode_reward_min": -3304.0, "episode_reward_mean": -2000.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.536087271442021, "mean_processing_ms": 0.10380362609076908, "mean_inference_ms": 0.5961200623500426}, "off_policy_estimator": {}, "info": {"num_steps_trained": 253952, "num_steps_sampled": 256000, "sample_time_ms": 4667.549, "load_time_ms": 1.903, "grad_time_ms": 5554.01, "update_time_ms": 5.766, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3720.583740234375, "policy_loss": -0.027216659858822823, "vf_loss": 3720.607177734375, "vf_explained_var": 0.34396716952323914, "kl": 0.011125304736196995, "entropy": 1.31941819190979, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 256000, "episodes_total": 255, "training_iteration": 64, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-28", "timestamp": 1565595568, "time_this_iter_s": 10.066793441772461, "time_total_s": 747.5938704013824, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 747.5938704013824, "timesteps_since_restore": 256000, "iterations_since_restore": 64, "perf": {"cpu_util_percent": 42.32142857142857, "ram_util_percent": 15.5}}
{"episode_reward_max": -1159.0, "episode_reward_min": -3006.0, "episode_reward_mean": -1974.02, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5359493186892976, "mean_processing_ms": 0.10384559700510344, "mean_inference_ms": 0.5959400738257385}, "off_policy_estimator": {}, "info": {"num_steps_trained": 257920, "num_steps_sampled": 260000, "sample_time_ms": 4638.845, "load_time_ms": 1.756, "grad_time_ms": 5387.656, "update_time_ms": 5.892, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4906.08837890625, "policy_loss": -0.02643200010061264, "vf_loss": 4906.11181640625, "vf_explained_var": 0.39631927013397217, "kl": 0.009230508469045162, "entropy": 1.2957662343978882, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 260000, "episodes_total": 259, "training_iteration": 65, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-38", "timestamp": 1565595578, "time_this_iter_s": 10.11146879196167, "time_total_s": 757.7053391933441, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 757.7053391933441, "timesteps_since_restore": 260000, "iterations_since_restore": 65, "perf": {"cpu_util_percent": 40.32666666666667, "ram_util_percent": 15.5}}
{"episode_reward_max": -1159.0, "episode_reward_min": -2781.0, "episode_reward_mean": -1924.41, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5357689584308336, "mean_processing_ms": 0.10388317127406257, "mean_inference_ms": 0.5957096605421459}, "off_policy_estimator": {}, "info": {"num_steps_trained": 261888, "num_steps_sampled": 264000, "sample_time_ms": 4626.809, "load_time_ms": 1.604, "grad_time_ms": 5221.155, "update_time_ms": 5.839, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3311.7431640625, "policy_loss": -0.024440323933959007, "vf_loss": 3311.7646484375, "vf_explained_var": 0.2823655605316162, "kl": 0.009970980696380138, "entropy": 1.2741650342941284, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 264000, "episodes_total": 263, "training_iteration": 66, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-48", "timestamp": 1565595588, "time_this_iter_s": 9.92277979850769, "time_total_s": 767.6281189918518, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 767.6281189918518, "timesteps_since_restore": 264000, "iterations_since_restore": 66, "perf": {"cpu_util_percent": 40.9, "ram_util_percent": 15.5}}
{"episode_reward_max": -1159.0, "episode_reward_min": -2781.0, "episode_reward_mean": -1891.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5355720526279424, "mean_processing_ms": 0.10391633802182784, "mean_inference_ms": 0.5954390115750456}, "off_policy_estimator": {}, "info": {"num_steps_trained": 265856, "num_steps_sampled": 268000, "sample_time_ms": 4700.182, "load_time_ms": 1.513, "grad_time_ms": 5218.752, "update_time_ms": 5.851, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3287.93896484375, "policy_loss": -0.02464960142970085, "vf_loss": 3287.960693359375, "vf_explained_var": 0.3224460482597351, "kl": 0.008489926345646381, "entropy": 1.2838118076324463, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 268000, "episodes_total": 267, "training_iteration": 67, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-39-58", "timestamp": 1565595598, "time_this_iter_s": 10.115111351013184, "time_total_s": 777.743230342865, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 777.743230342865, "timesteps_since_restore": 268000, "iterations_since_restore": 67, "perf": {"cpu_util_percent": 41.40714285714286, "ram_util_percent": 15.585714285714284}}
{"episode_reward_max": -1149.0, "episode_reward_min": -2781.0, "episode_reward_mean": -1856.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5353366291055388, "mean_processing_ms": 0.10394000861834468, "mean_inference_ms": 0.5950985694242737}, "off_policy_estimator": {}, "info": {"num_steps_trained": 269824, "num_steps_sampled": 272000, "sample_time_ms": 4721.069, "load_time_ms": 1.62, "grad_time_ms": 5210.718, "update_time_ms": 5.876, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4400.00634765625, "policy_loss": -0.02226385846734047, "vf_loss": 4400.0263671875, "vf_explained_var": 0.353753924369812, "kl": 0.007956026121973991, "entropy": 1.2355595827102661, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 272000, "episodes_total": 271, "training_iteration": 68, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-40-08", "timestamp": 1565595608, "time_this_iter_s": 10.01128888130188, "time_total_s": 787.7545192241669, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 787.7545192241669, "timesteps_since_restore": 272000, "iterations_since_restore": 68, "perf": {"cpu_util_percent": 41.31333333333334, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -1149.0, "episode_reward_min": -2781.0, "episode_reward_mean": -1835.41, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5350584300846, "mean_processing_ms": 0.10395289947178292, "mean_inference_ms": 0.5946951448643959}, "off_policy_estimator": {}, "info": {"num_steps_trained": 273792, "num_steps_sampled": 276000, "sample_time_ms": 4720.541, "load_time_ms": 1.662, "grad_time_ms": 5220.676, "update_time_ms": 5.905, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4099.4599609375, "policy_loss": -0.0222475528717041, "vf_loss": 4099.47998046875, "vf_explained_var": 0.3157755136489868, "kl": 0.008833677507936954, "entropy": 1.259100317955017, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 276000, "episodes_total": 275, "training_iteration": 69, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-40-18", "timestamp": 1565595618, "time_this_iter_s": 9.749062538146973, "time_total_s": 797.5035817623138, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 797.5035817623138, "timesteps_since_restore": 276000, "iterations_since_restore": 69, "perf": {"cpu_util_percent": 40.48571428571429, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -1149.0, "episode_reward_min": -2781.0, "episode_reward_mean": -1818.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5347396237128341, "mean_processing_ms": 0.10395959505887355, "mean_inference_ms": 0.5942443285414762}, "off_policy_estimator": {}, "info": {"num_steps_trained": 277760, "num_steps_sampled": 280000, "sample_time_ms": 4712.271, "load_time_ms": 1.63, "grad_time_ms": 5236.179, "update_time_ms": 6.03, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4425.24072265625, "policy_loss": -0.021224312484264374, "vf_loss": 4425.25927734375, "vf_explained_var": 0.38358357548713684, "kl": 0.008756290189921856, "entropy": 1.2850068807601929, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 280000, "episodes_total": 279, "training_iteration": 70, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-40-28", "timestamp": 1565595628, "time_this_iter_s": 10.021011352539062, "time_total_s": 807.5245931148529, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 807.5245931148529, "timesteps_since_restore": 280000, "iterations_since_restore": 70, "perf": {"cpu_util_percent": 41.41428571428571, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2544.0, "episode_reward_mean": -1786.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.534397496080974, "mean_processing_ms": 0.10395677456004548, "mean_inference_ms": 0.593754630878581}, "off_policy_estimator": {}, "info": {"num_steps_trained": 281728, "num_steps_sampled": 284000, "sample_time_ms": 4724.53, "load_time_ms": 1.673, "grad_time_ms": 5191.554, "update_time_ms": 6.227, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3919.705810546875, "policy_loss": -0.027719248086214066, "vf_loss": 3919.72998046875, "vf_explained_var": 0.30919894576072693, "kl": 0.011360262520611286, "entropy": 1.2329165935516357, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 284000, "episodes_total": 283, "training_iteration": 71, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-40-38", "timestamp": 1565595638, "time_this_iter_s": 9.499388933181763, "time_total_s": 817.0239820480347, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 817.0239820480347, "timesteps_since_restore": 284000, "iterations_since_restore": 71, "perf": {"cpu_util_percent": 38.60769230769231, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2544.0, "episode_reward_mean": -1761.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5340738927345439, "mean_processing_ms": 0.10395158300697062, "mean_inference_ms": 0.5932910066862168}, "off_policy_estimator": {}, "info": {"num_steps_trained": 285696, "num_steps_sampled": 288000, "sample_time_ms": 4809.935, "load_time_ms": 1.809, "grad_time_ms": 5345.964, "update_time_ms": 6.097, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4321.85546875, "policy_loss": -0.028156377375125885, "vf_loss": 4321.87939453125, "vf_explained_var": 0.2999245822429657, "kl": 0.014489966444671154, "entropy": 1.2011913061141968, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 288000, "episodes_total": 287, "training_iteration": 72, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-40-50", "timestamp": 1565595650, "time_this_iter_s": 12.24904203414917, "time_total_s": 829.2730240821838, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 829.2730240821838, "timesteps_since_restore": 288000, "iterations_since_restore": 72, "perf": {"cpu_util_percent": 33.894444444444446, "ram_util_percent": 16.355555555555558}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2477.0, "episode_reward_mean": -1734.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5337704838889757, "mean_processing_ms": 0.10395152285692476, "mean_inference_ms": 0.5928480899494526}, "off_policy_estimator": {}, "info": {"num_steps_trained": 289664, "num_steps_sampled": 292000, "sample_time_ms": 4862.154, "load_time_ms": 1.772, "grad_time_ms": 5522.574, "update_time_ms": 6.387, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3648.6865234375, "policy_loss": -0.020872004330158234, "vf_loss": 3648.705078125, "vf_explained_var": 0.2738456428050995, "kl": 0.007388425525277853, "entropy": 1.2050515413284302, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 292000, "episodes_total": 291, "training_iteration": 73, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-41-02", "timestamp": 1565595662, "time_this_iter_s": 12.273555040359497, "time_total_s": 841.5465791225433, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 841.5465791225433, "timesteps_since_restore": 292000, "iterations_since_restore": 73, "perf": {"cpu_util_percent": 30.982352941176465, "ram_util_percent": 16.51764705882353}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2435.0, "episode_reward_mean": -1714.89, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.533456391353513, "mean_processing_ms": 0.10394767393537191, "mean_inference_ms": 0.5924010608809788}, "off_policy_estimator": {}, "info": {"num_steps_trained": 293632, "num_steps_sampled": 296000, "sample_time_ms": 4860.867, "load_time_ms": 1.826, "grad_time_ms": 5676.389, "update_time_ms": 6.44, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3671.951416015625, "policy_loss": -0.023661842569708824, "vf_loss": 3671.97216796875, "vf_explained_var": 0.3256368637084961, "kl": 0.009240640327334404, "entropy": 1.2023532390594482, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 296000, "episodes_total": 295, "training_iteration": 74, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-41-14", "timestamp": 1565595674, "time_this_iter_s": 11.593788623809814, "time_total_s": 853.1403677463531, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 853.1403677463531, "timesteps_since_restore": 296000, "iterations_since_restore": 74, "perf": {"cpu_util_percent": 31.341176470588234, "ram_util_percent": 16.558823529411764}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2435.0, "episode_reward_mean": -1690.75, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5331147309696267, "mean_processing_ms": 0.10393953528185093, "mean_inference_ms": 0.5919277837735822}, "off_policy_estimator": {}, "info": {"num_steps_trained": 297600, "num_steps_sampled": 300000, "sample_time_ms": 4864.91, "load_time_ms": 1.866, "grad_time_ms": 5799.467, "update_time_ms": 6.489, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3240.235107421875, "policy_loss": -0.024072647094726562, "vf_loss": 3240.255859375, "vf_explained_var": 0.19492864608764648, "kl": 0.012543619610369205, "entropy": 1.184552788734436, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 300000, "episodes_total": 299, "training_iteration": 75, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-41-25", "timestamp": 1565595685, "time_this_iter_s": 11.387699127197266, "time_total_s": 864.5280668735504, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 864.5280668735504, "timesteps_since_restore": 300000, "iterations_since_restore": 75, "perf": {"cpu_util_percent": 31.34375, "ram_util_percent": 16.58125}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1670.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5327499078427658, "mean_processing_ms": 0.10392760991525546, "mean_inference_ms": 0.5914368752694541}, "off_policy_estimator": {}, "info": {"num_steps_trained": 301568, "num_steps_sampled": 304000, "sample_time_ms": 4887.65, "load_time_ms": 2.009, "grad_time_ms": 5968.89, "update_time_ms": 6.449, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4497.02099609375, "policy_loss": -0.023031137883663177, "vf_loss": 4497.041015625, "vf_explained_var": 0.33858755230903625, "kl": 0.009676806628704071, "entropy": 1.1474190950393677, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 304000, "episodes_total": 303, "training_iteration": 76, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-41-37", "timestamp": 1565595697, "time_this_iter_s": 11.853360176086426, "time_total_s": 876.3814270496368, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 876.3814270496368, "timesteps_since_restore": 304000, "iterations_since_restore": 76, "perf": {"cpu_util_percent": 31.629411764705885, "ram_util_percent": 16.5764705882353}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1650.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5323983105529508, "mean_processing_ms": 0.10391996513891795, "mean_inference_ms": 0.5909551496698614}, "off_policy_estimator": {}, "info": {"num_steps_trained": 305536, "num_steps_sampled": 308000, "sample_time_ms": 4912.03, "load_time_ms": 2.11, "grad_time_ms": 6122.715, "update_time_ms": 6.528, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3770.571044921875, "policy_loss": -0.02058320678770542, "vf_loss": 3770.5888671875, "vf_explained_var": 0.3025215268135071, "kl": 0.009896458126604557, "entropy": 1.1470282077789307, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 308000, "episodes_total": 307, "training_iteration": 77, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-41-49", "timestamp": 1565595709, "time_this_iter_s": 11.898648262023926, "time_total_s": 888.2800753116608, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 888.2800753116608, "timesteps_since_restore": 308000, "iterations_since_restore": 77, "perf": {"cpu_util_percent": 31.599999999999994, "ram_util_percent": 16.61764705882353}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1635.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5320927456736699, "mean_processing_ms": 0.1039197050788895, "mean_inference_ms": 0.5905284743214904}, "off_policy_estimator": {}, "info": {"num_steps_trained": 309504, "num_steps_sampled": 312000, "sample_time_ms": 4949.427, "load_time_ms": 2.128, "grad_time_ms": 6281.959, "update_time_ms": 6.568, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5985.4228515625, "policy_loss": -0.022916533052921295, "vf_loss": 5985.4423828125, "vf_explained_var": 0.3793836832046509, "kl": 0.008235187269747257, "entropy": 1.1310462951660156, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 312000, "episodes_total": 311, "training_iteration": 78, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-42-01", "timestamp": 1565595721, "time_this_iter_s": 11.97798466682434, "time_total_s": 900.2580599784851, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 900.2580599784851, "timesteps_since_restore": 312000, "iterations_since_restore": 78, "perf": {"cpu_util_percent": 31.323529411764707, "ram_util_percent": 16.66470588235294}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1622.61, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5318064159255441, "mean_processing_ms": 0.10392334466061147, "mean_inference_ms": 0.5901178894946203}, "off_policy_estimator": {}, "info": {"num_steps_trained": 313472, "num_steps_sampled": 316000, "sample_time_ms": 5005.352, "load_time_ms": 2.113, "grad_time_ms": 6464.689, "update_time_ms": 8.404, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4976.501953125, "policy_loss": -0.02524096891283989, "vf_loss": 4976.5244140625, "vf_explained_var": 0.3623158931732178, "kl": 0.010249102488160133, "entropy": 1.1467336416244507, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 316000, "episodes_total": 315, "training_iteration": 79, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-42-13", "timestamp": 1565595733, "time_this_iter_s": 12.158271789550781, "time_total_s": 912.4163317680359, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 912.4163317680359, "timesteps_since_restore": 316000, "iterations_since_restore": 79, "perf": {"cpu_util_percent": 31.61111111111111, "ram_util_percent": 16.638888888888893}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1614.12, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5315228404453971, "mean_processing_ms": 0.10392460503007526, "mean_inference_ms": 0.5897058377088155}, "off_policy_estimator": {}, "info": {"num_steps_trained": 317440, "num_steps_sampled": 320000, "sample_time_ms": 5052.363, "load_time_ms": 2.398, "grad_time_ms": 6609.7, "update_time_ms": 8.428, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4190.76171875, "policy_loss": -0.020800136029720306, "vf_loss": 4190.77978515625, "vf_explained_var": 0.34992703795433044, "kl": 0.008902540430426598, "entropy": 1.1245050430297852, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 320000, "episodes_total": 319, "training_iteration": 80, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-42-25", "timestamp": 1565595745, "time_this_iter_s": 11.94408631324768, "time_total_s": 924.3604180812836, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 924.3604180812836, "timesteps_since_restore": 320000, "iterations_since_restore": 80, "perf": {"cpu_util_percent": 32.088235294117645, "ram_util_percent": 16.67058823529412}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1613.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5312395470761643, "mean_processing_ms": 0.10392280022073937, "mean_inference_ms": 0.5892902413779953}, "off_policy_estimator": {}, "info": {"num_steps_trained": 321408, "num_steps_sampled": 324000, "sample_time_ms": 5023.247, "load_time_ms": 2.469, "grad_time_ms": 6842.329, "update_time_ms": 8.418, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6482.93798828125, "policy_loss": -0.02611706592142582, "vf_loss": 6482.96044921875, "vf_explained_var": 0.417787104845047, "kl": 0.010999628342688084, "entropy": 1.1371403932571411, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 324000, "episodes_total": 323, "training_iteration": 81, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-42-37", "timestamp": 1565595757, "time_this_iter_s": 11.540161848068237, "time_total_s": 935.9005799293518, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 935.9005799293518, "timesteps_since_restore": 324000, "iterations_since_restore": 81, "perf": {"cpu_util_percent": 30.862499999999997, "ram_util_percent": 16.71875}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2432.0, "episode_reward_mean": -1623.99, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5310374285973165, "mean_processing_ms": 0.10393585636778878, "mean_inference_ms": 0.5889579791784617}, "off_policy_estimator": {}, "info": {"num_steps_trained": 325376, "num_steps_sampled": 328000, "sample_time_ms": 4977.959, "load_time_ms": 2.555, "grad_time_ms": 6857.968, "update_time_ms": 8.508, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6250.47509765625, "policy_loss": -0.026214176788926125, "vf_loss": 6250.4990234375, "vf_explained_var": 0.3547598421573639, "kl": 0.008695516735315323, "entropy": 1.1225284337997437, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 328000, "episodes_total": 327, "training_iteration": 82, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-42-49", "timestamp": 1565595769, "time_this_iter_s": 11.953454732894897, "time_total_s": 947.8540346622467, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 947.8540346622467, "timesteps_since_restore": 328000, "iterations_since_restore": 82, "perf": {"cpu_util_percent": 30.405882352941177, "ram_util_percent": 16.652941176470588}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1620.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5308617870576097, "mean_processing_ms": 0.10395016987783165, "mean_inference_ms": 0.5886737468968611}, "off_policy_estimator": {}, "info": {"num_steps_trained": 329344, "num_steps_sampled": 332000, "sample_time_ms": 4949.448, "load_time_ms": 2.759, "grad_time_ms": 6822.709, "update_time_ms": 8.228, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6949.875, "policy_loss": -0.030243918299674988, "vf_loss": 6949.9013671875, "vf_explained_var": 0.3582969605922699, "kl": 0.00986899621784687, "entropy": 1.0758740901947021, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 332000, "episodes_total": 331, "training_iteration": 83, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-00", "timestamp": 1565595780, "time_this_iter_s": 11.635988473892212, "time_total_s": 959.4900231361389, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 959.4900231361389, "timesteps_since_restore": 332000, "iterations_since_restore": 83, "perf": {"cpu_util_percent": 32.23529411764706, "ram_util_percent": 16.75294117647059}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1625.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5306793103518084, "mean_processing_ms": 0.10395735887538057, "mean_inference_ms": 0.5884136729966428}, "off_policy_estimator": {}, "info": {"num_steps_trained": 333312, "num_steps_sampled": 336000, "sample_time_ms": 4921.65, "load_time_ms": 2.866, "grad_time_ms": 6826.932, "update_time_ms": 8.43, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5485.18310546875, "policy_loss": -0.026593951508402824, "vf_loss": 5485.20703125, "vf_explained_var": 0.40233704447746277, "kl": 0.008685370907187462, "entropy": 1.0825523138046265, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 336000, "episodes_total": 335, "training_iteration": 84, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-12", "timestamp": 1565595792, "time_this_iter_s": 11.357917070388794, "time_total_s": 970.8479402065277, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 970.8479402065277, "timesteps_since_restore": 336000, "iterations_since_restore": 84, "perf": {"cpu_util_percent": 31.41875, "ram_util_percent": 16.7125}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1615.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5305037329828521, "mean_processing_ms": 0.10396615122867153, "mean_inference_ms": 0.5881828775275437}, "off_policy_estimator": {}, "info": {"num_steps_trained": 337280, "num_steps_sampled": 340000, "sample_time_ms": 4919.625, "load_time_ms": 2.974, "grad_time_ms": 6872.02, "update_time_ms": 8.189, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 5229.88818359375, "policy_loss": -0.02311231568455696, "vf_loss": 5229.9091796875, "vf_explained_var": 0.341281920671463, "kl": 0.009351283311843872, "entropy": 1.0940077304840088, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 340000, "episodes_total": 339, "training_iteration": 85, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-23", "timestamp": 1565595803, "time_this_iter_s": 11.812653541564941, "time_total_s": 982.6605937480927, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 982.6605937480927, "timesteps_since_restore": 340000, "iterations_since_restore": 85, "perf": {"cpu_util_percent": 32.6, "ram_util_percent": 16.676470588235293}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1615.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.53034329905224, "mean_processing_ms": 0.10397393647786426, "mean_inference_ms": 0.5879983506382243}, "off_policy_estimator": {}, "info": {"num_steps_trained": 341248, "num_steps_sampled": 344000, "sample_time_ms": 4936.128, "load_time_ms": 2.851, "grad_time_ms": 6824.288, "update_time_ms": 8.397, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4597.87890625, "policy_loss": -0.025216614827513695, "vf_loss": 4597.90185546875, "vf_explained_var": 0.3438801169395447, "kl": 0.009812446311116219, "entropy": 1.0458714962005615, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 344000, "episodes_total": 343, "training_iteration": 86, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-35", "timestamp": 1565595815, "time_this_iter_s": 11.538707256317139, "time_total_s": 994.1993010044098, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 994.1993010044098, "timesteps_since_restore": 344000, "iterations_since_restore": 86, "perf": {"cpu_util_percent": 31.168750000000003, "ram_util_percent": 16.731250000000003}}
{"episode_reward_max": -1125.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1608.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5301947600146327, "mean_processing_ms": 0.10397775782817621, "mean_inference_ms": 0.5878487522650169}, "off_policy_estimator": {}, "info": {"num_steps_trained": 345216, "num_steps_sampled": 348000, "sample_time_ms": 4911.368, "load_time_ms": 2.758, "grad_time_ms": 6821.491, "update_time_ms": 8.285, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4269.37939453125, "policy_loss": -0.023609094321727753, "vf_loss": 4269.39990234375, "vf_explained_var": 0.32132962346076965, "kl": 0.010311969555914402, "entropy": 1.058168649673462, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 348000, "episodes_total": 347, "training_iteration": 87, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-47", "timestamp": 1565595827, "time_this_iter_s": 11.62508225440979, "time_total_s": 1005.8243832588196, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1005.8243832588196, "timesteps_since_restore": 348000, "iterations_since_restore": 87, "perf": {"cpu_util_percent": 31.81176470588235, "ram_util_percent": 16.75294117647059}}
{"episode_reward_max": -1015.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1595.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5300546908312296, "mean_processing_ms": 0.1039856748371983, "mean_inference_ms": 0.5877314721569682}, "off_policy_estimator": {}, "info": {"num_steps_trained": 349184, "num_steps_sampled": 352000, "sample_time_ms": 4904.93, "load_time_ms": 2.793, "grad_time_ms": 6844.526, "update_time_ms": 8.197, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3830.940673828125, "policy_loss": -0.027257023379206657, "vf_loss": 3830.9658203125, "vf_explained_var": 0.4166387617588043, "kl": 0.008731415495276451, "entropy": 1.0171911716461182, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 352000, "episodes_total": 351, "training_iteration": 88, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-43-59", "timestamp": 1565595839, "time_this_iter_s": 12.149104833602905, "time_total_s": 1017.9734880924225, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1017.9734880924225, "timesteps_since_restore": 352000, "iterations_since_restore": 88, "perf": {"cpu_util_percent": 31.5, "ram_util_percent": 16.75294117647059}}
{"episode_reward_max": -1015.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1598.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5299180711450988, "mean_processing_ms": 0.10398871026855361, "mean_inference_ms": 0.5876478597697192}, "off_policy_estimator": {}, "info": {"num_steps_trained": 353152, "num_steps_sampled": 356000, "sample_time_ms": 4887.977, "load_time_ms": 2.668, "grad_time_ms": 6840.593, "update_time_ms": 6.465, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4804.3701171875, "policy_loss": -0.026002656668424606, "vf_loss": 4804.39208984375, "vf_explained_var": 0.40979114174842834, "kl": 0.010937307961285114, "entropy": 1.0232853889465332, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 356000, "episodes_total": 355, "training_iteration": 89, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-44-11", "timestamp": 1565595851, "time_this_iter_s": 11.926770210266113, "time_total_s": 1029.9002583026886, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1029.9002583026886, "timesteps_since_restore": 356000, "iterations_since_restore": 89, "perf": {"cpu_util_percent": 30.31764705882353, "ram_util_percent": 16.799999999999997}}
{"episode_reward_max": -1015.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1576.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5297895406926295, "mean_processing_ms": 0.10398821034582496, "mean_inference_ms": 0.5875943720022258}, "off_policy_estimator": {}, "info": {"num_steps_trained": 357120, "num_steps_sampled": 360000, "sample_time_ms": 4889.459, "load_time_ms": 2.396, "grad_time_ms": 6844.735, "update_time_ms": 6.713, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3400.83251953125, "policy_loss": -0.021509965881705284, "vf_loss": 3400.85107421875, "vf_explained_var": 0.23893119394779205, "kl": 0.010485468432307243, "entropy": 1.0340675115585327, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 360000, "episodes_total": 359, "training_iteration": 90, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-44-23", "timestamp": 1565595863, "time_this_iter_s": 12.004494428634644, "time_total_s": 1041.9047527313232, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1041.9047527313232, "timesteps_since_restore": 360000, "iterations_since_restore": 90, "perf": {"cpu_util_percent": 32.411764705882355, "ram_util_percent": 16.758823529411764}}
{"episode_reward_max": -1015.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1569.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.529668534779881, "mean_processing_ms": 0.10398572913198155, "mean_inference_ms": 0.5875723528251268}, "off_policy_estimator": {}, "info": {"num_steps_trained": 361088, "num_steps_sampled": 364000, "sample_time_ms": 4923.283, "load_time_ms": 2.438, "grad_time_ms": 6844.547, "update_time_ms": 6.59, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3777.2626953125, "policy_loss": -0.022937970235943794, "vf_loss": 3777.282470703125, "vf_explained_var": 0.33492425084114075, "kl": 0.009789485484361649, "entropy": 0.9872522950172424, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 364000, "episodes_total": 363, "training_iteration": 91, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-44-35", "timestamp": 1565595875, "time_this_iter_s": 11.875184535980225, "time_total_s": 1053.7799372673035, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1053.7799372673035, "timesteps_since_restore": 364000, "iterations_since_restore": 91, "perf": {"cpu_util_percent": 31.752941176470593, "ram_util_percent": 16.799999999999997}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1563.3, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5295348042602726, "mean_processing_ms": 0.10397640920540059, "mean_inference_ms": 0.5875497154994413}, "off_policy_estimator": {}, "info": {"num_steps_trained": 365056, "num_steps_sampled": 368000, "sample_time_ms": 4872.647, "load_time_ms": 2.244, "grad_time_ms": 6849.149, "update_time_ms": 6.442, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3402.105224609375, "policy_loss": -0.023540331050753593, "vf_loss": 3402.126220703125, "vf_explained_var": 0.366281658411026, "kl": 0.009640110656619072, "entropy": 1.000052571296692, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 368000, "episodes_total": 367, "training_iteration": 92, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-44-46", "timestamp": 1565595886, "time_this_iter_s": 11.485162496566772, "time_total_s": 1065.2650997638702, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1065.2650997638702, "timesteps_since_restore": 368000, "iterations_since_restore": 92, "perf": {"cpu_util_percent": 30.623529411764707, "ram_util_percent": 16.805882352941172}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1552.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5294085200127653, "mean_processing_ms": 0.10396737074793261, "mean_inference_ms": 0.5875581692724623}, "off_policy_estimator": {}, "info": {"num_steps_trained": 369024, "num_steps_sampled": 372000, "sample_time_ms": 4881.809, "load_time_ms": 2.077, "grad_time_ms": 6889.429, "update_time_ms": 6.389, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3071.473388671875, "policy_loss": -0.020850051194429398, "vf_loss": 3071.4912109375, "vf_explained_var": 0.16889962553977966, "kl": 0.010110307484865189, "entropy": 1.0228699445724487, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 372000, "episodes_total": 371, "training_iteration": 93, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-44-58", "timestamp": 1565595898, "time_this_iter_s": 12.123536825180054, "time_total_s": 1077.3886365890503, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1077.3886365890503, "timesteps_since_restore": 372000, "iterations_since_restore": 93, "perf": {"cpu_util_percent": 31.835294117647063, "ram_util_percent": 16.788235294117644}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1544.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5292895244562003, "mean_processing_ms": 0.10396117003609666, "mean_inference_ms": 0.5875878085193603}, "off_policy_estimator": {}, "info": {"num_steps_trained": 372992, "num_steps_sampled": 376000, "sample_time_ms": 4909.409, "load_time_ms": 2.054, "grad_time_ms": 6901.953, "update_time_ms": 8.064, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3680.772216796875, "policy_loss": -0.022077985107898712, "vf_loss": 3680.791259765625, "vf_explained_var": 0.3492699861526489, "kl": 0.008898253552615643, "entropy": 1.0092551708221436, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 376000, "episodes_total": 375, "training_iteration": 94, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-45-10", "timestamp": 1565595910, "time_this_iter_s": 11.777560949325562, "time_total_s": 1089.1661975383759, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1089.1661975383759, "timesteps_since_restore": 376000, "iterations_since_restore": 94, "perf": {"cpu_util_percent": 31.135294117647057, "ram_util_percent": 16.811764705882354}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1536.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5291787705787275, "mean_processing_ms": 0.10395580595032886, "mean_inference_ms": 0.5876440797373295}, "off_policy_estimator": {}, "info": {"num_steps_trained": 376960, "num_steps_sampled": 380000, "sample_time_ms": 4905.184, "load_time_ms": 1.956, "grad_time_ms": 6910.679, "update_time_ms": 8.084, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3193.703857421875, "policy_loss": -0.0241635013371706, "vf_loss": 3193.72509765625, "vf_explained_var": 0.3817332983016968, "kl": 0.010138832032680511, "entropy": 0.9940634965896606, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 380000, "episodes_total": 379, "training_iteration": 95, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-45-22", "timestamp": 1565595922, "time_this_iter_s": 11.860652685165405, "time_total_s": 1101.0268502235413, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1101.0268502235413, "timesteps_since_restore": 380000, "iterations_since_restore": 95, "perf": {"cpu_util_percent": 32.42941176470589, "ram_util_percent": 16.829411764705885}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1524.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5290564031221797, "mean_processing_ms": 0.10394949894021992, "mean_inference_ms": 0.5877150989750592}, "off_policy_estimator": {}, "info": {"num_steps_trained": 380928, "num_steps_sampled": 384000, "sample_time_ms": 4878.382, "load_time_ms": 2.055, "grad_time_ms": 6946.219, "update_time_ms": 8.03, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3179.952880859375, "policy_loss": -0.019174033775925636, "vf_loss": 3179.969482421875, "vf_explained_var": 0.33553072810173035, "kl": 0.006852943450212479, "entropy": 1.0265213251113892, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 384000, "episodes_total": 383, "training_iteration": 96, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-45-34", "timestamp": 1565595934, "time_this_iter_s": 11.624802112579346, "time_total_s": 1112.6516523361206, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1112.6516523361206, "timesteps_since_restore": 384000, "iterations_since_restore": 96, "perf": {"cpu_util_percent": 31.6, "ram_util_percent": 16.85625}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1515.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5289018929992282, "mean_processing_ms": 0.1039373729086968, "mean_inference_ms": 0.5877445367263726}, "off_policy_estimator": {}, "info": {"num_steps_trained": 384896, "num_steps_sampled": 388000, "sample_time_ms": 4884.137, "load_time_ms": 2.044, "grad_time_ms": 6944.135, "update_time_ms": 8.506, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2910.35986328125, "policy_loss": -0.02206965535879135, "vf_loss": 2910.3798828125, "vf_explained_var": 0.367557168006897, "kl": 0.007559462450444698, "entropy": 1.0345103740692139, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 388000, "episodes_total": 387, "training_iteration": 97, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-45-45", "timestamp": 1565595945, "time_this_iter_s": 11.667382001876831, "time_total_s": 1124.3190343379974, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1124.3190343379974, "timesteps_since_restore": 388000, "iterations_since_restore": 97, "perf": {"cpu_util_percent": 31.323529411764707, "ram_util_percent": 16.870588235294118}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1510.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5287235649765204, "mean_processing_ms": 0.10391824714103763, "mean_inference_ms": 0.5877487505168701}, "off_policy_estimator": {}, "info": {"num_steps_trained": 388864, "num_steps_sampled": 392000, "sample_time_ms": 4861.347, "load_time_ms": 1.982, "grad_time_ms": 6929.43, "update_time_ms": 9.11, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2722.517822265625, "policy_loss": -0.027366433292627335, "vf_loss": 2722.5419921875, "vf_explained_var": 0.49577564001083374, "kl": 0.009588734246790409, "entropy": 1.034660816192627, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 392000, "episodes_total": 391, "training_iteration": 98, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-45-57", "timestamp": 1565595957, "time_this_iter_s": 11.77302360534668, "time_total_s": 1136.0920579433441, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1136.0920579433441, "timesteps_since_restore": 392000, "iterations_since_restore": 98, "perf": {"cpu_util_percent": 30.852941176470587, "ram_util_percent": 16.84705882352941}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1498.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5285483177241597, "mean_processing_ms": 0.1039015592605515, "mean_inference_ms": 0.5877462908779673}, "off_policy_estimator": {}, "info": {"num_steps_trained": 392832, "num_steps_sampled": 396000, "sample_time_ms": 4830.809, "load_time_ms": 2.141, "grad_time_ms": 6932.875, "update_time_ms": 9.036, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2103.731689453125, "policy_loss": -0.022992504760622978, "vf_loss": 2103.75146484375, "vf_explained_var": 0.23991210758686066, "kl": 0.01061498187482357, "entropy": 1.004140853881836, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 396000, "episodes_total": 395, "training_iteration": 99, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-46-09", "timestamp": 1565595969, "time_this_iter_s": 11.659365892410278, "time_total_s": 1147.7514238357544, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1147.7514238357544, "timesteps_since_restore": 396000, "iterations_since_restore": 99, "perf": {"cpu_util_percent": 31.25, "ram_util_percent": 16.868750000000002}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1502.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5283916059081553, "mean_processing_ms": 0.10388863417373873, "mean_inference_ms": 0.5877557658720655}, "off_policy_estimator": {}, "info": {"num_steps_trained": 396800, "num_steps_sampled": 400000, "sample_time_ms": 4838.206, "load_time_ms": 2.179, "grad_time_ms": 6932.63, "update_time_ms": 8.684, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2424.221435546875, "policy_loss": -0.024542186409235, "vf_loss": 2424.2421875, "vf_explained_var": 0.4352244436740875, "kl": 0.012765117920935154, "entropy": 1.0266114473342896, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 400000, "episodes_total": 399, "training_iteration": 100, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-46-21", "timestamp": 1565595981, "time_this_iter_s": 12.067976474761963, "time_total_s": 1159.8194003105164, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1159.8194003105164, "timesteps_since_restore": 400000, "iterations_since_restore": 100, "perf": {"cpu_util_percent": 31.805555555555557, "ram_util_percent": 16.87222222222222}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1485.53, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5282435037772584, "mean_processing_ms": 0.10387896256682343, "mean_inference_ms": 0.5877720229588357}, "off_policy_estimator": {}, "info": {"num_steps_trained": 400768, "num_steps_sampled": 404000, "sample_time_ms": 4854.634, "load_time_ms": 2.083, "grad_time_ms": 6921.903, "update_time_ms": 8.593, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1788.845947265625, "policy_loss": -0.02276991866528988, "vf_loss": 1788.8665771484375, "vf_explained_var": 0.39436671137809753, "kl": 0.007136549334973097, "entropy": 1.0255271196365356, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 404000, "episodes_total": 403, "training_iteration": 101, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-46-33", "timestamp": 1565595993, "time_this_iter_s": 11.930065631866455, "time_total_s": 1171.7494659423828, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1171.7494659423828, "timesteps_since_restore": 404000, "iterations_since_restore": 101, "perf": {"cpu_util_percent": 30.441176470588236, "ram_util_percent": 16.88235294117647}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1477.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5280747066267797, "mean_processing_ms": 0.1038650860485176, "mean_inference_ms": 0.5877655270903847}, "off_policy_estimator": {}, "info": {"num_steps_trained": 404736, "num_steps_sampled": 408000, "sample_time_ms": 4857.094, "load_time_ms": 2.219, "grad_time_ms": 6908.863, "update_time_ms": 8.787, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1463.8897705078125, "policy_loss": -0.030688798055052757, "vf_loss": 1463.916748046875, "vf_explained_var": 0.4152083694934845, "kl": 0.011917203664779663, "entropy": 1.0406394004821777, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 408000, "episodes_total": 407, "training_iteration": 102, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-46-44", "timestamp": 1565596004, "time_this_iter_s": 11.384804010391235, "time_total_s": 1183.134269952774, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1183.134269952774, "timesteps_since_restore": 408000, "iterations_since_restore": 102, "perf": {"cpu_util_percent": 31.587500000000002, "ram_util_percent": 16.88125}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1463.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5278776770973628, "mean_processing_ms": 0.10384653545886749, "mean_inference_ms": 0.5877312263977836}, "off_policy_estimator": {}, "info": {"num_steps_trained": 408704, "num_steps_sampled": 412000, "sample_time_ms": 4806.89, "load_time_ms": 2.357, "grad_time_ms": 6907.194, "update_time_ms": 8.69, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2161.802490234375, "policy_loss": -0.035602912306785583, "vf_loss": 2161.83447265625, "vf_explained_var": 0.4573151171207428, "kl": 0.012077722698450089, "entropy": 1.0296130180358887, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 412000, "episodes_total": 411, "training_iteration": 103, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-46-56", "timestamp": 1565596016, "time_this_iter_s": 11.609276294708252, "time_total_s": 1194.7435462474823, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1194.7435462474823, "timesteps_since_restore": 412000, "iterations_since_restore": 103, "perf": {"cpu_util_percent": 32.15625, "ram_util_percent": 16.91875}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1448.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5276672766763775, "mean_processing_ms": 0.10382475418926478, "mean_inference_ms": 0.5876832176083195}, "off_policy_estimator": {}, "info": {"num_steps_trained": 412672, "num_steps_sampled": 416000, "sample_time_ms": 4816.785, "load_time_ms": 2.286, "grad_time_ms": 6916.953, "update_time_ms": 6.852, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1799.4266357421875, "policy_loss": -0.021464878693223, "vf_loss": 1799.4456787109375, "vf_explained_var": 0.49693870544433594, "kl": 0.008970856666564941, "entropy": 1.028695821762085, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 416000, "episodes_total": 415, "training_iteration": 104, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-47-08", "timestamp": 1565596028, "time_this_iter_s": 11.95290493965149, "time_total_s": 1206.6964511871338, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1206.6964511871338, "timesteps_since_restore": 416000, "iterations_since_restore": 104, "perf": {"cpu_util_percent": 31.13333333333334, "ram_util_percent": 16.92777777777778}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1437.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5274506366181909, "mean_processing_ms": 0.10380509385816204, "mean_inference_ms": 0.5876257423667539}, "off_policy_estimator": {}, "info": {"num_steps_trained": 416640, "num_steps_sampled": 420000, "sample_time_ms": 4829.424, "load_time_ms": 2.454, "grad_time_ms": 6899.278, "update_time_ms": 6.848, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3472.85888671875, "policy_loss": -0.030115438625216484, "vf_loss": 3472.8857421875, "vf_explained_var": 0.49325019121170044, "kl": 0.009600519202649593, "entropy": 1.0495316982269287, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 420000, "episodes_total": 419, "training_iteration": 105, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-47-20", "timestamp": 1565596040, "time_this_iter_s": 11.807774782180786, "time_total_s": 1218.5042259693146, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1218.5042259693146, "timesteps_since_restore": 420000, "iterations_since_restore": 105, "perf": {"cpu_util_percent": 30.724999999999998, "ram_util_percent": 16.91875}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1414.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5272641752320644, "mean_processing_ms": 0.10379330177647196, "mean_inference_ms": 0.5876078958165667}, "off_policy_estimator": {}, "info": {"num_steps_trained": 420608, "num_steps_sampled": 424000, "sample_time_ms": 4868.407, "load_time_ms": 2.376, "grad_time_ms": 6859.392, "update_time_ms": 6.875, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1770.8536376953125, "policy_loss": -0.025195395573973656, "vf_loss": 1770.875732421875, "vf_explained_var": 0.39315640926361084, "kl": 0.01048507820814848, "entropy": 1.0264626741409302, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 424000, "episodes_total": 423, "training_iteration": 106, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-47-31", "timestamp": 1565596051, "time_this_iter_s": 11.61591386795044, "time_total_s": 1230.120139837265, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1230.120139837265, "timesteps_since_restore": 424000, "iterations_since_restore": 106, "perf": {"cpu_util_percent": 32.141176470588235, "ram_util_percent": 16.905882352941177}}
{"episode_reward_max": -921.0, "episode_reward_min": -2593.0, "episode_reward_mean": -1396.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5270860802594008, "mean_processing_ms": 0.10378225579448355, "mean_inference_ms": 0.5875956932418674}, "off_policy_estimator": {}, "info": {"num_steps_trained": 424576, "num_steps_sampled": 428000, "sample_time_ms": 4898.224, "load_time_ms": 2.411, "grad_time_ms": 6876.566, "update_time_ms": 6.37, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3376.38623046875, "policy_loss": -0.02967870980501175, "vf_loss": 3376.413330078125, "vf_explained_var": 0.471634179353714, "kl": 0.009568623267114162, "entropy": 1.0406428575515747, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 428000, "episodes_total": 427, "training_iteration": 107, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-47-43", "timestamp": 1565596063, "time_this_iter_s": 12.132347345352173, "time_total_s": 1242.2524871826172, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1242.2524871826172, "timesteps_since_restore": 428000, "iterations_since_restore": 107, "perf": {"cpu_util_percent": 30.794117647058822, "ram_util_percent": 16.858823529411765}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1387.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5269029142922932, "mean_processing_ms": 0.10376918425533774, "mean_inference_ms": 0.5875800677425085}, "off_policy_estimator": {}, "info": {"num_steps_trained": 428544, "num_steps_sampled": 432000, "sample_time_ms": 4901.942, "load_time_ms": 2.446, "grad_time_ms": 6881.722, "update_time_ms": 5.759, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3042.949462890625, "policy_loss": -0.0259283147752285, "vf_loss": 3042.972412109375, "vf_explained_var": 0.44157499074935913, "kl": 0.00840627122670412, "entropy": 1.0503895282745361, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 432000, "episodes_total": 431, "training_iteration": 108, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-47-55", "timestamp": 1565596075, "time_this_iter_s": 11.856486320495605, "time_total_s": 1254.1089735031128, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1254.1089735031128, "timesteps_since_restore": 432000, "iterations_since_restore": 108, "perf": {"cpu_util_percent": 31.61176470588235, "ram_util_percent": 16.870588235294118}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1367.89, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5267449500636958, "mean_processing_ms": 0.10375912753156119, "mean_inference_ms": 0.5875817275176243}, "off_policy_estimator": {}, "info": {"num_steps_trained": 432512, "num_steps_sampled": 436000, "sample_time_ms": 4916.768, "load_time_ms": 2.465, "grad_time_ms": 6832.363, "update_time_ms": 5.933, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2546.224609375, "policy_loss": -0.027403615415096283, "vf_loss": 2546.2490234375, "vf_explained_var": 0.41459423303604126, "kl": 0.010415596887469292, "entropy": 1.0292288064956665, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 436000, "episodes_total": 435, "training_iteration": 109, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-48-07", "timestamp": 1565596087, "time_this_iter_s": 11.31289029121399, "time_total_s": 1265.4218637943268, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1265.4218637943268, "timesteps_since_restore": 436000, "iterations_since_restore": 109, "perf": {"cpu_util_percent": 30.993750000000002, "ram_util_percent": 16.99375}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1360.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.526589533807407, "mean_processing_ms": 0.10374962080170391, "mean_inference_ms": 0.5875831506705211}, "off_policy_estimator": {}, "info": {"num_steps_trained": 436480, "num_steps_sampled": 440000, "sample_time_ms": 4883.806, "load_time_ms": 2.58, "grad_time_ms": 6843.625, "update_time_ms": 7.719, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2915.515380859375, "policy_loss": -0.027842676267027855, "vf_loss": 2915.539794921875, "vf_explained_var": 0.4183413088321686, "kl": 0.01027741190046072, "entropy": 1.034787654876709, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 440000, "episodes_total": 439, "training_iteration": 110, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-48-19", "timestamp": 1565596099, "time_this_iter_s": 11.872228860855103, "time_total_s": 1277.2940926551819, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1277.2940926551819, "timesteps_since_restore": 440000, "iterations_since_restore": 110, "perf": {"cpu_util_percent": 31.541176470588237, "ram_util_percent": 16.941176470588232}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1350.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5264393013634943, "mean_processing_ms": 0.10373986064144963, "mean_inference_ms": 0.5875862806750745}, "off_policy_estimator": {}, "info": {"num_steps_trained": 440448, "num_steps_sampled": 444000, "sample_time_ms": 4893.842, "load_time_ms": 2.588, "grad_time_ms": 6835.766, "update_time_ms": 7.744, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3170.2578125, "policy_loss": -0.024683775380253792, "vf_loss": 3170.279296875, "vf_explained_var": 0.4069499373435974, "kl": 0.009891144931316376, "entropy": 1.0444647073745728, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 444000, "episodes_total": 443, "training_iteration": 111, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-48-30", "timestamp": 1565596110, "time_this_iter_s": 11.947889804840088, "time_total_s": 1289.241982460022, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1289.241982460022, "timesteps_since_restore": 444000, "iterations_since_restore": 111, "perf": {"cpu_util_percent": 31.852941176470587, "ram_util_percent": 16.905882352941177}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1345.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5262848406048309, "mean_processing_ms": 0.10372918839851308, "mean_inference_ms": 0.5875830643043234}, "off_policy_estimator": {}, "info": {"num_steps_trained": 444416, "num_steps_sampled": 448000, "sample_time_ms": 4897.917, "load_time_ms": 2.605, "grad_time_ms": 6839.757, "update_time_ms": 7.513, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2622.878173828125, "policy_loss": -0.019398801028728485, "vf_loss": 2622.8955078125, "vf_explained_var": 0.3507041037082672, "kl": 0.007980107329785824, "entropy": 1.0242143869400024, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 448000, "episodes_total": 447, "training_iteration": 112, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-48-42", "timestamp": 1565596122, "time_this_iter_s": 11.465914011001587, "time_total_s": 1300.7078964710236, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1300.7078964710236, "timesteps_since_restore": 448000, "iterations_since_restore": 112, "perf": {"cpu_util_percent": 31.123529411764707, "ram_util_percent": 16.905882352941177}}
{"episode_reward_max": -921.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1342.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5261179718964634, "mean_processing_ms": 0.10371213679829712, "mean_inference_ms": 0.5875708542326428}, "off_policy_estimator": {}, "info": {"num_steps_trained": 448384, "num_steps_sampled": 452000, "sample_time_ms": 4920.02, "load_time_ms": 2.537, "grad_time_ms": 6846.606, "update_time_ms": 7.664, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2769.856201171875, "policy_loss": -0.021404903382062912, "vf_loss": 2769.874755859375, "vf_explained_var": 0.3301067352294922, "kl": 0.008572276681661606, "entropy": 1.0287948846817017, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 452000, "episodes_total": 451, "training_iteration": 113, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-48-54", "timestamp": 1565596134, "time_this_iter_s": 11.894949674606323, "time_total_s": 1312.6028461456299, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1312.6028461456299, "timesteps_since_restore": 452000, "iterations_since_restore": 113, "perf": {"cpu_util_percent": 31.594117647058823, "ram_util_percent": 16.94705882352941}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1324.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5259437496146981, "mean_processing_ms": 0.10369208222288652, "mean_inference_ms": 0.5875481472405555}, "off_policy_estimator": {}, "info": {"num_steps_trained": 452352, "num_steps_sampled": 456000, "sample_time_ms": 4907.235, "load_time_ms": 2.565, "grad_time_ms": 6837.875, "update_time_ms": 9.432, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3037.532470703125, "policy_loss": -0.023217109963297844, "vf_loss": 3037.55322265625, "vf_explained_var": 0.3639690577983856, "kl": 0.008318841457366943, "entropy": 1.0288187265396118, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 456000, "episodes_total": 455, "training_iteration": 114, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-49-06", "timestamp": 1565596146, "time_this_iter_s": 11.754776954650879, "time_total_s": 1324.3576231002808, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1324.3576231002808, "timesteps_since_restore": 456000, "iterations_since_restore": 114, "perf": {"cpu_util_percent": 30.993750000000002, "ram_util_percent": 16.924999999999997}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1329.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5257495575626899, "mean_processing_ms": 0.10366672095914592, "mean_inference_ms": 0.5875016673010471}, "off_policy_estimator": {}, "info": {"num_steps_trained": 456320, "num_steps_sampled": 460000, "sample_time_ms": 4866.982, "load_time_ms": 2.658, "grad_time_ms": 6849.306, "update_time_ms": 9.434, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3060.52490234375, "policy_loss": -0.03025614656507969, "vf_loss": 3060.5517578125, "vf_explained_var": 0.33229517936706543, "kl": 0.013536499813199043, "entropy": 1.0021841526031494, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 460000, "episodes_total": 459, "training_iteration": 115, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-49-17", "timestamp": 1565596157, "time_this_iter_s": 11.526715755462646, "time_total_s": 1335.8843388557434, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1335.8843388557434, "timesteps_since_restore": 460000, "iterations_since_restore": 115, "perf": {"cpu_util_percent": 30.92941176470588, "ram_util_percent": 16.958823529411763}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1320.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5255681447318564, "mean_processing_ms": 0.1036413941527477, "mean_inference_ms": 0.5874560556413232}, "off_policy_estimator": {}, "info": {"num_steps_trained": 460288, "num_steps_sampled": 464000, "sample_time_ms": 4845.11, "load_time_ms": 2.655, "grad_time_ms": 6899.347, "update_time_ms": 9.461, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1981.2593994140625, "policy_loss": -0.021022535860538483, "vf_loss": 1981.2769775390625, "vf_explained_var": 0.19684140384197235, "kl": 0.01241238322108984, "entropy": 0.9611828327178955, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 464000, "episodes_total": 463, "training_iteration": 116, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-49-29", "timestamp": 1565596169, "time_this_iter_s": 11.898212671279907, "time_total_s": 1347.7825515270233, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1347.7825515270233, "timesteps_since_restore": 464000, "iterations_since_restore": 116, "perf": {"cpu_util_percent": 31.99411764705882, "ram_util_percent": 16.95294117647059}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1309.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5254022547989905, "mean_processing_ms": 0.10361901427580544, "mean_inference_ms": 0.5874277989266171}, "off_policy_estimator": {}, "info": {"num_steps_trained": 464256, "num_steps_sampled": 468000, "sample_time_ms": 4807.421, "load_time_ms": 2.717, "grad_time_ms": 6852.739, "update_time_ms": 9.602, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2130.090087890625, "policy_loss": -0.021177079528570175, "vf_loss": 2130.108154296875, "vf_explained_var": 0.2647627294063568, "kl": 0.010082158260047436, "entropy": 0.9408393502235413, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 468000, "episodes_total": 467, "training_iteration": 117, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-49-40", "timestamp": 1565596180, "time_this_iter_s": 11.292717933654785, "time_total_s": 1359.075269460678, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1359.075269460678, "timesteps_since_restore": 468000, "iterations_since_restore": 117, "perf": {"cpu_util_percent": 31.68125, "ram_util_percent": 16.9625}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1301.08, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.525223445728834, "mean_processing_ms": 0.10359198045028731, "mean_inference_ms": 0.5873924308419973}, "off_policy_estimator": {}, "info": {"num_steps_trained": 468224, "num_steps_sampled": 472000, "sample_time_ms": 4801.366, "load_time_ms": 2.709, "grad_time_ms": 6850.342, "update_time_ms": 9.672, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2707.2646484375, "policy_loss": -0.023048734292387962, "vf_loss": 2707.28466796875, "vf_explained_var": 0.3060080409049988, "kl": 0.009219329804182053, "entropy": 0.9589093327522278, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 472000, "episodes_total": 471, "training_iteration": 118, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-49-52", "timestamp": 1565596192, "time_this_iter_s": 11.777665138244629, "time_total_s": 1370.8529345989227, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1370.8529345989227, "timesteps_since_restore": 472000, "iterations_since_restore": 118, "perf": {"cpu_util_percent": 31.970588235294116, "ram_util_percent": 16.96470588235294}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1289.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5250510226182246, "mean_processing_ms": 0.1035651655574825, "mean_inference_ms": 0.5873685153768022}, "off_policy_estimator": {}, "info": {"num_steps_trained": 472192, "num_steps_sampled": 476000, "sample_time_ms": 4809.722, "load_time_ms": 2.692, "grad_time_ms": 6899.024, "update_time_ms": 9.612, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2406.43017578125, "policy_loss": -0.01974090002477169, "vf_loss": 2406.447509765625, "vf_explained_var": 0.2116805762052536, "kl": 0.006236645858734846, "entropy": 0.956886887550354, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 476000, "episodes_total": 475, "training_iteration": 119, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-50-04", "timestamp": 1565596204, "time_this_iter_s": 11.88228154182434, "time_total_s": 1382.735216140747, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1382.735216140747, "timesteps_since_restore": 476000, "iterations_since_restore": 119, "perf": {"cpu_util_percent": 30.99411764705882, "ram_util_percent": 16.98235294117647}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1285.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5248933984310655, "mean_processing_ms": 0.10353744502863148, "mean_inference_ms": 0.5873534657730385}, "off_policy_estimator": {}, "info": {"num_steps_trained": 476160, "num_steps_sampled": 480000, "sample_time_ms": 4829.813, "load_time_ms": 2.703, "grad_time_ms": 6848.114, "update_time_ms": 7.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3453.429443359375, "policy_loss": -0.026573101058602333, "vf_loss": 3453.45361328125, "vf_explained_var": 0.36874446272850037, "kl": 0.008282981812953949, "entropy": 0.930518627166748, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 480000, "episodes_total": 479, "training_iteration": 120, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-50-16", "timestamp": 1565596216, "time_this_iter_s": 11.548966646194458, "time_total_s": 1394.2841827869415, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1394.2841827869415, "timesteps_since_restore": 480000, "iterations_since_restore": 120, "perf": {"cpu_util_percent": 32.30625, "ram_util_percent": 16.987499999999997}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1284.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5247581742016155, "mean_processing_ms": 0.10351335060247795, "mean_inference_ms": 0.5873497893855414}, "off_policy_estimator": {}, "info": {"num_steps_trained": 480128, "num_steps_sampled": 484000, "sample_time_ms": 4833.286, "load_time_ms": 2.699, "grad_time_ms": 6848.379, "update_time_ms": 7.769, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3137.2705078125, "policy_loss": -0.01977008767426014, "vf_loss": 3137.2880859375, "vf_explained_var": 0.35381829738616943, "kl": 0.006927903741598129, "entropy": 0.959890604019165, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 484000, "episodes_total": 483, "training_iteration": 121, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-50-28", "timestamp": 1565596228, "time_this_iter_s": 11.989388942718506, "time_total_s": 1406.27357172966, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1406.27357172966, "timesteps_since_restore": 484000, "iterations_since_restore": 121, "perf": {"cpu_util_percent": 32.529411764705884, "ram_util_percent": 17.04705882352941}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1284.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.524643925372919, "mean_processing_ms": 0.1034927489898274, "mean_inference_ms": 0.5873599692597257}, "off_policy_estimator": {}, "info": {"num_steps_trained": 484096, "num_steps_sampled": 488000, "sample_time_ms": 4901.473, "load_time_ms": 2.7, "grad_time_ms": 6854.276, "update_time_ms": 7.895, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3413.412841796875, "policy_loss": -0.021328184753656387, "vf_loss": 3413.43115234375, "vf_explained_var": 0.3272497057914734, "kl": 0.009662080556154251, "entropy": 0.9419298768043518, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 488000, "episodes_total": 487, "training_iteration": 122, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-50-40", "timestamp": 1565596240, "time_this_iter_s": 12.204436540603638, "time_total_s": 1418.4780082702637, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1418.4780082702637, "timesteps_since_restore": 488000, "iterations_since_restore": 122, "perf": {"cpu_util_percent": 33.238888888888894, "ram_util_percent": 17.033333333333335}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1284.98, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5245340487492995, "mean_processing_ms": 0.10347504489994191, "mean_inference_ms": 0.5873796750200966}, "off_policy_estimator": {}, "info": {"num_steps_trained": 488064, "num_steps_sampled": 492000, "sample_time_ms": 4925.593, "load_time_ms": 2.59, "grad_time_ms": 6798.529, "update_time_ms": 9.8, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3927.53564453125, "policy_loss": -0.021252183243632317, "vf_loss": 3927.55419921875, "vf_explained_var": 0.286870539188385, "kl": 0.008703052997589111, "entropy": 0.9241584539413452, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 492000, "episodes_total": 491, "training_iteration": 123, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-50-52", "timestamp": 1565596252, "time_this_iter_s": 11.601029396057129, "time_total_s": 1430.0790376663208, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1430.0790376663208, "timesteps_since_restore": 492000, "iterations_since_restore": 123, "perf": {"cpu_util_percent": 32.99375, "ram_util_percent": 17.05625}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1290.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5244307770417191, "mean_processing_ms": 0.1034594678597397, "mean_inference_ms": 0.5874061450979836}, "off_policy_estimator": {}, "info": {"num_steps_trained": 492032, "num_steps_sampled": 496000, "sample_time_ms": 4931.896, "load_time_ms": 2.619, "grad_time_ms": 6798.099, "update_time_ms": 7.914, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3009.61962890625, "policy_loss": -0.02251409739255905, "vf_loss": 3009.639892578125, "vf_explained_var": 0.3164692521095276, "kl": 0.008236626163125038, "entropy": 0.9203242063522339, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 496000, "episodes_total": 495, "training_iteration": 124, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-51-03", "timestamp": 1565596263, "time_this_iter_s": 11.799805641174316, "time_total_s": 1441.8788433074951, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1441.8788433074951, "timesteps_since_restore": 496000, "iterations_since_restore": 124, "perf": {"cpu_util_percent": 32.11764705882353, "ram_util_percent": 17.011764705882356}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1278.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5243238779767281, "mean_processing_ms": 0.10344194339622699, "mean_inference_ms": 0.587431359615423}, "off_policy_estimator": {}, "info": {"num_steps_trained": 496000, "num_steps_sampled": 500000, "sample_time_ms": 4990.272, "load_time_ms": 2.431, "grad_time_ms": 6805.553, "update_time_ms": 7.882, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3559.21728515625, "policy_loss": -0.02109168842434883, "vf_loss": 3559.235595703125, "vf_explained_var": 0.2952713370323181, "kl": 0.008085408248007298, "entropy": 0.8684799075126648, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 500000, "episodes_total": 499, "training_iteration": 125, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-51-16", "timestamp": 1565596276, "time_this_iter_s": 12.177827596664429, "time_total_s": 1454.0566709041595, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1454.0566709041595, "timesteps_since_restore": 500000, "iterations_since_restore": 125, "perf": {"cpu_util_percent": 33.26666666666666, "ram_util_percent": 17.055555555555557}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1283.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5242250364098103, "mean_processing_ms": 0.10342660155011338, "mean_inference_ms": 0.58746083823843}, "off_policy_estimator": {}, "info": {"num_steps_trained": 499968, "num_steps_sampled": 504000, "sample_time_ms": 5016.183, "load_time_ms": 2.386, "grad_time_ms": 6759.456, "update_time_ms": 9.642, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3421.307373046875, "policy_loss": -0.022477250546216965, "vf_loss": 3421.327392578125, "vf_explained_var": 0.26427608728408813, "kl": 0.008974051102995872, "entropy": 0.84248948097229, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 504000, "episodes_total": 503, "training_iteration": 126, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-51-27", "timestamp": 1565596287, "time_this_iter_s": 11.711906671524048, "time_total_s": 1465.7685775756836, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1465.7685775756836, "timesteps_since_restore": 504000, "iterations_since_restore": 126, "perf": {"cpu_util_percent": 31.825000000000003, "ram_util_percent": 17.043750000000003}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1292.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5241393075420462, "mean_processing_ms": 0.10341441942765972, "mean_inference_ms": 0.5875025478316396}, "off_policy_estimator": {}, "info": {"num_steps_trained": 503936, "num_steps_sampled": 508000, "sample_time_ms": 5016.198, "load_time_ms": 2.273, "grad_time_ms": 6800.767, "update_time_ms": 9.584, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4368.34228515625, "policy_loss": -0.02845735289156437, "vf_loss": 4368.36767578125, "vf_explained_var": 0.3649206757545471, "kl": 0.0103780347853899, "entropy": 0.8518215417861938, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 508000, "episodes_total": 507, "training_iteration": 127, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-51-39", "timestamp": 1565596299, "time_this_iter_s": 11.69468355178833, "time_total_s": 1477.463261127472, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1477.463261127472, "timesteps_since_restore": 508000, "iterations_since_restore": 127, "perf": {"cpu_util_percent": 31.08235294117647, "ram_util_percent": 17.00588235294118}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1297.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5240667560112491, "mean_processing_ms": 0.10340498561254428, "mean_inference_ms": 0.5875526655105255}, "off_policy_estimator": {}, "info": {"num_steps_trained": 507904, "num_steps_sampled": 512000, "sample_time_ms": 5014.58, "load_time_ms": 2.292, "grad_time_ms": 6805.081, "update_time_ms": 9.672, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3970.147216796875, "policy_loss": -0.0233094971626997, "vf_loss": 3970.166748046875, "vf_explained_var": 0.3510619103908539, "kl": 0.011184592731297016, "entropy": 0.8899231553077698, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 512000, "episodes_total": 511, "training_iteration": 128, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-51-51", "timestamp": 1565596311, "time_this_iter_s": 11.80519151687622, "time_total_s": 1489.2684526443481, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1489.2684526443481, "timesteps_since_restore": 512000, "iterations_since_restore": 128, "perf": {"cpu_util_percent": 31.558823529411764, "ram_util_percent": 17.029411764705884}}
{"episode_reward_max": -751.0, "episode_reward_min": -2348.0, "episode_reward_mean": -1301.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5239954441294947, "mean_processing_ms": 0.1033964996521892, "mean_inference_ms": 0.5875954374000653}, "off_policy_estimator": {}, "info": {"num_steps_trained": 511872, "num_steps_sampled": 516000, "sample_time_ms": 5001.486, "load_time_ms": 2.238, "grad_time_ms": 6792.402, "update_time_ms": 9.66, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6169.51220703125, "policy_loss": -0.031078211963176727, "vf_loss": 6169.5400390625, "vf_explained_var": 0.26185113191604614, "kl": 0.011324484832584858, "entropy": 0.8805558681488037, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 516000, "episodes_total": 515, "training_iteration": 129, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-52-02", "timestamp": 1565596322, "time_this_iter_s": 11.626573085784912, "time_total_s": 1500.895025730133, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1500.895025730133, "timesteps_since_restore": 516000, "iterations_since_restore": 129, "perf": {"cpu_util_percent": 31.012499999999996, "ram_util_percent": 17.056250000000002}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1303.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5239157433209692, "mean_processing_ms": 0.10338327969193234, "mean_inference_ms": 0.5876299185636931}, "off_policy_estimator": {}, "info": {"num_steps_trained": 515840, "num_steps_sampled": 520000, "sample_time_ms": 4963.13, "load_time_ms": 2.203, "grad_time_ms": 6836.952, "update_time_ms": 9.466, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4541.4736328125, "policy_loss": -0.02393585629761219, "vf_loss": 4541.49560546875, "vf_explained_var": 0.3555220365524292, "kl": 0.007766355760395527, "entropy": 0.8723661303520203, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 520000, "episodes_total": 519, "training_iteration": 130, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-52-14", "timestamp": 1565596334, "time_this_iter_s": 11.608708143234253, "time_total_s": 1512.5037338733673, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1512.5037338733673, "timesteps_since_restore": 520000, "iterations_since_restore": 130, "perf": {"cpu_util_percent": 31.641176470588242, "ram_util_percent": 17.01764705882353}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1304.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5238239299568722, "mean_processing_ms": 0.10336971062858517, "mean_inference_ms": 0.5876538626208658}, "off_policy_estimator": {}, "info": {"num_steps_trained": 519808, "num_steps_sampled": 524000, "sample_time_ms": 4938.663, "load_time_ms": 2.306, "grad_time_ms": 6799.584, "update_time_ms": 9.433, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3506.533203125, "policy_loss": -0.024094345048069954, "vf_loss": 3506.5546875, "vf_explained_var": 0.27508243918418884, "kl": 0.009735828265547752, "entropy": 0.8604498505592346, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 524000, "episodes_total": 523, "training_iteration": 131, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-52-25", "timestamp": 1565596345, "time_this_iter_s": 11.371355295181274, "time_total_s": 1523.8750891685486, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1523.8750891685486, "timesteps_since_restore": 524000, "iterations_since_restore": 131, "perf": {"cpu_util_percent": 32.34375, "ram_util_percent": 17.012500000000003}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1300.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5237208388757847, "mean_processing_ms": 0.103355321085807, "mean_inference_ms": 0.5876644135440972}, "off_policy_estimator": {}, "info": {"num_steps_trained": 523776, "num_steps_sampled": 528000, "sample_time_ms": 4896.336, "load_time_ms": 2.184, "grad_time_ms": 6781.127, "update_time_ms": 9.463, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3456.3740234375, "policy_loss": -0.023730456829071045, "vf_loss": 3456.3955078125, "vf_explained_var": 0.25113746523857117, "kl": 0.007370651699602604, "entropy": 0.8397323489189148, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 528000, "episodes_total": 527, "training_iteration": 132, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-52-37", "timestamp": 1565596357, "time_this_iter_s": 11.595868825912476, "time_total_s": 1535.470957994461, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1535.470957994461, "timesteps_since_restore": 528000, "iterations_since_restore": 132, "perf": {"cpu_util_percent": 31.647058823529413, "ram_util_percent": 17.047058823529415}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1301.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5236145676989163, "mean_processing_ms": 0.10334198479577879, "mean_inference_ms": 0.5876697160919947}, "off_policy_estimator": {}, "info": {"num_steps_trained": 527744, "num_steps_sampled": 532000, "sample_time_ms": 4870.858, "load_time_ms": 2.288, "grad_time_ms": 6823.096, "update_time_ms": 7.458, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4647.34814453125, "policy_loss": -0.02441074699163437, "vf_loss": 4647.3701171875, "vf_explained_var": 0.31325438618659973, "kl": 0.01161747146397829, "entropy": 0.8671862483024597, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 532000, "episodes_total": 531, "training_iteration": 133, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-52-49", "timestamp": 1565596369, "time_this_iter_s": 11.742997646331787, "time_total_s": 1547.2139556407928, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1547.2139556407928, "timesteps_since_restore": 532000, "iterations_since_restore": 133, "perf": {"cpu_util_percent": 30.9, "ram_util_percent": 17.05625}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1303.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5235239024328284, "mean_processing_ms": 0.10333183362610676, "mean_inference_ms": 0.5876890757268043}, "off_policy_estimator": {}, "info": {"num_steps_trained": 531712, "num_steps_sampled": 536000, "sample_time_ms": 4914.186, "load_time_ms": 2.186, "grad_time_ms": 6780.725, "update_time_ms": 7.949, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3629.54443359375, "policy_loss": -0.026221081614494324, "vf_loss": 3629.568603515625, "vf_explained_var": 0.2878137528896332, "kl": 0.008329560048878193, "entropy": 0.8570889830589294, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 536000, "episodes_total": 535, "training_iteration": 134, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-53-01", "timestamp": 1565596381, "time_this_iter_s": 11.808452844619751, "time_total_s": 1559.0224084854126, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1559.0224084854126, "timesteps_since_restore": 536000, "iterations_since_restore": 134, "perf": {"cpu_util_percent": 31.252941176470586, "ram_util_percent": 17.088235294117652}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1297.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5234329198813877, "mean_processing_ms": 0.10332044170770552, "mean_inference_ms": 0.5877048047860055}, "off_policy_estimator": {}, "info": {"num_steps_trained": 535680, "num_steps_sampled": 540000, "sample_time_ms": 4875.049, "load_time_ms": 2.207, "grad_time_ms": 6776.14, "update_time_ms": 9.919, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2953.783935546875, "policy_loss": -0.02000732719898224, "vf_loss": 2953.80126953125, "vf_explained_var": 0.19124606251716614, "kl": 0.008994687348604202, "entropy": 0.8654791712760925, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 540000, "episodes_total": 539, "training_iteration": 135, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-53-12", "timestamp": 1565596392, "time_this_iter_s": 11.759716033935547, "time_total_s": 1570.7821245193481, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1570.7821245193481, "timesteps_since_restore": 540000, "iterations_since_restore": 135, "perf": {"cpu_util_percent": 31.347058823529416, "ram_util_percent": 17.04705882352941}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1285.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5233316490342474, "mean_processing_ms": 0.1033093364728715, "mean_inference_ms": 0.5877070687374846}, "off_policy_estimator": {}, "info": {"num_steps_trained": 539648, "num_steps_sampled": 544000, "sample_time_ms": 4836.819, "load_time_ms": 2.347, "grad_time_ms": 6822.743, "update_time_ms": 7.982, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2948.728271484375, "policy_loss": -0.020498240366578102, "vf_loss": 2948.746337890625, "vf_explained_var": 0.2618393301963806, "kl": 0.01010762806981802, "entropy": 0.8796872496604919, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 544000, "episodes_total": 543, "training_iteration": 136, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-53-24", "timestamp": 1565596404, "time_this_iter_s": 11.779123306274414, "time_total_s": 1582.5612478256226, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1582.5612478256226, "timesteps_since_restore": 544000, "iterations_since_restore": 136, "perf": {"cpu_util_percent": 32.21764705882353, "ram_util_percent": 17.047058823529415}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1289.43, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5232404146249165, "mean_processing_ms": 0.10330095877235182, "mean_inference_ms": 0.5877178086197595}, "off_policy_estimator": {}, "info": {"num_steps_trained": 543616, "num_steps_sampled": 548000, "sample_time_ms": 4835.81, "load_time_ms": 2.357, "grad_time_ms": 6810.005, "update_time_ms": 7.913, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3246.1484375, "policy_loss": -0.020733539015054703, "vf_loss": 3246.16650390625, "vf_explained_var": 0.3078378438949585, "kl": 0.009175247512757778, "entropy": 0.85504549741745, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 548000, "episodes_total": 547, "training_iteration": 137, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-53-36", "timestamp": 1565596416, "time_this_iter_s": 11.55915355682373, "time_total_s": 1594.1204013824463, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1594.1204013824463, "timesteps_since_restore": 548000, "iterations_since_restore": 137, "perf": {"cpu_util_percent": 30.85, "ram_util_percent": 17.075000000000003}}
{"episode_reward_max": -751.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1283.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.523158785681413, "mean_processing_ms": 0.10329332622614128, "mean_inference_ms": 0.5877355980774746}, "off_policy_estimator": {}, "info": {"num_steps_trained": 547584, "num_steps_sampled": 552000, "sample_time_ms": 4856.052, "load_time_ms": 2.247, "grad_time_ms": 6820.67, "update_time_ms": 7.858, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3276.181640625, "policy_loss": -0.019183363765478134, "vf_loss": 3276.197509765625, "vf_explained_var": 0.2820325195789337, "kl": 0.009210951626300812, "entropy": 0.8185204267501831, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 552000, "episodes_total": 551, "training_iteration": 138, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-53-48", "timestamp": 1565596428, "time_this_iter_s": 12.108869552612305, "time_total_s": 1606.2292709350586, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1606.2292709350586, "timesteps_since_restore": 552000, "iterations_since_restore": 138, "perf": {"cpu_util_percent": 32.02777777777778, "ram_util_percent": 17.072222222222226}}
{"episode_reward_max": -835.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1293.61, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5230895732171316, "mean_processing_ms": 0.10328857529892829, "mean_inference_ms": 0.5877708664060581}, "off_policy_estimator": {}, "info": {"num_steps_trained": 551552, "num_steps_sampled": 556000, "sample_time_ms": 4892.592, "load_time_ms": 2.262, "grad_time_ms": 6790.831, "update_time_ms": 9.709, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3291.7939453125, "policy_loss": -0.022174416109919548, "vf_loss": 3291.8134765625, "vf_explained_var": 0.2652473747730255, "kl": 0.0073511963710188866, "entropy": 0.8399314880371094, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 556000, "episodes_total": 555, "training_iteration": 139, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-00", "timestamp": 1565596440, "time_this_iter_s": 11.713317155838013, "time_total_s": 1617.9425880908966, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1617.9425880908966, "timesteps_since_restore": 556000, "iterations_since_restore": 139, "perf": {"cpu_util_percent": 31.725, "ram_util_percent": 17.13125}}
{"episode_reward_max": -835.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1297.56, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5230307863020538, "mean_processing_ms": 0.10328539711156423, "mean_inference_ms": 0.5878102704922497}, "off_policy_estimator": {}, "info": {"num_steps_trained": 555520, "num_steps_sampled": 560000, "sample_time_ms": 4894.668, "load_time_ms": 2.248, "grad_time_ms": 6796.159, "update_time_ms": 10.001, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2690.73291015625, "policy_loss": -0.027321476489305496, "vf_loss": 2690.7568359375, "vf_explained_var": 0.3008658289909363, "kl": 0.009978811256587505, "entropy": 0.8374663591384888, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 560000, "episodes_total": 559, "training_iteration": 140, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-11", "timestamp": 1565596451, "time_this_iter_s": 11.680896520614624, "time_total_s": 1629.6234846115112, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1629.6234846115112, "timesteps_since_restore": 560000, "iterations_since_restore": 140, "perf": {"cpu_util_percent": 31.441176470588236, "ram_util_percent": 17.13529411764706}}
{"episode_reward_max": -835.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1307.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5229712346015496, "mean_processing_ms": 0.10328234352593509, "mean_inference_ms": 0.5878495980710201}, "off_policy_estimator": {}, "info": {"num_steps_trained": 559488, "num_steps_sampled": 564000, "sample_time_ms": 4897.201, "load_time_ms": 2.14, "grad_time_ms": 6839.595, "update_time_ms": 10.077, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3413.233154296875, "policy_loss": -0.02650419995188713, "vf_loss": 3413.25732421875, "vf_explained_var": 0.3995755612850189, "kl": 0.008790976367890835, "entropy": 0.839159369468689, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 564000, "episodes_total": 563, "training_iteration": 141, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-23", "timestamp": 1565596463, "time_this_iter_s": 11.8275728225708, "time_total_s": 1641.451057434082, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1641.451057434082, "timesteps_since_restore": 564000, "iterations_since_restore": 141, "perf": {"cpu_util_percent": 32.28823529411765, "ram_util_percent": 17.058823529411764}}
{"episode_reward_max": -835.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1314.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5229163982362222, "mean_processing_ms": 0.10328052526821495, "mean_inference_ms": 0.5878955602452546}, "off_policy_estimator": {}, "info": {"num_steps_trained": 563456, "num_steps_sampled": 568000, "sample_time_ms": 4903.245, "load_time_ms": 2.209, "grad_time_ms": 6838.828, "update_time_ms": 9.832, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2623.11279296875, "policy_loss": -0.02476891502737999, "vf_loss": 2623.135009765625, "vf_explained_var": 0.3167930245399475, "kl": 0.007901330478489399, "entropy": 0.8316959142684937, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 568000, "episodes_total": 567, "training_iteration": 142, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-35", "timestamp": 1565596475, "time_this_iter_s": 11.645654201507568, "time_total_s": 1653.0967116355896, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1653.0967116355896, "timesteps_since_restore": 568000, "iterations_since_restore": 142, "perf": {"cpu_util_percent": 31.075000000000003, "ram_util_percent": 17.13125}}
{"episode_reward_max": -877.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1325.29, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5228631018398707, "mean_processing_ms": 0.10327864858379232, "mean_inference_ms": 0.5879392577336557}, "off_policy_estimator": {}, "info": {"num_steps_trained": 567424, "num_steps_sampled": 572000, "sample_time_ms": 4904.802, "load_time_ms": 2.224, "grad_time_ms": 6843.24, "update_time_ms": 9.921, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2823.685791015625, "policy_loss": -0.025409463793039322, "vf_loss": 2823.708251953125, "vf_explained_var": 0.31951719522476196, "kl": 0.008525736629962921, "entropy": 0.8535402417182922, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 572000, "episodes_total": 571, "training_iteration": 143, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-47", "timestamp": 1565596487, "time_this_iter_s": 11.808157920837402, "time_total_s": 1664.904869556427, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1664.904869556427, "timesteps_since_restore": 572000, "iterations_since_restore": 143, "perf": {"cpu_util_percent": 31.0, "ram_util_percent": 17.1}}
{"episode_reward_max": -877.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1334.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5228035221579809, "mean_processing_ms": 0.10327635351016873, "mean_inference_ms": 0.5879781390080643}, "off_policy_estimator": {}, "info": {"num_steps_trained": 571392, "num_steps_sampled": 576000, "sample_time_ms": 4855.266, "load_time_ms": 2.244, "grad_time_ms": 6852.739, "update_time_ms": 9.381, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2389.04150390625, "policy_loss": -0.024835791438817978, "vf_loss": 2389.06298828125, "vf_explained_var": 0.32621392607688904, "kl": 0.009978566318750381, "entropy": 0.8692118525505066, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 576000, "episodes_total": 575, "training_iteration": 144, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-54-58", "timestamp": 1565596498, "time_this_iter_s": 11.402926683425903, "time_total_s": 1676.307796239853, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1676.307796239853, "timesteps_since_restore": 576000, "iterations_since_restore": 144, "perf": {"cpu_util_percent": 31.764705882352942, "ram_util_percent": 17.117647058823533}}
{"episode_reward_max": -877.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1336.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5227341704525668, "mean_processing_ms": 0.10327260807593597, "mean_inference_ms": 0.5880099819017462}, "off_policy_estimator": {}, "info": {"num_steps_trained": 575360, "num_steps_sampled": 580000, "sample_time_ms": 4860.861, "load_time_ms": 2.308, "grad_time_ms": 6833.166, "update_time_ms": 7.925, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2261.779541015625, "policy_loss": -0.028869785368442535, "vf_loss": 2261.805419921875, "vf_explained_var": 0.3142741620540619, "kl": 0.010601689107716084, "entropy": 0.8539766669273376, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 580000, "episodes_total": 579, "training_iteration": 145, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-55-10", "timestamp": 1565596510, "time_this_iter_s": 11.609832048416138, "time_total_s": 1687.917628288269, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1687.917628288269, "timesteps_since_restore": 580000, "iterations_since_restore": 145, "perf": {"cpu_util_percent": 30.637500000000003, "ram_util_percent": 17.13125}}
{"episode_reward_max": -877.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1341.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.522658152193231, "mean_processing_ms": 0.1032678242273041, "mean_inference_ms": 0.588034545663772}, "off_policy_estimator": {}, "info": {"num_steps_trained": 579328, "num_steps_sampled": 584000, "sample_time_ms": 4875.936, "load_time_ms": 2.299, "grad_time_ms": 6816.678, "update_time_ms": 7.947, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2103.868896484375, "policy_loss": -0.026337530463933945, "vf_loss": 2103.892578125, "vf_explained_var": 0.38251540064811707, "kl": 0.00950066652148962, "entropy": 0.8476243615150452, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 584000, "episodes_total": 583, "training_iteration": 146, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-55-21", "timestamp": 1565596521, "time_this_iter_s": 11.76517629623413, "time_total_s": 1699.6828045845032, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1699.6828045845032, "timesteps_since_restore": 584000, "iterations_since_restore": 146, "perf": {"cpu_util_percent": 31.517647058823528, "ram_util_percent": 17.129411764705882}}
{"episode_reward_max": -877.0, "episode_reward_min": -2154.0, "episode_reward_mean": -1344.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5225647033000466, "mean_processing_ms": 0.10325915262428761, "mean_inference_ms": 0.5880450916244389}, "off_policy_estimator": {}, "info": {"num_steps_trained": 583296, "num_steps_sampled": 588000, "sample_time_ms": 4877.973, "load_time_ms": 2.4, "grad_time_ms": 6776.828, "update_time_ms": 8.102, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2579.16259765625, "policy_loss": -0.029184335842728615, "vf_loss": 2579.189697265625, "vf_explained_var": 0.3587619662284851, "kl": 0.008458198979496956, "entropy": 0.8235900402069092, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 588000, "episodes_total": 587, "training_iteration": 147, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-55-33", "timestamp": 1565596533, "time_this_iter_s": 11.189646005630493, "time_total_s": 1710.8724505901337, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1710.8724505901337, "timesteps_since_restore": 588000, "iterations_since_restore": 147, "perf": {"cpu_util_percent": 31.3375, "ram_util_percent": 17.150000000000002}}
{"episode_reward_max": -877.0, "episode_reward_min": -2104.0, "episode_reward_mean": -1338.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5224651467330014, "mean_processing_ms": 0.10325018763465785, "mean_inference_ms": 0.5880452043603422}, "off_policy_estimator": {}, "info": {"num_steps_trained": 587264, "num_steps_sampled": 592000, "sample_time_ms": 4858.518, "load_time_ms": 2.486, "grad_time_ms": 6777.416, "update_time_ms": 8.022, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2160.621337890625, "policy_loss": -0.025806860998272896, "vf_loss": 2160.643798828125, "vf_explained_var": 0.3683427572250366, "kl": 0.010508551262319088, "entropy": 0.8290107250213623, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 592000, "episodes_total": 591, "training_iteration": 148, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-55-45", "timestamp": 1565596545, "time_this_iter_s": 11.919959545135498, "time_total_s": 1722.7924101352692, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1722.7924101352692, "timesteps_since_restore": 592000, "iterations_since_restore": 148, "perf": {"cpu_util_percent": 30.99411764705882, "ram_util_percent": 17.13529411764706}}
{"episode_reward_max": -877.0, "episode_reward_min": -2104.0, "episode_reward_mean": -1335.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5223741371392863, "mean_processing_ms": 0.10324115394473972, "mean_inference_ms": 0.5880477341045256}, "off_policy_estimator": {}, "info": {"num_steps_trained": 591232, "num_steps_sampled": 596000, "sample_time_ms": 4836.604, "load_time_ms": 2.484, "grad_time_ms": 6823.567, "update_time_ms": 6.056, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2163.01904296875, "policy_loss": -0.021688872948288918, "vf_loss": 2163.038818359375, "vf_explained_var": 0.3871248960494995, "kl": 0.007920389994978905, "entropy": 0.8267196416854858, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 596000, "episodes_total": 595, "training_iteration": 149, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-55-57", "timestamp": 1565596557, "time_this_iter_s": 11.933695793151855, "time_total_s": 1734.726105928421, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1734.726105928421, "timesteps_since_restore": 596000, "iterations_since_restore": 149, "perf": {"cpu_util_percent": 32.794117647058826, "ram_util_percent": 17.176470588235293}}
{"episode_reward_max": -877.0, "episode_reward_min": -2104.0, "episode_reward_mean": -1335.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5222690126506947, "mean_processing_ms": 0.10322886612419081, "mean_inference_ms": 0.5880341582260804}, "off_policy_estimator": {}, "info": {"num_steps_trained": 595200, "num_steps_sampled": 600000, "sample_time_ms": 4834.204, "load_time_ms": 2.493, "grad_time_ms": 6768.604, "update_time_ms": 5.797, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1948.765380859375, "policy_loss": -0.022844841703772545, "vf_loss": 1948.7857666015625, "vf_explained_var": 0.3621751368045807, "kl": 0.008679657243192196, "entropy": 0.7954604029655457, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 600000, "episodes_total": 599, "training_iteration": 150, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-56-08", "timestamp": 1565596568, "time_this_iter_s": 11.109383583068848, "time_total_s": 1745.8354895114899, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1745.8354895114899, "timesteps_since_restore": 600000, "iterations_since_restore": 150, "perf": {"cpu_util_percent": 31.268749999999997, "ram_util_percent": 17.21875}}
{"episode_reward_max": -877.0, "episode_reward_min": -2104.0, "episode_reward_mean": -1336.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.522157988449772, "mean_processing_ms": 0.10321490005888298, "mean_inference_ms": 0.5880152619647617}, "off_policy_estimator": {}, "info": {"num_steps_trained": 599168, "num_steps_sampled": 604000, "sample_time_ms": 4844.762, "load_time_ms": 2.38, "grad_time_ms": 6767.451, "update_time_ms": 5.682, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1928.788818359375, "policy_loss": -0.025063777342438698, "vf_loss": 1928.8121337890625, "vf_explained_var": 0.4378601014614105, "kl": 0.005844022613018751, "entropy": 0.8468683958053589, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 604000, "episodes_total": 603, "training_iteration": 151, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-56-20", "timestamp": 1565596580, "time_this_iter_s": 11.922614336013794, "time_total_s": 1757.7581038475037, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1757.7581038475037, "timesteps_since_restore": 604000, "iterations_since_restore": 151, "perf": {"cpu_util_percent": 32.08235294117647, "ram_util_percent": 17.129411764705885}}
{"episode_reward_max": -877.0, "episode_reward_min": -1995.0, "episode_reward_mean": -1327.93, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5220633542810185, "mean_processing_ms": 0.10320243778917261, "mean_inference_ms": 0.5880105572689156}, "off_policy_estimator": {}, "info": {"num_steps_trained": 603136, "num_steps_sampled": 608000, "sample_time_ms": 4875.63, "load_time_ms": 2.383, "grad_time_ms": 6783.649, "update_time_ms": 5.877, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1643.520263671875, "policy_loss": -0.03099243715405464, "vf_loss": 1643.548095703125, "vf_explained_var": 0.45285019278526306, "kl": 0.010542955249547958, "entropy": 0.8297396898269653, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 608000, "episodes_total": 607, "training_iteration": 152, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-56-32", "timestamp": 1565596592, "time_this_iter_s": 12.126206398010254, "time_total_s": 1769.884310245514, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1769.884310245514, "timesteps_since_restore": 608000, "iterations_since_restore": 152, "perf": {"cpu_util_percent": 31.28235294117647, "ram_util_percent": 17.13529411764706}}
{"episode_reward_max": -877.0, "episode_reward_min": -1995.0, "episode_reward_mean": -1325.99, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5219657804788551, "mean_processing_ms": 0.10318904535077976, "mean_inference_ms": 0.5880009085424381}, "off_policy_estimator": {}, "info": {"num_steps_trained": 607104, "num_steps_sampled": 612000, "sample_time_ms": 4862.624, "load_time_ms": 2.357, "grad_time_ms": 6733.378, "update_time_ms": 6.38, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1679.0760498046875, "policy_loss": -0.024499090388417244, "vf_loss": 1679.09814453125, "vf_explained_var": 0.48888668417930603, "kl": 0.007300906348973513, "entropy": 0.8035225868225098, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 612000, "episodes_total": 611, "training_iteration": 153, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-56-43", "timestamp": 1565596603, "time_this_iter_s": 11.180002450942993, "time_total_s": 1781.064312696457, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1781.064312696457, "timesteps_since_restore": 612000, "iterations_since_restore": 153, "perf": {"cpu_util_percent": 31.2375, "ram_util_percent": 17.15625}}
{"episode_reward_max": -877.0, "episode_reward_min": -1917.0, "episode_reward_mean": -1322.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5218689994894276, "mean_processing_ms": 0.10317353497876294, "mean_inference_ms": 0.5879939834055483}, "off_policy_estimator": {}, "info": {"num_steps_trained": 611072, "num_steps_sampled": 616000, "sample_time_ms": 4864.463, "load_time_ms": 2.453, "grad_time_ms": 6759.433, "update_time_ms": 6.318, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1894.911865234375, "policy_loss": -0.02715412713587284, "vf_loss": 1894.9365234375, "vf_explained_var": 0.38094601035118103, "kl": 0.008717736229300499, "entropy": 0.7713639140129089, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 616000, "episodes_total": 615, "training_iteration": 154, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-56-55", "timestamp": 1565596615, "time_this_iter_s": 11.68798828125, "time_total_s": 1792.752300977707, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1792.752300977707, "timesteps_since_restore": 616000, "iterations_since_restore": 154, "perf": {"cpu_util_percent": 31.947058823529414, "ram_util_percent": 17.170588235294115}}
{"episode_reward_max": -877.0, "episode_reward_min": -1917.0, "episode_reward_mean": -1316.72, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5217812405166281, "mean_processing_ms": 0.10316120279035612, "mean_inference_ms": 0.5879940196402251}, "off_policy_estimator": {}, "info": {"num_steps_trained": 615040, "num_steps_sampled": 620000, "sample_time_ms": 4874.29, "load_time_ms": 2.368, "grad_time_ms": 6765.88, "update_time_ms": 6.045, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2042.0797119140625, "policy_loss": -0.02104690857231617, "vf_loss": 2042.0982666015625, "vf_explained_var": 0.4071640074253082, "kl": 0.008297817781567574, "entropy": 0.7835471630096436, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 620000, "episodes_total": 619, "training_iteration": 155, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-57-06", "timestamp": 1565596626, "time_this_iter_s": 11.771498203277588, "time_total_s": 1804.5237991809845, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1804.5237991809845, "timesteps_since_restore": 620000, "iterations_since_restore": 155, "perf": {"cpu_util_percent": 31.45882352941177, "ram_util_percent": 17.2}}
{"episode_reward_max": -877.0, "episode_reward_min": -1917.0, "episode_reward_mean": -1325.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5217070685524711, "mean_processing_ms": 0.10314912163817447, "mean_inference_ms": 0.5880029728586933}, "off_policy_estimator": {}, "info": {"num_steps_trained": 619008, "num_steps_sampled": 624000, "sample_time_ms": 4900.888, "load_time_ms": 2.277, "grad_time_ms": 6725.77, "update_time_ms": 6.241, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2686.079345703125, "policy_loss": -0.02797127328813076, "vf_loss": 2686.10400390625, "vf_explained_var": 0.4580169916152954, "kl": 0.010466651059687138, "entropy": 0.7994855642318726, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 624000, "episodes_total": 623, "training_iteration": 156, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-57-18", "timestamp": 1565596638, "time_this_iter_s": 11.633270740509033, "time_total_s": 1816.1570699214935, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1816.1570699214935, "timesteps_since_restore": 624000, "iterations_since_restore": 156, "perf": {"cpu_util_percent": 32.48125, "ram_util_percent": 17.15625}}
{"episode_reward_max": -877.0, "episode_reward_min": -1917.0, "episode_reward_mean": -1326.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5216395159009349, "mean_processing_ms": 0.10313764363087291, "mean_inference_ms": 0.5880135314827176}, "off_policy_estimator": {}, "info": {"num_steps_trained": 622976, "num_steps_sampled": 628000, "sample_time_ms": 4916.168, "load_time_ms": 2.334, "grad_time_ms": 6764.702, "update_time_ms": 6.009, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2727.744873046875, "policy_loss": -0.023467879742383957, "vf_loss": 2727.765625, "vf_explained_var": 0.48540323972702026, "kl": 0.009003088809549809, "entropy": 0.8057931661605835, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 628000, "episodes_total": 627, "training_iteration": 157, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-57-30", "timestamp": 1565596650, "time_this_iter_s": 11.723246812820435, "time_total_s": 1827.880316734314, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1827.880316734314, "timesteps_since_restore": 628000, "iterations_since_restore": 157, "perf": {"cpu_util_percent": 32.48823529411765, "ram_util_percent": 17.18235294117647}}
{"episode_reward_max": -877.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1313.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5215899688674442, "mean_processing_ms": 0.10312953146501169, "mean_inference_ms": 0.5880412849146459}, "off_policy_estimator": {}, "info": {"num_steps_trained": 626944, "num_steps_sampled": 632000, "sample_time_ms": 4972.095, "load_time_ms": 2.36, "grad_time_ms": 6759.097, "update_time_ms": 6.519, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2383.2470703125, "policy_loss": -0.023242738097906113, "vf_loss": 2383.267578125, "vf_explained_var": 0.28937914967536926, "kl": 0.008161102421581745, "entropy": 0.8218953013420105, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 632000, "episodes_total": 631, "training_iteration": 158, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-57-42", "timestamp": 1565596662, "time_this_iter_s": 12.433007955551147, "time_total_s": 1840.313324689865, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1840.313324689865, "timesteps_since_restore": 632000, "iterations_since_restore": 158, "perf": {"cpu_util_percent": 32.25555555555556, "ram_util_percent": 17.15555555555556}}
{"episode_reward_max": -877.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1314.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.521529651696243, "mean_processing_ms": 0.10311871226639195, "mean_inference_ms": 0.5880574208209132}, "off_policy_estimator": {}, "info": {"num_steps_trained": 630912, "num_steps_sampled": 636000, "sample_time_ms": 4968.295, "load_time_ms": 2.411, "grad_time_ms": 6716.919, "update_time_ms": 6.471, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2599.18408203125, "policy_loss": -0.024580612778663635, "vf_loss": 2599.20556640625, "vf_explained_var": 0.3493320643901825, "kl": 0.010229223407804966, "entropy": 0.813764750957489, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 636000, "episodes_total": 635, "training_iteration": 159, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-57-54", "timestamp": 1565596674, "time_this_iter_s": 11.472168922424316, "time_total_s": 1851.7854936122894, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1851.7854936122894, "timesteps_since_restore": 636000, "iterations_since_restore": 159, "perf": {"cpu_util_percent": 32.1, "ram_util_percent": 17.21875}}
{"episode_reward_max": -920.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1326.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5214742386288495, "mean_processing_ms": 0.10310845062678771, "mean_inference_ms": 0.5880792305683937}, "off_policy_estimator": {}, "info": {"num_steps_trained": 634880, "num_steps_sampled": 640000, "sample_time_ms": 4989.6, "load_time_ms": 2.322, "grad_time_ms": 6773.184, "update_time_ms": 6.688, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3511.8203125, "policy_loss": -0.02944987080991268, "vf_loss": 3511.8466796875, "vf_explained_var": 0.4408777952194214, "kl": 0.009748945944011211, "entropy": 0.8063415884971619, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 640000, "episodes_total": 639, "training_iteration": 160, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-58-06", "timestamp": 1565596686, "time_this_iter_s": 11.879642486572266, "time_total_s": 1863.6651360988617, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1863.6651360988617, "timesteps_since_restore": 640000, "iterations_since_restore": 160, "perf": {"cpu_util_percent": 31.029411764705884, "ram_util_percent": 17.211764705882352}}
{"episode_reward_max": -990.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1333.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5214223812082512, "mean_processing_ms": 0.10309797787628472, "mean_inference_ms": 0.5881028524153975}, "off_policy_estimator": {}, "info": {"num_steps_trained": 638848, "num_steps_sampled": 644000, "sample_time_ms": 4973.585, "load_time_ms": 2.462, "grad_time_ms": 6773.187, "update_time_ms": 7.959, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3054.348876953125, "policy_loss": -0.02394052967429161, "vf_loss": 3054.370361328125, "vf_explained_var": 0.30576997995376587, "kl": 0.00954032689332962, "entropy": 0.8037147521972656, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 644000, "episodes_total": 643, "training_iteration": 161, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-58-17", "timestamp": 1565596697, "time_this_iter_s": 11.77260947227478, "time_total_s": 1875.4377455711365, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1875.4377455711365, "timesteps_since_restore": 644000, "iterations_since_restore": 161, "perf": {"cpu_util_percent": 31.252941176470593, "ram_util_percent": 17.17058823529412}}
{"episode_reward_max": -990.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1335.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5213898470732345, "mean_processing_ms": 0.1030932081219678, "mean_inference_ms": 0.5881463664327006}, "off_policy_estimator": {}, "info": {"num_steps_trained": 642816, "num_steps_sampled": 648000, "sample_time_ms": 4997.701, "load_time_ms": 2.456, "grad_time_ms": 6732.225, "update_time_ms": 8.013, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2584.723876953125, "policy_loss": -0.026043012738227844, "vf_loss": 2584.747802734375, "vf_explained_var": 0.3213987648487091, "kl": 0.00830608420073986, "entropy": 0.7875117659568787, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 648000, "episodes_total": 647, "training_iteration": 162, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-58-29", "timestamp": 1565596709, "time_this_iter_s": 11.949527978897095, "time_total_s": 1887.3872735500336, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1887.3872735500336, "timesteps_since_restore": 648000, "iterations_since_restore": 162, "perf": {"cpu_util_percent": 31.4, "ram_util_percent": 17.205882352941178}}
{"episode_reward_max": -1021.0, "episode_reward_min": -1913.0, "episode_reward_mean": -1340.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5213472745146004, "mean_processing_ms": 0.1030877830665267, "mean_inference_ms": 0.5881787041848903}, "off_policy_estimator": {}, "info": {"num_steps_trained": 646784, "num_steps_sampled": 652000, "sample_time_ms": 4998.946, "load_time_ms": 2.45, "grad_time_ms": 6784.952, "update_time_ms": 7.47, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2649.177001953125, "policy_loss": -0.025765176862478256, "vf_loss": 2649.2001953125, "vf_explained_var": 0.34574368596076965, "kl": 0.008533714339137077, "entropy": 0.8003249764442444, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 652000, "episodes_total": 651, "training_iteration": 163, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-58-41", "timestamp": 1565596721, "time_this_iter_s": 11.711399555206299, "time_total_s": 1899.0986731052399, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1899.0986731052399, "timesteps_since_restore": 652000, "iterations_since_restore": 163, "perf": {"cpu_util_percent": 30.425, "ram_util_percent": 17.1875}}
{"episode_reward_max": -1021.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1334.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5212961592079324, "mean_processing_ms": 0.10308109032711067, "mean_inference_ms": 0.5881997302167195}, "off_policy_estimator": {}, "info": {"num_steps_trained": 650752, "num_steps_sampled": 656000, "sample_time_ms": 5006.969, "load_time_ms": 2.458, "grad_time_ms": 6792.417, "update_time_ms": 9.694, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3066.808349609375, "policy_loss": -0.027035482227802277, "vf_loss": 3066.83251953125, "vf_explained_var": 0.34439966082572937, "kl": 0.009200574830174446, "entropy": 0.8301798701286316, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 656000, "episodes_total": 655, "training_iteration": 164, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-58-53", "timestamp": 1565596733, "time_this_iter_s": 11.859841585159302, "time_total_s": 1910.9585146903992, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1910.9585146903992, "timesteps_since_restore": 656000, "iterations_since_restore": 164, "perf": {"cpu_util_percent": 32.370588235294115, "ram_util_percent": 17.2}}
{"episode_reward_max": -1021.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1332.58, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5212579722332593, "mean_processing_ms": 0.10307661548304896, "mean_inference_ms": 0.5882359508188648}, "off_policy_estimator": {}, "info": {"num_steps_trained": 654720, "num_steps_sampled": 660000, "sample_time_ms": 5030.834, "load_time_ms": 2.36, "grad_time_ms": 6778.099, "update_time_ms": 9.645, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3667.603515625, "policy_loss": -0.022453974932432175, "vf_loss": 3667.623779296875, "vf_explained_var": 0.3109448552131653, "kl": 0.007501391228288412, "entropy": 0.801572322845459, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 660000, "episodes_total": 659, "training_iteration": 165, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-59-05", "timestamp": 1565596745, "time_this_iter_s": 11.865583419799805, "time_total_s": 1922.824098110199, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1922.824098110199, "timesteps_since_restore": 660000, "iterations_since_restore": 165, "perf": {"cpu_util_percent": 31.176470588235293, "ram_util_percent": 17.21764705882353}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1328.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5212154903103969, "mean_processing_ms": 0.1030709518689945, "mean_inference_ms": 0.5882703302557747}, "off_policy_estimator": {}, "info": {"num_steps_trained": 658688, "num_steps_sampled": 664000, "sample_time_ms": 4987.626, "load_time_ms": 2.575, "grad_time_ms": 6834.977, "update_time_ms": 9.535, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3147.16552734375, "policy_loss": -0.024429913610219955, "vf_loss": 3147.18701171875, "vf_explained_var": 0.3305642902851105, "kl": 0.009647407568991184, "entropy": 0.7985408306121826, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 664000, "episodes_total": 663, "training_iteration": 166, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-59-17", "timestamp": 1565596757, "time_this_iter_s": 11.771578550338745, "time_total_s": 1934.5956766605377, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1934.5956766605377, "timesteps_since_restore": 664000, "iterations_since_restore": 166, "perf": {"cpu_util_percent": 31.635294117647057, "ram_util_percent": 17.258823529411767}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1332.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5211772428555765, "mean_processing_ms": 0.10306612262652051, "mean_inference_ms": 0.5883039982493865}, "off_policy_estimator": {}, "info": {"num_steps_trained": 662656, "num_steps_sampled": 668000, "sample_time_ms": 4988.934, "load_time_ms": 2.459, "grad_time_ms": 6834.879, "update_time_ms": 9.623, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3138.185791015625, "policy_loss": -0.02416716143488884, "vf_loss": 3138.206787109375, "vf_explained_var": 0.3072274923324585, "kl": 0.010117921978235245, "entropy": 0.8427723050117493, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 668000, "episodes_total": 667, "training_iteration": 167, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-59-28", "timestamp": 1565596768, "time_this_iter_s": 11.74050521850586, "time_total_s": 1946.3361818790436, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1946.3361818790436, "timesteps_since_restore": 668000, "iterations_since_restore": 167, "perf": {"cpu_util_percent": 32.74705882352941, "ram_util_percent": 17.194117647058825}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1330.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5211378223210034, "mean_processing_ms": 0.10306158735076608, "mean_inference_ms": 0.5883362254973025}, "off_policy_estimator": {}, "info": {"num_steps_trained": 666624, "num_steps_sampled": 672000, "sample_time_ms": 4926.719, "load_time_ms": 2.371, "grad_time_ms": 6836.327, "update_time_ms": 9.233, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2735.65771484375, "policy_loss": -0.023200396448373795, "vf_loss": 2735.678466796875, "vf_explained_var": 0.31675633788108826, "kl": 0.00778602110221982, "entropy": 0.8128237724304199, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 672000, "episodes_total": 671, "training_iteration": 168, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-59-40", "timestamp": 1565596780, "time_this_iter_s": 11.817471265792847, "time_total_s": 1958.1536531448364, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1958.1536531448364, "timesteps_since_restore": 672000, "iterations_since_restore": 168, "perf": {"cpu_util_percent": 31.11764705882353, "ram_util_percent": 17.200000000000003}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1328.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5211069917788288, "mean_processing_ms": 0.10305681186959817, "mean_inference_ms": 0.5883698804689173}, "off_policy_estimator": {}, "info": {"num_steps_trained": 670592, "num_steps_sampled": 676000, "sample_time_ms": 4925.222, "load_time_ms": 2.324, "grad_time_ms": 6873.327, "update_time_ms": 9.344, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2936.443359375, "policy_loss": -0.025913383811712265, "vf_loss": 2936.466064453125, "vf_explained_var": 0.333886057138443, "kl": 0.009878790006041527, "entropy": 0.8506139516830444, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 676000, "episodes_total": 675, "training_iteration": 169, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_15-59-52", "timestamp": 1565596792, "time_this_iter_s": 11.828655004501343, "time_total_s": 1969.9823081493378, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1969.9823081493378, "timesteps_since_restore": 676000, "iterations_since_restore": 169, "perf": {"cpu_util_percent": 31.635294117647057, "ram_util_percent": 17.176470588235293}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1326.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5210677402440114, "mean_processing_ms": 0.10305029644258445, "mean_inference_ms": 0.5883945986422132}, "off_policy_estimator": {}, "info": {"num_steps_trained": 674560, "num_steps_sampled": 680000, "sample_time_ms": 4883.005, "load_time_ms": 2.349, "grad_time_ms": 6828.01, "update_time_ms": 9.176, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3148.24755859375, "policy_loss": -0.02738538756966591, "vf_loss": 3148.2724609375, "vf_explained_var": 0.35395199060440063, "kl": 0.0092856390401721, "entropy": 0.8516281843185425, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 680000, "episodes_total": 679, "training_iteration": 170, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-00-03", "timestamp": 1565596803, "time_this_iter_s": 11.009678363800049, "time_total_s": 1980.9919865131378, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1980.9919865131378, "timesteps_since_restore": 680000, "iterations_since_restore": 170, "perf": {"cpu_util_percent": 31.146666666666665, "ram_util_percent": 17.24}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1313.73, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5210241518198653, "mean_processing_ms": 0.10304386694456427, "mean_inference_ms": 0.5884173306073234}, "off_policy_estimator": {}, "info": {"num_steps_trained": 678528, "num_steps_sampled": 684000, "sample_time_ms": 4882.252, "load_time_ms": 2.202, "grad_time_ms": 6842.053, "update_time_ms": 8.156, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2164.45263671875, "policy_loss": -0.017144156619906425, "vf_loss": 2164.467529296875, "vf_explained_var": 0.2809300124645233, "kl": 0.007556908298283815, "entropy": 0.8515192270278931, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 684000, "episodes_total": 683, "training_iteration": 171, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-00-15", "timestamp": 1565596815, "time_this_iter_s": 11.893983840942383, "time_total_s": 1992.8859703540802, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 1992.8859703540802, "timesteps_since_restore": 684000, "iterations_since_restore": 171, "perf": {"cpu_util_percent": 31.641176470588235, "ram_util_percent": 17.200000000000003}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1310.11, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5209910651049481, "mean_processing_ms": 0.10303925200970071, "mean_inference_ms": 0.5884493057397736}, "off_policy_estimator": {}, "info": {"num_steps_trained": 682496, "num_steps_sampled": 688000, "sample_time_ms": 4848.785, "load_time_ms": 2.262, "grad_time_ms": 6882.79, "update_time_ms": 8.001, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2903.1728515625, "policy_loss": -0.024195007979869843, "vf_loss": 2903.194580078125, "vf_explained_var": 0.2505771517753601, "kl": 0.008814506232738495, "entropy": 0.8375037312507629, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 688000, "episodes_total": 687, "training_iteration": 172, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-00-27", "timestamp": 1565596827, "time_this_iter_s": 12.022342681884766, "time_total_s": 2004.908313035965, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2004.908313035965, "timesteps_since_restore": 688000, "iterations_since_restore": 172, "perf": {"cpu_util_percent": 31.947058823529414, "ram_util_percent": 17.235294117647058}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1302.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5209577343641972, "mean_processing_ms": 0.10303343578708402, "mean_inference_ms": 0.5884786774474802}, "off_policy_estimator": {}, "info": {"num_steps_trained": 686464, "num_steps_sampled": 692000, "sample_time_ms": 4854.441, "load_time_ms": 2.266, "grad_time_ms": 6883.556, "update_time_ms": 8.34, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2790.9951171875, "policy_loss": -0.024701686576008797, "vf_loss": 2791.017333984375, "vf_explained_var": 0.26431336998939514, "kl": 0.00844312459230423, "entropy": 0.8641573786735535, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 692000, "episodes_total": 691, "training_iteration": 173, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-00-39", "timestamp": 1565596839, "time_this_iter_s": 11.781272649765015, "time_total_s": 2016.68958568573, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2016.68958568573, "timesteps_since_restore": 692000, "iterations_since_restore": 173, "perf": {"cpu_util_percent": 31.170588235294115, "ram_util_percent": 17.27058823529412}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1307.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5209189767374924, "mean_processing_ms": 0.10302622779452421, "mean_inference_ms": 0.5885037202504599}, "off_policy_estimator": {}, "info": {"num_steps_trained": 690432, "num_steps_sampled": 696000, "sample_time_ms": 4843.553, "load_time_ms": 2.233, "grad_time_ms": 6870.731, "update_time_ms": 6.348, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3614.91455078125, "policy_loss": -0.026516927406191826, "vf_loss": 3614.938720703125, "vf_explained_var": 0.27890661358833313, "kl": 0.006983854807913303, "entropy": 0.8499294519424438, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 696000, "episodes_total": 695, "training_iteration": 174, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-00-51", "timestamp": 1565596851, "time_this_iter_s": 11.6074538230896, "time_total_s": 2028.2970395088196, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2028.2970395088196, "timesteps_since_restore": 696000, "iterations_since_restore": 174, "perf": {"cpu_util_percent": 31.752941176470586, "ram_util_percent": 17.270588235294117}}
{"episode_reward_max": -890.0, "episode_reward_min": -1795.0, "episode_reward_mean": -1306.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5208910721604475, "mean_processing_ms": 0.1030202388649599, "mean_inference_ms": 0.5885363898510148}, "off_policy_estimator": {}, "info": {"num_steps_trained": 694400, "num_steps_sampled": 700000, "sample_time_ms": 4826.254, "load_time_ms": 2.34, "grad_time_ms": 6843.309, "update_time_ms": 6.212, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2637.6865234375, "policy_loss": -0.028277574107050896, "vf_loss": 2637.7109375, "vf_explained_var": 0.3186810314655304, "kl": 0.011646515689790249, "entropy": 0.7873474359512329, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 700000, "episodes_total": 699, "training_iteration": 175, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-01-02", "timestamp": 1565596862, "time_this_iter_s": 11.412590265274048, "time_total_s": 2039.7096297740936, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2039.7096297740936, "timesteps_since_restore": 700000, "iterations_since_restore": 175, "perf": {"cpu_util_percent": 31.2, "ram_util_percent": 17.2125}}
{"episode_reward_max": -885.0, "episode_reward_min": -1670.0, "episode_reward_mean": -1297.29, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5208555172114042, "mean_processing_ms": 0.10301197900994541, "mean_inference_ms": 0.5885579482520863}, "off_policy_estimator": {}, "info": {"num_steps_trained": 698368, "num_steps_sampled": 704000, "sample_time_ms": 4813.915, "load_time_ms": 2.256, "grad_time_ms": 6835.245, "update_time_ms": 6.437, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2897.623046875, "policy_loss": -0.023243628442287445, "vf_loss": 2897.6435546875, "vf_explained_var": 0.2522585093975067, "kl": 0.00895240530371666, "entropy": 0.7716566920280457, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 704000, "episodes_total": 703, "training_iteration": 176, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-01-14", "timestamp": 1565596874, "time_this_iter_s": 11.565910339355469, "time_total_s": 2051.275540113449, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2051.275540113449, "timesteps_since_restore": 704000, "iterations_since_restore": 176, "perf": {"cpu_util_percent": 30.976470588235294, "ram_util_percent": 17.247058823529414}}
{"episode_reward_max": -885.0, "episode_reward_min": -1670.0, "episode_reward_mean": -1293.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5208060737571488, "mean_processing_ms": 0.10300403293049067, "mean_inference_ms": 0.5885658555663741}, "off_policy_estimator": {}, "info": {"num_steps_trained": 702336, "num_steps_sampled": 708000, "sample_time_ms": 4794.437, "load_time_ms": 2.307, "grad_time_ms": 6840.537, "update_time_ms": 6.317, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2722.397705078125, "policy_loss": -0.023476874455809593, "vf_loss": 2722.417724609375, "vf_explained_var": 0.25972646474838257, "kl": 0.009545207023620605, "entropy": 0.735603392124176, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 708000, "episodes_total": 707, "training_iteration": 177, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-01-25", "timestamp": 1565596885, "time_this_iter_s": 11.594443082809448, "time_total_s": 2062.8699831962585, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2062.8699831962585, "timesteps_since_restore": 708000, "iterations_since_restore": 177, "perf": {"cpu_util_percent": 32.28125, "ram_util_percent": 17.28125}}
{"episode_reward_max": -885.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1290.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5207679704519079, "mean_processing_ms": 0.10299816258488566, "mean_inference_ms": 0.588585713595124}, "off_policy_estimator": {}, "info": {"num_steps_trained": 706304, "num_steps_sampled": 712000, "sample_time_ms": 4826.766, "load_time_ms": 2.242, "grad_time_ms": 6793.531, "update_time_ms": 6.256, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3510.177978515625, "policy_loss": -0.026443546637892723, "vf_loss": 3510.200927734375, "vf_explained_var": 0.28423431515693665, "kl": 0.009429091587662697, "entropy": 0.7483240962028503, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 712000, "episodes_total": 711, "training_iteration": 178, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-01-37", "timestamp": 1565596897, "time_this_iter_s": 11.668651580810547, "time_total_s": 2074.538634777069, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2074.538634777069, "timesteps_since_restore": 712000, "iterations_since_restore": 178, "perf": {"cpu_util_percent": 30.941176470588236, "ram_util_percent": 17.294117647058826}}
{"episode_reward_max": -885.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1291.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5207333322520342, "mean_processing_ms": 0.10299249434552425, "mean_inference_ms": 0.5886076613959539}, "off_policy_estimator": {}, "info": {"num_steps_trained": 710272, "num_steps_sampled": 716000, "sample_time_ms": 4823.581, "load_time_ms": 2.114, "grad_time_ms": 6796.479, "update_time_ms": 6.11, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3457.1962890625, "policy_loss": -0.024325760081410408, "vf_loss": 3457.218017578125, "vf_explained_var": 0.29258763790130615, "kl": 0.008405284024775028, "entropy": 0.7568112015724182, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 716000, "episodes_total": 715, "training_iteration": 179, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-01-49", "timestamp": 1565596909, "time_this_iter_s": 11.820310115814209, "time_total_s": 2086.3589448928833, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2086.3589448928833, "timesteps_since_restore": 716000, "iterations_since_restore": 179, "perf": {"cpu_util_percent": 31.058823529411764, "ram_util_percent": 17.3}}
{"episode_reward_max": -885.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1293.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5207017320757115, "mean_processing_ms": 0.10298765827499791, "mean_inference_ms": 0.588632934720125}, "off_policy_estimator": {}, "info": {"num_steps_trained": 714240, "num_steps_sampled": 720000, "sample_time_ms": 4880.529, "load_time_ms": 2.129, "grad_time_ms": 6838.093, "update_time_ms": 6.29, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3073.787109375, "policy_loss": -0.02482421137392521, "vf_loss": 3073.80810546875, "vf_explained_var": 0.32420599460601807, "kl": 0.011569431982934475, "entropy": 0.7181300520896912, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 720000, "episodes_total": 719, "training_iteration": 180, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-01", "timestamp": 1565596921, "time_this_iter_s": 11.995497465133667, "time_total_s": 2098.354442358017, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2098.354442358017, "timesteps_since_restore": 720000, "iterations_since_restore": 180, "perf": {"cpu_util_percent": 32.088235294117645, "ram_util_percent": 17.241176470588233}}
{"episode_reward_max": -885.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1285.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5206596721496581, "mean_processing_ms": 0.1029812613711842, "mean_inference_ms": 0.588646910560185}, "off_policy_estimator": {}, "info": {"num_steps_trained": 718208, "num_steps_sampled": 724000, "sample_time_ms": 4880.012, "load_time_ms": 2.252, "grad_time_ms": 6777.862, "update_time_ms": 6.199, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3350.08837890625, "policy_loss": -0.028996169567108154, "vf_loss": 3350.114501953125, "vf_explained_var": 0.253535658121109, "kl": 0.008993015624582767, "entropy": 0.7287500500679016, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 724000, "episodes_total": 723, "training_iteration": 181, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-12", "timestamp": 1565596932, "time_this_iter_s": 11.290152549743652, "time_total_s": 2109.6445949077606, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2109.6445949077606, "timesteps_since_restore": 724000, "iterations_since_restore": 181, "perf": {"cpu_util_percent": 30.45, "ram_util_percent": 17.3}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1268.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.520615174134109, "mean_processing_ms": 0.10297526207460742, "mean_inference_ms": 0.5886624953632773}, "off_policy_estimator": {}, "info": {"num_steps_trained": 722176, "num_steps_sampled": 728000, "sample_time_ms": 4860.527, "load_time_ms": 2.116, "grad_time_ms": 6765.801, "update_time_ms": 6.603, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2471.503173828125, "policy_loss": -0.024990666657686234, "vf_loss": 2471.5263671875, "vf_explained_var": 0.20825403928756714, "kl": 0.006783990655094385, "entropy": 0.685549795627594, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 728000, "episodes_total": 727, "training_iteration": 182, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-24", "timestamp": 1565596944, "time_this_iter_s": 11.713332653045654, "time_total_s": 2121.3579275608063, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2121.3579275608063, "timesteps_since_restore": 728000, "iterations_since_restore": 182, "perf": {"cpu_util_percent": 32.54117647058823, "ram_util_percent": 17.258823529411764}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1266.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5205507506042002, "mean_processing_ms": 0.10296478570447114, "mean_inference_ms": 0.5886556206459836}, "off_policy_estimator": {}, "info": {"num_steps_trained": 726144, "num_steps_sampled": 732000, "sample_time_ms": 4845.663, "load_time_ms": 2.132, "grad_time_ms": 6763.29, "update_time_ms": 6.331, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2440.656494140625, "policy_loss": -0.022148625925183296, "vf_loss": 2440.675537109375, "vf_explained_var": 0.23346532881259918, "kl": 0.009693748317658901, "entropy": 0.7126349210739136, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 732000, "episodes_total": 731, "training_iteration": 183, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-35", "timestamp": 1565596955, "time_this_iter_s": 11.605570554733276, "time_total_s": 2132.9634981155396, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2132.9634981155396, "timesteps_since_restore": 732000, "iterations_since_restore": 183, "perf": {"cpu_util_percent": 31.737499999999997, "ram_util_percent": 17.3375}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1260.75, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5204832980250536, "mean_processing_ms": 0.10295375871968034, "mean_inference_ms": 0.5886455271689968}, "off_policy_estimator": {}, "info": {"num_steps_trained": 730112, "num_steps_sampled": 736000, "sample_time_ms": 4848.232, "load_time_ms": 2.166, "grad_time_ms": 6776.467, "update_time_ms": 6.214, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2603.1591796875, "policy_loss": -0.021326009184122086, "vf_loss": 2603.178466796875, "vf_explained_var": 0.21133306622505188, "kl": 0.007829948328435421, "entropy": 0.7183133959770203, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 736000, "episodes_total": 735, "training_iteration": 184, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-47", "timestamp": 1565596967, "time_this_iter_s": 11.76014232635498, "time_total_s": 2144.7236404418945, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2144.7236404418945, "timesteps_since_restore": 736000, "iterations_since_restore": 184, "perf": {"cpu_util_percent": 31.258823529411764, "ram_util_percent": 17.28235294117647}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1252.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5204266291152809, "mean_processing_ms": 0.10294606149628233, "mean_inference_ms": 0.5886459953436689}, "off_policy_estimator": {}, "info": {"num_steps_trained": 734080, "num_steps_sampled": 740000, "sample_time_ms": 4883.578, "load_time_ms": 2.095, "grad_time_ms": 6818.829, "update_time_ms": 6.299, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2813.720458984375, "policy_loss": -0.02639501728117466, "vf_loss": 2813.743408203125, "vf_explained_var": 0.291392058134079, "kl": 0.011114895343780518, "entropy": 0.7030860781669617, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 740000, "episodes_total": 739, "training_iteration": 185, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-02-59", "timestamp": 1565596979, "time_this_iter_s": 12.19625449180603, "time_total_s": 2156.9198949337006, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2156.9198949337006, "timesteps_since_restore": 740000, "iterations_since_restore": 185, "perf": {"cpu_util_percent": 31.294117647058822, "ram_util_percent": 17.341176470588238}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1252.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5203685531431864, "mean_processing_ms": 0.10293875192152811, "mean_inference_ms": 0.5886460009900442}, "off_policy_estimator": {}, "info": {"num_steps_trained": 738048, "num_steps_sampled": 744000, "sample_time_ms": 4898.814, "load_time_ms": 2.065, "grad_time_ms": 6767.082, "update_time_ms": 6.128, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3082.76025390625, "policy_loss": -0.02020633965730667, "vf_loss": 3082.778076171875, "vf_explained_var": 0.30470165610313416, "kl": 0.007574152201414108, "entropy": 0.6968390941619873, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 744000, "episodes_total": 743, "training_iteration": 186, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-03-11", "timestamp": 1565596991, "time_this_iter_s": 11.20290994644165, "time_total_s": 2168.122804880142, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2168.122804880142, "timesteps_since_restore": 744000, "iterations_since_restore": 186, "perf": {"cpu_util_percent": 31.18125, "ram_util_percent": 17.287499999999998}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1253.27, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5202930825475093, "mean_processing_ms": 0.10292908742755152, "mean_inference_ms": 0.5886292887050095}, "off_policy_estimator": {}, "info": {"num_steps_trained": 742016, "num_steps_sampled": 748000, "sample_time_ms": 4906.006, "load_time_ms": 2.074, "grad_time_ms": 6769.426, "update_time_ms": 7.548, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3646.2275390625, "policy_loss": -0.022624069824814796, "vf_loss": 3646.24755859375, "vf_explained_var": 0.28634196519851685, "kl": 0.00788468960672617, "entropy": 0.685944139957428, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 748000, "episodes_total": 747, "training_iteration": 187, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-03-22", "timestamp": 1565597002, "time_this_iter_s": 11.703798770904541, "time_total_s": 2179.8266036510468, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2179.8266036510468, "timesteps_since_restore": 748000, "iterations_since_restore": 187, "perf": {"cpu_util_percent": 31.552941176470586, "ram_util_percent": 17.288235294117644}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1255.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5202230613035416, "mean_processing_ms": 0.10292110874333157, "mean_inference_ms": 0.5886170964466273}, "off_policy_estimator": {}, "info": {"num_steps_trained": 745984, "num_steps_sampled": 752000, "sample_time_ms": 4886.1, "load_time_ms": 2.34, "grad_time_ms": 6806.207, "update_time_ms": 7.636, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3471.16650390625, "policy_loss": -0.023184489458799362, "vf_loss": 3471.18798828125, "vf_explained_var": 0.2882245182991028, "kl": 0.008568317629396915, "entropy": 0.7084660530090332, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 752000, "episodes_total": 751, "training_iteration": 188, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-03-34", "timestamp": 1565597014, "time_this_iter_s": 11.839119672775269, "time_total_s": 2191.665723323822, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2191.665723323822, "timesteps_since_restore": 752000, "iterations_since_restore": 188, "perf": {"cpu_util_percent": 31.594117647058823, "ram_util_percent": 17.276470588235295}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1253.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5201579276422309, "mean_processing_ms": 0.1029141176773047, "mean_inference_ms": 0.5886117635626545}, "off_policy_estimator": {}, "info": {"num_steps_trained": 749952, "num_steps_sampled": 756000, "sample_time_ms": 4907.7, "load_time_ms": 2.62, "grad_time_ms": 6747.626, "update_time_ms": 7.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2709.340576171875, "policy_loss": -0.01938513293862343, "vf_loss": 2709.35791015625, "vf_explained_var": 0.2675350308418274, "kl": 0.006996339187026024, "entropy": 0.680672824382782, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 756000, "episodes_total": 755, "training_iteration": 189, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-03-46", "timestamp": 1565597026, "time_this_iter_s": 11.456651210784912, "time_total_s": 2203.122374534607, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2203.122374534607, "timesteps_since_restore": 756000, "iterations_since_restore": 189, "perf": {"cpu_util_percent": 31.337500000000002, "ram_util_percent": 17.3}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1249.17, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5200884154802234, "mean_processing_ms": 0.10290707313961724, "mean_inference_ms": 0.5886034169134804}, "off_policy_estimator": {}, "info": {"num_steps_trained": 753920, "num_steps_sampled": 760000, "sample_time_ms": 4907.645, "load_time_ms": 2.705, "grad_time_ms": 6741.17, "update_time_ms": 7.865, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2687.013916015625, "policy_loss": -0.020671792328357697, "vf_loss": 2687.032470703125, "vf_explained_var": 0.3277203142642975, "kl": 0.006639937870204449, "entropy": 0.6714131236076355, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 760000, "episodes_total": 759, "training_iteration": 190, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-03-58", "timestamp": 1565597038, "time_this_iter_s": 11.932566404342651, "time_total_s": 2215.0549409389496, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2215.0549409389496, "timesteps_since_restore": 760000, "iterations_since_restore": 190, "perf": {"cpu_util_percent": 32.00588235294118, "ram_util_percent": 17.33529411764706}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1244.8, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5200272945976234, "mean_processing_ms": 0.1029033139706782, "mean_inference_ms": 0.58860334678259}, "off_policy_estimator": {}, "info": {"num_steps_trained": 757888, "num_steps_sampled": 764000, "sample_time_ms": 4937.134, "load_time_ms": 2.708, "grad_time_ms": 6790.464, "update_time_ms": 7.761, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2890.292724609375, "policy_loss": -0.0260939858853817, "vf_loss": 2890.316162109375, "vf_explained_var": 0.30805084109306335, "kl": 0.009812356904149055, "entropy": 0.6779981255531311, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 764000, "episodes_total": 763, "training_iteration": 191, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-04-10", "timestamp": 1565597050, "time_this_iter_s": 12.077245950698853, "time_total_s": 2227.1321868896484, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2227.1321868896484, "timesteps_since_restore": 764000, "iterations_since_restore": 191, "perf": {"cpu_util_percent": 31.97222222222222, "ram_util_percent": 17.305555555555557}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1244.08, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5199672293537188, "mean_processing_ms": 0.10290024952699038, "mean_inference_ms": 0.5886051343296973}, "off_policy_estimator": {}, "info": {"num_steps_trained": 761856, "num_steps_sampled": 768000, "sample_time_ms": 4945.854, "load_time_ms": 2.787, "grad_time_ms": 6790.943, "update_time_ms": 7.573, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2578.057373046875, "policy_loss": -0.028798477724194527, "vf_loss": 2578.08349609375, "vf_explained_var": 0.2902722656726837, "kl": 0.00992924440652132, "entropy": 0.6686481237411499, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 768000, "episodes_total": 767, "training_iteration": 192, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-04-21", "timestamp": 1565597061, "time_this_iter_s": 11.809247970581055, "time_total_s": 2238.9414348602295, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2238.9414348602295, "timesteps_since_restore": 768000, "iterations_since_restore": 192, "perf": {"cpu_util_percent": 30.725, "ram_util_percent": 17.318749999999998}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1241.44, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5199053955441068, "mean_processing_ms": 0.10289664181722231, "mean_inference_ms": 0.5886045718465137}, "off_policy_estimator": {}, "info": {"num_steps_trained": 765824, "num_steps_sampled": 772000, "sample_time_ms": 4951.188, "load_time_ms": 2.795, "grad_time_ms": 6791.428, "update_time_ms": 7.353, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2517.841796875, "policy_loss": -0.020624948665499687, "vf_loss": 2517.8603515625, "vf_explained_var": 0.2978799343109131, "kl": 0.005872874986380339, "entropy": 0.6715710163116455, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 772000, "episodes_total": 771, "training_iteration": 193, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-04-33", "timestamp": 1565597073, "time_this_iter_s": 11.66187596321106, "time_total_s": 2250.6033108234406, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2250.6033108234406, "timesteps_since_restore": 772000, "iterations_since_restore": 193, "perf": {"cpu_util_percent": 32.36470588235294, "ram_util_percent": 17.311764705882354}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1240.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5198437687390463, "mean_processing_ms": 0.10289534000546272, "mean_inference_ms": 0.5886058685561879}, "off_policy_estimator": {}, "info": {"num_steps_trained": 769792, "num_steps_sampled": 776000, "sample_time_ms": 4971.137, "load_time_ms": 2.793, "grad_time_ms": 6788.677, "update_time_ms": 7.264, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2746.65966796875, "policy_loss": -0.02499072253704071, "vf_loss": 2746.68212890625, "vf_explained_var": 0.3453711271286011, "kl": 0.00844309851527214, "entropy": 0.6892908215522766, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 776000, "episodes_total": 775, "training_iteration": 194, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-04-45", "timestamp": 1565597085, "time_this_iter_s": 11.930890321731567, "time_total_s": 2262.534201145172, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2262.534201145172, "timesteps_since_restore": 776000, "iterations_since_restore": 194, "perf": {"cpu_util_percent": 31.18235294117647, "ram_util_percent": 17.32941176470588}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1233.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5197968331342432, "mean_processing_ms": 0.10289794410684866, "mean_inference_ms": 0.5886181408717683}, "off_policy_estimator": {}, "info": {"num_steps_trained": 773760, "num_steps_sampled": 780000, "sample_time_ms": 4934.429, "load_time_ms": 2.884, "grad_time_ms": 6790.757, "update_time_ms": 9.277, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2347.142822265625, "policy_loss": -0.023315060883760452, "vf_loss": 2347.1640625, "vf_explained_var": 0.37213537096977234, "kl": 0.0069364761002361774, "entropy": 0.6585596203804016, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 780000, "episodes_total": 779, "training_iteration": 195, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-04-57", "timestamp": 1565597097, "time_this_iter_s": 11.869344234466553, "time_total_s": 2274.4035453796387, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2274.4035453796387, "timesteps_since_restore": 780000, "iterations_since_restore": 195, "perf": {"cpu_util_percent": 31.470588235294116, "ram_util_percent": 17.34705882352941}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1236.44, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5197493723169319, "mean_processing_ms": 0.10289930766712121, "mean_inference_ms": 0.5886285317369391}, "off_policy_estimator": {}, "info": {"num_steps_trained": 777728, "num_steps_sampled": 784000, "sample_time_ms": 4929.356, "load_time_ms": 2.915, "grad_time_ms": 6852.236, "update_time_ms": 9.2, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2179.898193359375, "policy_loss": -0.022582948207855225, "vf_loss": 2179.918701171875, "vf_explained_var": 0.32233861088752747, "kl": 0.007735119201242924, "entropy": 0.6396955847740173, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 784000, "episodes_total": 783, "training_iteration": 196, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-05-09", "timestamp": 1565597109, "time_this_iter_s": 11.765816688537598, "time_total_s": 2286.1693620681763, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2286.1693620681763, "timesteps_since_restore": 784000, "iterations_since_restore": 196, "perf": {"cpu_util_percent": 31.158823529411762, "ram_util_percent": 17.370588235294118}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1236.26, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5197014618150081, "mean_processing_ms": 0.1028996280292952, "mean_inference_ms": 0.5886359911394093}, "off_policy_estimator": {}, "info": {"num_steps_trained": 781696, "num_steps_sampled": 788000, "sample_time_ms": 4950.915, "load_time_ms": 2.906, "grad_time_ms": 6807.571, "update_time_ms": 8.017, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2231.517333984375, "policy_loss": -0.02666090428829193, "vf_loss": 2231.541259765625, "vf_explained_var": 0.4498131275177002, "kl": 0.007969253696501255, "entropy": 0.6848835945129395, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 788000, "episodes_total": 787, "training_iteration": 197, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-05-20", "timestamp": 1565597120, "time_this_iter_s": 11.461037874221802, "time_total_s": 2297.630399942398, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2297.630399942398, "timesteps_since_restore": 788000, "iterations_since_restore": 197, "perf": {"cpu_util_percent": 30.5, "ram_util_percent": 17.38125}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1231.32, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5196512399495923, "mean_processing_ms": 0.10290009247899214, "mean_inference_ms": 0.5886393444006444}, "off_policy_estimator": {}, "info": {"num_steps_trained": 785664, "num_steps_sampled": 792000, "sample_time_ms": 4923.477, "load_time_ms": 2.802, "grad_time_ms": 6807.073, "update_time_ms": 8.782, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1673.6888427734375, "policy_loss": -0.02368919923901558, "vf_loss": 1673.7103271484375, "vf_explained_var": 0.35213419795036316, "kl": 0.007423341739922762, "entropy": 0.6456887125968933, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 792000, "episodes_total": 791, "training_iteration": 198, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-05-32", "timestamp": 1565597132, "time_this_iter_s": 11.568001985549927, "time_total_s": 2309.198401927948, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2309.198401927948, "timesteps_since_restore": 792000, "iterations_since_restore": 198, "perf": {"cpu_util_percent": 32.27058823529412, "ram_util_percent": 17.400000000000002}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1219.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5196048765203077, "mean_processing_ms": 0.10290260357237743, "mean_inference_ms": 0.5886484083908359}, "off_policy_estimator": {}, "info": {"num_steps_trained": 789632, "num_steps_sampled": 796000, "sample_time_ms": 4911.111, "load_time_ms": 2.63, "grad_time_ms": 6853.464, "update_time_ms": 8.75, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1948.6126708984375, "policy_loss": -0.024111570790410042, "vf_loss": 1948.63427734375, "vf_explained_var": 0.41109856963157654, "kl": 0.006970182526856661, "entropy": 0.6464009881019592, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 796000, "episodes_total": 795, "training_iteration": 199, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-05-44", "timestamp": 1565597144, "time_this_iter_s": 11.800606489181519, "time_total_s": 2320.9990084171295, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2320.9990084171295, "timesteps_since_restore": 796000, "iterations_since_restore": 199, "perf": {"cpu_util_percent": 31.641176470588235, "ram_util_percent": 17.335294117647063}}
{"episode_reward_max": -842.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1227.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5195508485880507, "mean_processing_ms": 0.10290388090432173, "mean_inference_ms": 0.5886482772604228}, "off_policy_estimator": {}, "info": {"num_steps_trained": 793600, "num_steps_sampled": 800000, "sample_time_ms": 4869.238, "load_time_ms": 2.597, "grad_time_ms": 6810.143, "update_time_ms": 8.66, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2724.6376953125, "policy_loss": -0.024993930011987686, "vf_loss": 2724.659423828125, "vf_explained_var": 0.30600157380104065, "kl": 0.009955177083611488, "entropy": 0.6741082072257996, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 800000, "episodes_total": 799, "training_iteration": 200, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-05-55", "timestamp": 1565597155, "time_this_iter_s": 11.08333945274353, "time_total_s": 2332.082347869873, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2332.082347869873, "timesteps_since_restore": 800000, "iterations_since_restore": 200, "perf": {"cpu_util_percent": 31.833333333333332, "ram_util_percent": 17.36666666666667}}
{"episode_reward_max": -726.0, "episode_reward_min": -1707.0, "episode_reward_mean": -1222.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5194987176058362, "mean_processing_ms": 0.10290502626759795, "mean_inference_ms": 0.588650508296001}, "off_policy_estimator": {}, "info": {"num_steps_trained": 797568, "num_steps_sampled": 804000, "sample_time_ms": 4825.181, "load_time_ms": 2.465, "grad_time_ms": 6802.51, "update_time_ms": 8.766, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1530.011474609375, "policy_loss": -0.027829432860016823, "vf_loss": 1530.0367431640625, "vf_explained_var": 0.38363292813301086, "kl": 0.008527476340532303, "entropy": 0.6903011798858643, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 804000, "episodes_total": 803, "training_iteration": 201, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-06-06", "timestamp": 1565597166, "time_this_iter_s": 11.558065414428711, "time_total_s": 2343.6404132843018, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2343.6404132843018, "timesteps_since_restore": 804000, "iterations_since_restore": 201, "perf": {"cpu_util_percent": 31.84705882352941, "ram_util_percent": 17.38235294117647}}
{"episode_reward_max": -726.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1233.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.519451498232882, "mean_processing_ms": 0.10290685553093333, "mean_inference_ms": 0.5886566780320011}, "off_policy_estimator": {}, "info": {"num_steps_trained": 801536, "num_steps_sampled": 808000, "sample_time_ms": 4816.543, "load_time_ms": 2.429, "grad_time_ms": 6801.279, "update_time_ms": 8.706, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 8500.6044921875, "policy_loss": -0.028775224462151527, "vf_loss": 8500.6318359375, "vf_explained_var": 0.2212158888578415, "kl": 0.009233968332409859, "entropy": 0.6954432129859924, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 808000, "episodes_total": 807, "training_iteration": 202, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-06-18", "timestamp": 1565597178, "time_this_iter_s": 11.699590921401978, "time_total_s": 2355.3400042057037, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2355.3400042057037, "timesteps_since_restore": 808000, "iterations_since_restore": 202, "perf": {"cpu_util_percent": 31.623529411764707, "ram_util_percent": 17.33529411764706}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1222.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5194015279831384, "mean_processing_ms": 0.1029068421368694, "mean_inference_ms": 0.5886558613543157}, "off_policy_estimator": {}, "info": {"num_steps_trained": 805504, "num_steps_sampled": 812000, "sample_time_ms": 4838.802, "load_time_ms": 2.444, "grad_time_ms": 6758.68, "update_time_ms": 9.171, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1284.833251953125, "policy_loss": -0.021831100806593895, "vf_loss": 1284.8531494140625, "vf_explained_var": 0.3661026656627655, "kl": 0.006955619901418686, "entropy": 0.6368715763092041, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 812000, "episodes_total": 811, "training_iteration": 203, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-06-29", "timestamp": 1565597189, "time_this_iter_s": 11.463335275650024, "time_total_s": 2366.8033394813538, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2366.8033394813538, "timesteps_since_restore": 812000, "iterations_since_restore": 203, "perf": {"cpu_util_percent": 32.20625, "ram_util_percent": 17.39375}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1215.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5193528859427646, "mean_processing_ms": 0.10290785437317577, "mean_inference_ms": 0.5886573513147252}, "off_policy_estimator": {}, "info": {"num_steps_trained": 809472, "num_steps_sampled": 816000, "sample_time_ms": 4835.545, "load_time_ms": 2.472, "grad_time_ms": 6753.074, "update_time_ms": 9.242, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1621.968017578125, "policy_loss": -0.02497442625463009, "vf_loss": 1621.9910888671875, "vf_explained_var": 0.4210319221019745, "kl": 0.006475886330008507, "entropy": 0.6610142588615417, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 816000, "episodes_total": 815, "training_iteration": 204, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-06-41", "timestamp": 1565597201, "time_this_iter_s": 11.843318462371826, "time_total_s": 2378.6466579437256, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2378.6466579437256, "timesteps_since_restore": 816000, "iterations_since_restore": 204, "perf": {"cpu_util_percent": 31.58235294117647, "ram_util_percent": 17.352941176470587}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1211.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5193009164444985, "mean_processing_ms": 0.10290742596771124, "mean_inference_ms": 0.5886558675240015}, "off_policy_estimator": {}, "info": {"num_steps_trained": 813440, "num_steps_sampled": 820000, "sample_time_ms": 4827.033, "load_time_ms": 2.389, "grad_time_ms": 6749.583, "update_time_ms": 7.424, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2052.028076171875, "policy_loss": -0.027803165838122368, "vf_loss": 2052.0537109375, "vf_explained_var": 0.4346717298030853, "kl": 0.007249468006193638, "entropy": 0.6629109382629395, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 820000, "episodes_total": 819, "training_iteration": 205, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-06-53", "timestamp": 1565597213, "time_this_iter_s": 11.725707769393921, "time_total_s": 2390.3723657131195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2390.3723657131195, "timesteps_since_restore": 820000, "iterations_since_restore": 205, "perf": {"cpu_util_percent": 31.95882352941177, "ram_util_percent": 17.370588235294115}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1209.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5192482364486402, "mean_processing_ms": 0.10290667081371346, "mean_inference_ms": 0.5886516581871369}, "off_policy_estimator": {}, "info": {"num_steps_trained": 817408, "num_steps_sampled": 824000, "sample_time_ms": 4825.273, "load_time_ms": 2.222, "grad_time_ms": 6703.429, "update_time_ms": 7.81, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2150.29248046875, "policy_loss": -0.02980317547917366, "vf_loss": 2150.3193359375, "vf_explained_var": 0.39465808868408203, "kl": 0.009671946056187153, "entropy": 0.643163800239563, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 824000, "episodes_total": 823, "training_iteration": 206, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-07-04", "timestamp": 1565597224, "time_this_iter_s": 11.284798622131348, "time_total_s": 2401.657164335251, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2401.657164335251, "timesteps_since_restore": 824000, "iterations_since_restore": 206, "perf": {"cpu_util_percent": 30.7125, "ram_util_percent": 17.3875}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1208.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5192009030409497, "mean_processing_ms": 0.10290622794603571, "mean_inference_ms": 0.5886505022827959}, "off_policy_estimator": {}, "info": {"num_steps_trained": 821376, "num_steps_sampled": 828000, "sample_time_ms": 4829.08, "load_time_ms": 2.238, "grad_time_ms": 6742.098, "update_time_ms": 7.58, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1651.299560546875, "policy_loss": -0.02416354790329933, "vf_loss": 1651.321533203125, "vf_explained_var": 0.3142473101615906, "kl": 0.006901695858687162, "entropy": 0.635241687297821, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 828000, "episodes_total": 827, "training_iteration": 207, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-07-16", "timestamp": 1565597236, "time_this_iter_s": 11.884079456329346, "time_total_s": 2413.54124379158, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2413.54124379158, "timesteps_since_restore": 828000, "iterations_since_restore": 207, "perf": {"cpu_util_percent": 31.341176470588234, "ram_util_percent": 17.35294117647059}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1206.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5191642300631553, "mean_processing_ms": 0.10290820364069958, "mean_inference_ms": 0.5886608230982384}, "off_policy_estimator": {}, "info": {"num_steps_trained": 825344, "num_steps_sampled": 832000, "sample_time_ms": 4875.648, "load_time_ms": 2.208, "grad_time_ms": 6749.49, "update_time_ms": 6.709, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1749.475830078125, "policy_loss": -0.02266852557659149, "vf_loss": 1749.4957275390625, "vf_explained_var": 0.3333492577075958, "kl": 0.008853576146066189, "entropy": 0.6474932432174683, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 832000, "episodes_total": 831, "training_iteration": 208, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-07-28", "timestamp": 1565597248, "time_this_iter_s": 12.102872848510742, "time_total_s": 2425.644116640091, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2425.644116640091, "timesteps_since_restore": 832000, "iterations_since_restore": 208, "perf": {"cpu_util_percent": 32.87647058823529, "ram_util_percent": 17.35882352941177}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1206.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.519132034257849, "mean_processing_ms": 0.10291053947233714, "mean_inference_ms": 0.5886716606890114}, "off_policy_estimator": {}, "info": {"num_steps_trained": 829312, "num_steps_sampled": 836000, "sample_time_ms": 4866.682, "load_time_ms": 2.225, "grad_time_ms": 6753.708, "update_time_ms": 6.757, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2740.71240234375, "policy_loss": -0.026690324768424034, "vf_loss": 2740.736328125, "vf_explained_var": 0.36458224058151245, "kl": 0.009196992963552475, "entropy": 0.6890528798103333, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 836000, "episodes_total": 835, "training_iteration": 209, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-07-40", "timestamp": 1565597260, "time_this_iter_s": 11.750109672546387, "time_total_s": 2437.3942263126373, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2437.3942263126373, "timesteps_since_restore": 836000, "iterations_since_restore": 209, "perf": {"cpu_util_percent": 31.11176470588235, "ram_util_percent": 17.370588235294118}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1203.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.519085426250169, "mean_processing_ms": 0.10290988944500352, "mean_inference_ms": 0.5886696444731297}, "off_policy_estimator": {}, "info": {"num_steps_trained": 833280, "num_steps_sampled": 840000, "sample_time_ms": 4879.762, "load_time_ms": 2.255, "grad_time_ms": 6794.391, "update_time_ms": 6.633, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2353.061767578125, "policy_loss": -0.024152306839823723, "vf_loss": 2353.083251953125, "vf_explained_var": 0.3753201961517334, "kl": 0.009808032773435116, "entropy": 0.6956375241279602, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 840000, "episodes_total": 839, "training_iteration": 210, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-07-52", "timestamp": 1565597272, "time_this_iter_s": 11.612364768981934, "time_total_s": 2449.0065910816193, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2449.0065910816193, "timesteps_since_restore": 840000, "iterations_since_restore": 210, "perf": {"cpu_util_percent": 31.75, "ram_util_percent": 17.3625}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1194.87, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5190449719259062, "mean_processing_ms": 0.10291056058818754, "mean_inference_ms": 0.5886713225344425}, "off_policy_estimator": {}, "info": {"num_steps_trained": 837248, "num_steps_sampled": 844000, "sample_time_ms": 4913.114, "load_time_ms": 2.244, "grad_time_ms": 6773.659, "update_time_ms": 6.833, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2096.127685546875, "policy_loss": -0.02128683775663376, "vf_loss": 2096.14697265625, "vf_explained_var": 0.3627181351184845, "kl": 0.007664405275136232, "entropy": 0.6464459300041199, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 844000, "episodes_total": 843, "training_iteration": 211, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-03", "timestamp": 1565597283, "time_this_iter_s": 11.68390941619873, "time_total_s": 2460.690500497818, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2460.690500497818, "timesteps_since_restore": 844000, "iterations_since_restore": 211, "perf": {"cpu_util_percent": 31.835294117647063, "ram_util_percent": 17.4}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1189.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5190095749713473, "mean_processing_ms": 0.10291008418580033, "mean_inference_ms": 0.5886787605612143}, "off_policy_estimator": {}, "info": {"num_steps_trained": 841216, "num_steps_sampled": 848000, "sample_time_ms": 4922.239, "load_time_ms": 2.323, "grad_time_ms": 6780.709, "update_time_ms": 8.757, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3105.4482421875, "policy_loss": -0.0264610406011343, "vf_loss": 3105.471923828125, "vf_explained_var": 0.3588895797729492, "kl": 0.011844929307699203, "entropy": 0.6710914373397827, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 848000, "episodes_total": 847, "training_iteration": 212, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-15", "timestamp": 1565597295, "time_this_iter_s": 11.889180660247803, "time_total_s": 2472.579681158066, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2472.579681158066, "timesteps_since_restore": 848000, "iterations_since_restore": 212, "perf": {"cpu_util_percent": 31.68235294117647, "ram_util_percent": 17.388235294117646}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1177.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5189740968330311, "mean_processing_ms": 0.10290938019388393, "mean_inference_ms": 0.5886861113186351}, "off_policy_estimator": {}, "info": {"num_steps_trained": 845184, "num_steps_sampled": 852000, "sample_time_ms": 4922.003, "load_time_ms": 2.326, "grad_time_ms": 6824.948, "update_time_ms": 8.861, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2422.82470703125, "policy_loss": -0.02415754459798336, "vf_loss": 2422.84619140625, "vf_explained_var": 0.3727554976940155, "kl": 0.00849121529608965, "entropy": 0.6726831197738647, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 852000, "episodes_total": 851, "training_iteration": 213, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-27", "timestamp": 1565597307, "time_this_iter_s": 11.902611494064331, "time_total_s": 2484.48229265213, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2484.48229265213, "timesteps_since_restore": 852000, "iterations_since_restore": 213, "perf": {"cpu_util_percent": 32.31764705882353, "ram_util_percent": 17.405882352941177}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1175.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5189331208378525, "mean_processing_ms": 0.10290768357700636, "mean_inference_ms": 0.5886866843309607}, "off_policy_estimator": {}, "info": {"num_steps_trained": 849152, "num_steps_sampled": 856000, "sample_time_ms": 4909.328, "load_time_ms": 2.166, "grad_time_ms": 6837.001, "update_time_ms": 8.904, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2177.1953125, "policy_loss": -0.023913607001304626, "vf_loss": 2177.217041015625, "vf_explained_var": 0.3003905117511749, "kl": 0.0067322286777198315, "entropy": 0.6627935171127319, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 856000, "episodes_total": 855, "training_iteration": 214, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-39", "timestamp": 1565597319, "time_this_iter_s": 11.835857629776001, "time_total_s": 2496.318150281906, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2496.318150281906, "timesteps_since_restore": 856000, "iterations_since_restore": 214, "perf": {"cpu_util_percent": 30.21764705882353, "ram_util_percent": 17.4}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1172.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5188745289847643, "mean_processing_ms": 0.10290187894382229, "mean_inference_ms": 0.5886604989685023}, "off_policy_estimator": {}, "info": {"num_steps_trained": 853120, "num_steps_sampled": 860000, "sample_time_ms": 4820.461, "load_time_ms": 2.238, "grad_time_ms": 6701.555, "update_time_ms": 10.423, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2653.9521484375, "policy_loss": -0.02256581000983715, "vf_loss": 2653.972412109375, "vf_explained_var": 0.3377993404865265, "kl": 0.0076602306216955185, "entropy": 0.6530691981315613, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 860000, "episodes_total": 859, "training_iteration": 215, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-49", "timestamp": 1565597329, "time_this_iter_s": 9.498793125152588, "time_total_s": 2505.8169434070587, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2505.8169434070587, "timesteps_since_restore": 860000, "iterations_since_restore": 215, "perf": {"cpu_util_percent": 30.407692307692304, "ram_util_percent": 16.52307692307692}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1171.43, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.518812808213146, "mean_processing_ms": 0.1028947182574928, "mean_inference_ms": 0.5886190610958449}, "off_policy_estimator": {}, "info": {"num_steps_trained": 857088, "num_steps_sampled": 864000, "sample_time_ms": 4817.936, "load_time_ms": 2.344, "grad_time_ms": 6564.291, "update_time_ms": 9.807, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3442.29443359375, "policy_loss": -0.02473502978682518, "vf_loss": 3442.316650390625, "vf_explained_var": 0.3238009214401245, "kl": 0.00729572307318449, "entropy": 0.6491737365722656, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 864000, "episodes_total": 863, "training_iteration": 216, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-08-59", "timestamp": 1565597339, "time_this_iter_s": 9.880394697189331, "time_total_s": 2515.697338104248, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2515.697338104248, "timesteps_since_restore": 864000, "iterations_since_restore": 216, "perf": {"cpu_util_percent": 41.43571428571429, "ram_util_percent": 15.5}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1157.17, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5187484729025056, "mean_processing_ms": 0.1028870660527912, "mean_inference_ms": 0.5885692531685671}, "off_policy_estimator": {}, "info": {"num_steps_trained": 861056, "num_steps_sampled": 868000, "sample_time_ms": 4783.986, "load_time_ms": 2.269, "grad_time_ms": 6383.498, "update_time_ms": 10.035, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2017.219970703125, "policy_loss": -0.016601597890257835, "vf_loss": 2017.2344970703125, "vf_explained_var": 0.2517807185649872, "kl": 0.006071561481803656, "entropy": 0.6532939076423645, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 868000, "episodes_total": 867, "training_iteration": 217, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-08", "timestamp": 1565597348, "time_this_iter_s": 9.739049673080444, "time_total_s": 2525.4363877773285, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2525.4363877773285, "timesteps_since_restore": 868000, "iterations_since_restore": 217, "perf": {"cpu_util_percent": 40.471428571428575, "ram_util_percent": 15.5}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1151.21, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5186906624234012, "mean_processing_ms": 0.10288224207235203, "mean_inference_ms": 0.5885159200429885}, "off_policy_estimator": {}, "info": {"num_steps_trained": 865024, "num_steps_sampled": 872000, "sample_time_ms": 4749.592, "load_time_ms": 2.157, "grad_time_ms": 6218.495, "update_time_ms": 9.923, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2106.923095703125, "policy_loss": -0.022495774552226067, "vf_loss": 2106.943359375, "vf_explained_var": 0.2976074516773224, "kl": 0.0078896414488554, "entropy": 0.6751740574836731, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 872000, "episodes_total": 871, "training_iteration": 218, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-18", "timestamp": 1565597358, "time_this_iter_s": 10.101551055908203, "time_total_s": 2535.5379388332367, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2535.5379388332367, "timesteps_since_restore": 872000, "iterations_since_restore": 218, "perf": {"cpu_util_percent": 40.67999999999999, "ram_util_percent": 15.5}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1139.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5186275564861325, "mean_processing_ms": 0.10287560477428512, "mean_inference_ms": 0.5884521277168906}, "off_policy_estimator": {}, "info": {"num_steps_trained": 868992, "num_steps_sampled": 876000, "sample_time_ms": 4719.058, "load_time_ms": 2.057, "grad_time_ms": 6050.023, "update_time_ms": 9.747, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2110.98779296875, "policy_loss": -0.02266400307416916, "vf_loss": 2111.0078125, "vf_explained_var": 0.33737748861312866, "kl": 0.009277689270675182, "entropy": 0.630380392074585, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 876000, "episodes_total": 875, "training_iteration": 219, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-28", "timestamp": 1565597368, "time_this_iter_s": 9.75853681564331, "time_total_s": 2545.29647564888, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2545.29647564888, "timesteps_since_restore": 876000, "iterations_since_restore": 219, "perf": {"cpu_util_percent": 41.48571428571428, "ram_util_percent": 15.507142857142856}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1140.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5185605107844361, "mean_processing_ms": 0.10286742392635302, "mean_inference_ms": 0.5883787348376018}, "off_policy_estimator": {}, "info": {"num_steps_trained": 872960, "num_steps_sampled": 880000, "sample_time_ms": 4705.282, "load_time_ms": 1.892, "grad_time_ms": 5893.772, "update_time_ms": 9.943, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4188.1259765625, "policy_loss": -0.033836085349321365, "vf_loss": 4188.15673828125, "vf_explained_var": 0.3807440996170044, "kl": 0.010900706984102726, "entropy": 0.6458908319473267, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 880000, "episodes_total": 879, "training_iteration": 220, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-38", "timestamp": 1565597378, "time_this_iter_s": 9.911376953125, "time_total_s": 2555.207852602005, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2555.207852602005, "timesteps_since_restore": 880000, "iterations_since_restore": 220, "perf": {"cpu_util_percent": 40.978571428571435, "ram_util_percent": 15.57142857142857}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1135.11, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5184953366030893, "mean_processing_ms": 0.10286014405768933, "mean_inference_ms": 0.5882995139886353}, "off_policy_estimator": {}, "info": {"num_steps_trained": 876928, "num_steps_sampled": 884000, "sample_time_ms": 4666.829, "load_time_ms": 1.903, "grad_time_ms": 5742.464, "update_time_ms": 9.514, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2344.516357421875, "policy_loss": -0.022562269121408463, "vf_loss": 2344.53662109375, "vf_explained_var": 0.33583351969718933, "kl": 0.006936376448720694, "entropy": 0.6365177631378174, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 884000, "episodes_total": 883, "training_iteration": 221, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-48", "timestamp": 1565597388, "time_this_iter_s": 9.782115459442139, "time_total_s": 2564.989968061447, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2564.989968061447, "timesteps_since_restore": 884000, "iterations_since_restore": 221, "perf": {"cpu_util_percent": 40.56428571428571, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1123.87, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5184264120299328, "mean_processing_ms": 0.10285458249535255, "mean_inference_ms": 0.5882125459826354}, "off_policy_estimator": {}, "info": {"num_steps_trained": 880896, "num_steps_sampled": 888000, "sample_time_ms": 4646.289, "load_time_ms": 1.943, "grad_time_ms": 5569.224, "update_time_ms": 7.544, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2190.1162109375, "policy_loss": -0.023225318640470505, "vf_loss": 2190.13720703125, "vf_explained_var": 0.24851340055465698, "kl": 0.006916783284395933, "entropy": 0.6396645307540894, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 888000, "episodes_total": 887, "training_iteration": 222, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-09-58", "timestamp": 1565597398, "time_this_iter_s": 9.9248366355896, "time_total_s": 2574.9148046970367, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2574.9148046970367, "timesteps_since_restore": 888000, "iterations_since_restore": 222, "perf": {"cpu_util_percent": 41.128571428571426, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1128.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5183627123116517, "mean_processing_ms": 0.10284994526128792, "mean_inference_ms": 0.5881253900719515}, "off_policy_estimator": {}, "info": {"num_steps_trained": 884864, "num_steps_sampled": 892000, "sample_time_ms": 4627.469, "load_time_ms": 1.867, "grad_time_ms": 5379.329, "update_time_ms": 7.357, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2881.385498046875, "policy_loss": -0.02334984578192234, "vf_loss": 2881.406005859375, "vf_explained_var": 0.3265492022037506, "kl": 0.010519567877054214, "entropy": 0.6837770342826843, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 892000, "episodes_total": 891, "training_iteration": 223, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-08", "timestamp": 1565597408, "time_this_iter_s": 9.8093740940094, "time_total_s": 2584.724178791046, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2584.724178791046, "timesteps_since_restore": 892000, "iterations_since_restore": 223, "perf": {"cpu_util_percent": 40.078571428571436, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1124.07, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5183006002946463, "mean_processing_ms": 0.10284591985643582, "mean_inference_ms": 0.5880309670963314}, "off_policy_estimator": {}, "info": {"num_steps_trained": 888832, "num_steps_sampled": 896000, "sample_time_ms": 4627.957, "load_time_ms": 1.903, "grad_time_ms": 5195.448, "update_time_ms": 7.241, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2162.0419921875, "policy_loss": -0.022140754386782646, "vf_loss": 2162.0615234375, "vf_explained_var": 0.2562825381755829, "kl": 0.008303986862301826, "entropy": 0.6144624352455139, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 896000, "episodes_total": 895, "training_iteration": 224, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-18", "timestamp": 1565597418, "time_this_iter_s": 10.0019690990448, "time_total_s": 2594.726147890091, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2594.726147890091, "timesteps_since_restore": 896000, "iterations_since_restore": 224, "perf": {"cpu_util_percent": 40.66428571428571, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1110.11, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5182468317176665, "mean_processing_ms": 0.10284405408697574, "mean_inference_ms": 0.5879392514700286}, "off_policy_estimator": {}, "info": {"num_steps_trained": 892800, "num_steps_sampled": 900000, "sample_time_ms": 4713.328, "load_time_ms": 1.925, "grad_time_ms": 5181.424, "update_time_ms": 5.702, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2104.1376953125, "policy_loss": -0.01708354242146015, "vf_loss": 2104.15283203125, "vf_explained_var": 0.2634439170360565, "kl": 0.00666013965383172, "entropy": 0.619038462638855, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 900000, "episodes_total": 899, "training_iteration": 225, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-28", "timestamp": 1565597428, "time_this_iter_s": 10.197831153869629, "time_total_s": 2604.9239790439606, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2604.9239790439606, "timesteps_since_restore": 900000, "iterations_since_restore": 225, "perf": {"cpu_util_percent": 41.3, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -2203.0, "episode_reward_mean": -1114.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5182003657860396, "mean_processing_ms": 0.1028440112196925, "mean_inference_ms": 0.5878477136771338}, "off_policy_estimator": {}, "info": {"num_steps_trained": 896768, "num_steps_sampled": 904000, "sample_time_ms": 4727.515, "load_time_ms": 1.967, "grad_time_ms": 5191.687, "update_time_ms": 6.004, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3022.654296875, "policy_loss": -0.019920077174901962, "vf_loss": 3022.671875, "vf_explained_var": 0.3310604691505432, "kl": 0.006180009804666042, "entropy": 0.6474454402923584, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 904000, "episodes_total": 903, "training_iteration": 226, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-38", "timestamp": 1565597438, "time_this_iter_s": 10.129284620285034, "time_total_s": 2615.0532636642456, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2615.0532636642456, "timesteps_since_restore": 904000, "iterations_since_restore": 226, "perf": {"cpu_util_percent": 41.114285714285714, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -696.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1103.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5181515212406628, "mean_processing_ms": 0.10284280561287179, "mean_inference_ms": 0.5877455261455878}, "off_policy_estimator": {}, "info": {"num_steps_trained": 900736, "num_steps_sampled": 908000, "sample_time_ms": 4708.411, "load_time_ms": 1.934, "grad_time_ms": 5196.066, "update_time_ms": 5.852, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3774.346435546875, "policy_loss": -0.027059786021709442, "vf_loss": 3774.370361328125, "vf_explained_var": 0.32399076223373413, "kl": 0.0095289908349514, "entropy": 0.6633150577545166, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 908000, "episodes_total": 907, "training_iteration": 227, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-48", "timestamp": 1565597448, "time_this_iter_s": 9.589043617248535, "time_total_s": 2624.642307281494, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2624.642307281494, "timesteps_since_restore": 908000, "iterations_since_restore": 227, "perf": {"cpu_util_percent": 40.67142857142857, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1103.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.518099173950796, "mean_processing_ms": 0.10284302518794815, "mean_inference_ms": 0.5876362628671711}, "off_policy_estimator": {}, "info": {"num_steps_trained": 904704, "num_steps_sampled": 912000, "sample_time_ms": 4699.947, "load_time_ms": 1.935, "grad_time_ms": 5197.515, "update_time_ms": 6.095, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3348.75244140625, "policy_loss": -0.02189289778470993, "vf_loss": 3348.772216796875, "vf_explained_var": 0.31607165932655334, "kl": 0.007265025749802589, "entropy": 0.6691527962684631, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 912000, "episodes_total": 911, "training_iteration": 228, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-10-58", "timestamp": 1565597458, "time_this_iter_s": 10.03207778930664, "time_total_s": 2634.674385070801, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2634.674385070801, "timesteps_since_restore": 912000, "iterations_since_restore": 228, "perf": {"cpu_util_percent": 41.114285714285714, "ram_util_percent": 15.685714285714282}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1098.58, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5180442900409856, "mean_processing_ms": 0.10284351924302834, "mean_inference_ms": 0.5875177974424194}, "off_policy_estimator": {}, "info": {"num_steps_trained": 908672, "num_steps_sampled": 916000, "sample_time_ms": 4709.275, "load_time_ms": 2.036, "grad_time_ms": 5176.497, "update_time_ms": 5.991, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2464.477783203125, "policy_loss": -0.018068548291921616, "vf_loss": 2464.492919921875, "vf_explained_var": 0.27555593848228455, "kl": 0.010667637921869755, "entropy": 0.6649178266525269, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 916000, "episodes_total": 915, "training_iteration": 229, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-11-07", "timestamp": 1565597467, "time_this_iter_s": 9.63880729675293, "time_total_s": 2644.3131923675537, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2644.3131923675537, "timesteps_since_restore": 916000, "iterations_since_restore": 229, "perf": {"cpu_util_percent": 40.55, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1089.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5179943261007538, "mean_processing_ms": 0.10284459198475478, "mean_inference_ms": 0.5874063731318958}, "off_policy_estimator": {}, "info": {"num_steps_trained": 912640, "num_steps_sampled": 920000, "sample_time_ms": 4763.199, "load_time_ms": 2.077, "grad_time_ms": 5329.737, "update_time_ms": 5.818, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2872.0654296875, "policy_loss": -0.021200742572546005, "vf_loss": 2872.083740234375, "vf_explained_var": 0.33503541350364685, "kl": 0.008061625063419342, "entropy": 0.6877381801605225, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 920000, "episodes_total": 919, "training_iteration": 230, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-11-19", "timestamp": 1565597479, "time_this_iter_s": 11.98210859298706, "time_total_s": 2656.2953009605408, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2656.2953009605408, "timesteps_since_restore": 920000, "iterations_since_restore": 230, "perf": {"cpu_util_percent": 32.776470588235306, "ram_util_percent": 16.41176470588235}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1083.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5179477280797531, "mean_processing_ms": 0.10284664481777944, "mean_inference_ms": 0.5872996463753853}, "off_policy_estimator": {}, "info": {"num_steps_trained": 916608, "num_steps_sampled": 924000, "sample_time_ms": 4790.616, "load_time_ms": 2.086, "grad_time_ms": 5459.404, "update_time_ms": 5.912, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2808.13232421875, "policy_loss": -0.025415362790226936, "vf_loss": 2808.1552734375, "vf_explained_var": 0.32287925481796265, "kl": 0.007789979688823223, "entropy": 0.6706892251968384, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 924000, "episodes_total": 923, "training_iteration": 231, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-11-31", "timestamp": 1565597491, "time_this_iter_s": 11.353065729141235, "time_total_s": 2667.648366689682, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2667.648366689682, "timesteps_since_restore": 924000, "iterations_since_restore": 231, "perf": {"cpu_util_percent": 31.637499999999996, "ram_util_percent": 16.51875}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1091.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5178952726912303, "mean_processing_ms": 0.10284757304668596, "mean_inference_ms": 0.5871868882116769}, "off_policy_estimator": {}, "info": {"num_steps_trained": 920576, "num_steps_sampled": 928000, "sample_time_ms": 4787.553, "load_time_ms": 2.002, "grad_time_ms": 5620.593, "update_time_ms": 5.765, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4208.0693359375, "policy_loss": -0.031826265156269073, "vf_loss": 4208.09814453125, "vf_explained_var": 0.37115228176116943, "kl": 0.008662530221045017, "entropy": 0.7129631638526917, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 928000, "episodes_total": 927, "training_iteration": 232, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-11-42", "timestamp": 1565597502, "time_this_iter_s": 11.504555702209473, "time_total_s": 2679.1529223918915, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2679.1529223918915, "timesteps_since_restore": 928000, "iterations_since_restore": 232, "perf": {"cpu_util_percent": 31.68823529411765, "ram_util_percent": 16.56470588235294}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1091.58, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5178382599197278, "mean_processing_ms": 0.10284864265635237, "mean_inference_ms": 0.5870711677665035}, "off_policy_estimator": {}, "info": {"num_steps_trained": 924544, "num_steps_sampled": 932000, "sample_time_ms": 4811.209, "load_time_ms": 2.342, "grad_time_ms": 5812.694, "update_time_ms": 5.74, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3713.042236328125, "policy_loss": -0.028902549296617508, "vf_loss": 3713.068115234375, "vf_explained_var": 0.33319082856178284, "kl": 0.010850462131202221, "entropy": 0.6847361922264099, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 932000, "episodes_total": 931, "training_iteration": 233, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-11-54", "timestamp": 1565597514, "time_this_iter_s": 11.975805044174194, "time_total_s": 2691.1287274360657, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2691.1287274360657, "timesteps_since_restore": 932000, "iterations_since_restore": 233, "perf": {"cpu_util_percent": 31.61176470588235, "ram_util_percent": 16.6}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1092.56, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5177764085323979, "mean_processing_ms": 0.10284972446934891, "mean_inference_ms": 0.5869543894044777}, "off_policy_estimator": {}, "info": {"num_steps_trained": 928512, "num_steps_sampled": 936000, "sample_time_ms": 4798.269, "load_time_ms": 2.294, "grad_time_ms": 5984.045, "update_time_ms": 6.126, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4219.1123046875, "policy_loss": -0.02696005441248417, "vf_loss": 4219.13623046875, "vf_explained_var": 0.355996698141098, "kl": 0.008880279026925564, "entropy": 0.6833551526069641, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 936000, "episodes_total": 935, "training_iteration": 234, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-12-06", "timestamp": 1565597526, "time_this_iter_s": 11.59093713760376, "time_total_s": 2702.7196645736694, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2702.7196645736694, "timesteps_since_restore": 936000, "iterations_since_restore": 234, "perf": {"cpu_util_percent": 30.86875, "ram_util_percent": 16.668750000000003}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1087.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5177158312984285, "mean_processing_ms": 0.10285067274836308, "mean_inference_ms": 0.5868351750906445}, "off_policy_estimator": {}, "info": {"num_steps_trained": 932480, "num_steps_sampled": 940000, "sample_time_ms": 4780.882, "load_time_ms": 2.281, "grad_time_ms": 6146.118, "update_time_ms": 6.135, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2853.055419921875, "policy_loss": -0.020543653517961502, "vf_loss": 2853.07373046875, "vf_explained_var": 0.30958375334739685, "kl": 0.005468381103128195, "entropy": 0.6577974557876587, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 940000, "episodes_total": 939, "training_iteration": 235, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-12-18", "timestamp": 1565597538, "time_this_iter_s": 11.643792629241943, "time_total_s": 2714.3634572029114, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2714.3634572029114, "timesteps_since_restore": 940000, "iterations_since_restore": 235, "perf": {"cpu_util_percent": 31.905882352941177, "ram_util_percent": 16.66470588235294}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1083.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5176545714763899, "mean_processing_ms": 0.10285079463136004, "mean_inference_ms": 0.5867177533429262}, "off_policy_estimator": {}, "info": {"num_steps_trained": 936448, "num_steps_sampled": 944000, "sample_time_ms": 4797.887, "load_time_ms": 2.269, "grad_time_ms": 6269.901, "update_time_ms": 6.033, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2597.2138671875, "policy_loss": -0.01906815730035305, "vf_loss": 2597.230224609375, "vf_explained_var": 0.2660023868083954, "kl": 0.008886161260306835, "entropy": 0.6580766439437866, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 944000, "episodes_total": 943, "training_iteration": 236, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-12-29", "timestamp": 1565597549, "time_this_iter_s": 11.541793584823608, "time_total_s": 2725.905250787735, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2725.905250787735, "timesteps_since_restore": 944000, "iterations_since_restore": 236, "perf": {"cpu_util_percent": 31.86875, "ram_util_percent": 16.65625}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1073.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5175903903771388, "mean_processing_ms": 0.10285015891002164, "mean_inference_ms": 0.5865962956743828}, "off_policy_estimator": {}, "info": {"num_steps_trained": 940416, "num_steps_sampled": 948000, "sample_time_ms": 4823.459, "load_time_ms": 2.353, "grad_time_ms": 6458.664, "update_time_ms": 6.237, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1971.6907958984375, "policy_loss": -0.025894999504089355, "vf_loss": 1971.71435546875, "vf_explained_var": 0.17808526754379272, "kl": 0.008470375090837479, "entropy": 0.643562376499176, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 948000, "episodes_total": 947, "training_iteration": 237, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-12-41", "timestamp": 1565597561, "time_this_iter_s": 11.739247798919678, "time_total_s": 2737.6444985866547, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2737.6444985866547, "timesteps_since_restore": 948000, "iterations_since_restore": 237, "perf": {"cpu_util_percent": 31.50588235294118, "ram_util_percent": 16.66470588235294}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1074.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5175230575114089, "mean_processing_ms": 0.1028490920892916, "mean_inference_ms": 0.5864749345985325}, "off_policy_estimator": {}, "info": {"num_steps_trained": 944384, "num_steps_sampled": 952000, "sample_time_ms": 4836.206, "load_time_ms": 2.483, "grad_time_ms": 6615.295, "update_time_ms": 6.363, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2474.626220703125, "policy_loss": -0.024566244333982468, "vf_loss": 2474.648681640625, "vf_explained_var": 0.27571022510528564, "kl": 0.0076164971105754375, "entropy": 0.6708513498306274, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 952000, "episodes_total": 951, "training_iteration": 238, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-12-53", "timestamp": 1565597573, "time_this_iter_s": 11.731531858444214, "time_total_s": 2749.376030445099, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2749.376030445099, "timesteps_since_restore": 952000, "iterations_since_restore": 238, "perf": {"cpu_util_percent": 32.188235294117646, "ram_util_percent": 16.73529411764706}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1073.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5174544504768276, "mean_processing_ms": 0.10284874861748765, "mean_inference_ms": 0.5863502525168898}, "off_policy_estimator": {}, "info": {"num_steps_trained": 948352, "num_steps_sampled": 956000, "sample_time_ms": 4839.945, "load_time_ms": 2.48, "grad_time_ms": 6782.109, "update_time_ms": 6.52, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2676.970458984375, "policy_loss": -0.026399411261081696, "vf_loss": 2676.993896484375, "vf_explained_var": 0.31841224431991577, "kl": 0.008779237978160381, "entropy": 0.6898225545883179, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 956000, "episodes_total": 955, "training_iteration": 239, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-13-04", "timestamp": 1565597584, "time_this_iter_s": 11.346282720565796, "time_total_s": 2760.7223131656647, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2760.7223131656647, "timesteps_since_restore": 956000, "iterations_since_restore": 239, "perf": {"cpu_util_percent": 31.006249999999998, "ram_util_percent": 16.762500000000003}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1070.77, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5174001855510552, "mean_processing_ms": 0.10285262176165473, "mean_inference_ms": 0.5862477388257434}, "off_policy_estimator": {}, "info": {"num_steps_trained": 952320, "num_steps_sampled": 960000, "sample_time_ms": 4809.648, "load_time_ms": 2.473, "grad_time_ms": 6784.488, "update_time_ms": 6.582, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2991.915283203125, "policy_loss": -0.023600993677973747, "vf_loss": 2991.93603515625, "vf_explained_var": 0.3705326318740845, "kl": 0.007736087776720524, "entropy": 0.6375501751899719, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 960000, "episodes_total": 959, "training_iteration": 240, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-13-16", "timestamp": 1565597596, "time_this_iter_s": 11.707281112670898, "time_total_s": 2772.4295942783356, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2772.4295942783356, "timesteps_since_restore": 960000, "iterations_since_restore": 240, "perf": {"cpu_util_percent": 30.876470588235293, "ram_util_percent": 16.758823529411767}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1067.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.517349879708976, "mean_processing_ms": 0.10285677579081494, "mean_inference_ms": 0.586158847663886}, "off_policy_estimator": {}, "info": {"num_steps_trained": 956288, "num_steps_sampled": 964000, "sample_time_ms": 4829.791, "load_time_ms": 2.623, "grad_time_ms": 6831.633, "update_time_ms": 6.692, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2751.028564453125, "policy_loss": -0.024582702666521072, "vf_loss": 2751.050048828125, "vf_explained_var": 0.36271071434020996, "kl": 0.009802363812923431, "entropy": 0.637037456035614, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 964000, "episodes_total": 963, "training_iteration": 241, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-13-28", "timestamp": 1565597608, "time_this_iter_s": 12.031451225280762, "time_total_s": 2784.4610455036163, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2784.4610455036163, "timesteps_since_restore": 964000, "iterations_since_restore": 241, "perf": {"cpu_util_percent": 31.829411764705885, "ram_util_percent": 16.764705882352942}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1066.64, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5173027535740257, "mean_processing_ms": 0.1028611285931353, "mean_inference_ms": 0.5860790695467102}, "off_policy_estimator": {}, "info": {"num_steps_trained": 960256, "num_steps_sampled": 968000, "sample_time_ms": 4853.161, "load_time_ms": 2.664, "grad_time_ms": 6827.627, "update_time_ms": 6.849, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2290.874267578125, "policy_loss": -0.022939549759030342, "vf_loss": 2290.89404296875, "vf_explained_var": 0.2840574085712433, "kl": 0.008998281322419643, "entropy": 0.6274997591972351, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 968000, "episodes_total": 967, "training_iteration": 242, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-13-39", "timestamp": 1565597619, "time_this_iter_s": 11.700468301773071, "time_total_s": 2796.1615138053894, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2796.1615138053894, "timesteps_since_restore": 968000, "iterations_since_restore": 242, "perf": {"cpu_util_percent": 31.38823529411765, "ram_util_percent": 16.841176470588234}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1068.21, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5172556941489573, "mean_processing_ms": 0.10286416113652429, "mean_inference_ms": 0.5860060112159308}, "off_policy_estimator": {}, "info": {"num_steps_trained": 964224, "num_steps_sampled": 972000, "sample_time_ms": 4845.986, "load_time_ms": 2.373, "grad_time_ms": 6822.774, "update_time_ms": 6.689, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2216.736328125, "policy_loss": -0.015302703715860844, "vf_loss": 2216.75, "vf_explained_var": 0.2982601821422577, "kl": 0.006310417782515287, "entropy": 0.6439778804779053, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 972000, "episodes_total": 971, "training_iteration": 243, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-13-51", "timestamp": 1565597631, "time_this_iter_s": 11.846382141113281, "time_total_s": 2808.0078959465027, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2808.0078959465027, "timesteps_since_restore": 972000, "iterations_since_restore": 243, "perf": {"cpu_util_percent": 31.235294117647058, "ram_util_percent": 16.758823529411767}}
{"episode_reward_max": -784.0, "episode_reward_min": -1862.0, "episode_reward_mean": -1077.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5172085355687854, "mean_processing_ms": 0.10286662907598831, "mean_inference_ms": 0.585938139298488}, "off_policy_estimator": {}, "info": {"num_steps_trained": 968192, "num_steps_sampled": 976000, "sample_time_ms": 4840.48, "load_time_ms": 2.423, "grad_time_ms": 6821.179, "update_time_ms": 8.289, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2442.53857421875, "policy_loss": -0.02721472643315792, "vf_loss": 2442.5634765625, "vf_explained_var": 0.3874085247516632, "kl": 0.0076478286646306515, "entropy": 0.6878085136413574, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 976000, "episodes_total": 975, "training_iteration": 244, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-14-03", "timestamp": 1565597643, "time_this_iter_s": 11.53766131401062, "time_total_s": 2819.5455572605133, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2819.5455572605133, "timesteps_since_restore": 976000, "iterations_since_restore": 244, "perf": {"cpu_util_percent": 31.556250000000002, "ram_util_percent": 16.78125}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1077.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5171644122162645, "mean_processing_ms": 0.1028698680947598, "mean_inference_ms": 0.5858801962313277}, "off_policy_estimator": {}, "info": {"num_steps_trained": 972160, "num_steps_sampled": 980000, "sample_time_ms": 4864.25, "load_time_ms": 2.34, "grad_time_ms": 6774.546, "update_time_ms": 8.123, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2827.1953125, "policy_loss": -0.031841665506362915, "vf_loss": 2827.22509765625, "vf_explained_var": 0.4125062823295593, "kl": 0.008136431686580181, "entropy": 0.6742786169052124, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 980000, "episodes_total": 979, "training_iteration": 245, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-14-14", "timestamp": 1565597654, "time_this_iter_s": 11.415160417556763, "time_total_s": 2830.96071767807, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2830.96071767807, "timesteps_since_restore": 980000, "iterations_since_restore": 245, "perf": {"cpu_util_percent": 30.65, "ram_util_percent": 16.8375}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1076.76, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5171171269082177, "mean_processing_ms": 0.1028716760441174, "mean_inference_ms": 0.5858261692478421}, "off_policy_estimator": {}, "info": {"num_steps_trained": 976128, "num_steps_sampled": 984000, "sample_time_ms": 4821.39, "load_time_ms": 2.433, "grad_time_ms": 6811.036, "update_time_ms": 8.284, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1587.336181640625, "policy_loss": -0.023003950715065002, "vf_loss": 1587.356689453125, "vf_explained_var": 0.2939407527446747, "kl": 0.007859592325985432, "entropy": 0.6641898155212402, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 984000, "episodes_total": 983, "training_iteration": 246, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-14-26", "timestamp": 1565597666, "time_this_iter_s": 11.480363845825195, "time_total_s": 2842.4410815238953, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2842.4410815238953, "timesteps_since_restore": 984000, "iterations_since_restore": 246, "perf": {"cpu_util_percent": 32.51176470588235, "ram_util_percent": 16.84705882352941}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1088.41, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5170695913853098, "mean_processing_ms": 0.10287258450310713, "mean_inference_ms": 0.5857761241754974}, "off_policy_estimator": {}, "info": {"num_steps_trained": 980096, "num_steps_sampled": 988000, "sample_time_ms": 4826.37, "load_time_ms": 2.31, "grad_time_ms": 6791.518, "update_time_ms": 8.034, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2272.04638671875, "policy_loss": -0.02639072574675083, "vf_loss": 2272.070068359375, "vf_explained_var": 0.3684353232383728, "kl": 0.008292383514344692, "entropy": 0.6991559863090515, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 988000, "episodes_total": 987, "training_iteration": 247, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-14-37", "timestamp": 1565597677, "time_this_iter_s": 11.585801839828491, "time_total_s": 2854.0268833637238, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2854.0268833637238, "timesteps_since_restore": 988000, "iterations_since_restore": 247, "perf": {"cpu_util_percent": 31.41875, "ram_util_percent": 16.8375}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1087.99, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5170119183915283, "mean_processing_ms": 0.10287132436720299, "mean_inference_ms": 0.5857247818999081}, "off_policy_estimator": {}, "info": {"num_steps_trained": 984064, "num_steps_sampled": 992000, "sample_time_ms": 4781.586, "load_time_ms": 2.284, "grad_time_ms": 6803.022, "update_time_ms": 7.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1952.9444580078125, "policy_loss": -0.026914970949292183, "vf_loss": 1952.968994140625, "vf_explained_var": 0.37273916602134705, "kl": 0.0082626324146986, "entropy": 0.7024236917495728, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 992000, "episodes_total": 991, "training_iteration": 248, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-14-49", "timestamp": 1565597689, "time_this_iter_s": 11.39825177192688, "time_total_s": 2865.4251351356506, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2865.4251351356506, "timesteps_since_restore": 992000, "iterations_since_restore": 248, "perf": {"cpu_util_percent": 31.0625, "ram_util_percent": 16.80625}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1091.75, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5169578963435623, "mean_processing_ms": 0.10287020049303912, "mean_inference_ms": 0.5856831238359097}, "off_policy_estimator": {}, "info": {"num_steps_trained": 988032, "num_steps_sampled": 996000, "sample_time_ms": 4826.955, "load_time_ms": 2.196, "grad_time_ms": 6816.151, "update_time_ms": 7.995, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1960.6016845703125, "policy_loss": -0.02412591502070427, "vf_loss": 1960.6236572265625, "vf_explained_var": 0.3466211259365082, "kl": 0.008178291842341423, "entropy": 0.6862713098526001, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 996000, "episodes_total": 995, "training_iteration": 249, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-01", "timestamp": 1565597701, "time_this_iter_s": 11.936716556549072, "time_total_s": 2877.3618516921997, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2877.3618516921997, "timesteps_since_restore": 996000, "iterations_since_restore": 249, "perf": {"cpu_util_percent": 32.51666666666667, "ram_util_percent": 16.949999999999996}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1094.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.516899336566802, "mean_processing_ms": 0.10286775059884984, "mean_inference_ms": 0.5856435565767558}, "off_policy_estimator": {}, "info": {"num_steps_trained": 992000, "num_steps_sampled": 1000000, "sample_time_ms": 4816.751, "load_time_ms": 2.216, "grad_time_ms": 6779.541, "update_time_ms": 8.176, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1745.368896484375, "policy_loss": -0.0233465563505888, "vf_loss": 1745.390380859375, "vf_explained_var": 0.28664660453796387, "kl": 0.006156570743769407, "entropy": 0.6925166845321655, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1000000, "episodes_total": 999, "training_iteration": 250, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-12", "timestamp": 1565597712, "time_this_iter_s": 11.242830991744995, "time_total_s": 2888.6046826839447, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2888.6046826839447, "timesteps_since_restore": 1000000, "iterations_since_restore": 250, "perf": {"cpu_util_percent": 31.2875, "ram_util_percent": 16.85}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1097.47, "episode_len_mean": 1001.0, "episodes_this_iter": 3, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5168491537687725, "mean_processing_ms": 0.10286470938326461, "mean_inference_ms": 0.5856134589733757}, "off_policy_estimator": {}, "info": {"num_steps_trained": 995968, "num_steps_sampled": 1004000, "sample_time_ms": 4763.724, "load_time_ms": 2.188, "grad_time_ms": 6778.048, "update_time_ms": 8.276, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1458.70703125, "policy_loss": -0.03471251204609871, "vf_loss": 1458.7386474609375, "vf_explained_var": 0.40905195474624634, "kl": 0.010570700280368328, "entropy": 0.7026481032371521, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1004000, "episodes_total": 1002, "training_iteration": 251, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-24", "timestamp": 1565597724, "time_this_iter_s": 11.48254680633545, "time_total_s": 2900.08722949028, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2900.08722949028, "timesteps_since_restore": 1004000, "iterations_since_restore": 251, "perf": {"cpu_util_percent": 31.49375, "ram_util_percent": 16.8625}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1095.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5167841479615519, "mean_processing_ms": 0.10286048318362778, "mean_inference_ms": 0.5855804728272125}, "off_policy_estimator": {}, "info": {"num_steps_trained": 999936, "num_steps_sampled": 1008000, "sample_time_ms": 4747.136, "load_time_ms": 2.03, "grad_time_ms": 6795.416, "update_time_ms": 8.67, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1306.9739990234375, "policy_loss": -0.027903566136956215, "vf_loss": 1306.9989013671875, "vf_explained_var": 0.37355127930641174, "kl": 0.01037939079105854, "entropy": 0.690803587436676, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1008000, "episodes_total": 1006, "training_iteration": 252, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-35", "timestamp": 1565597735, "time_this_iter_s": 11.709060430526733, "time_total_s": 2911.796289920807, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2911.796289920807, "timesteps_since_restore": 1008000, "iterations_since_restore": 252, "perf": {"cpu_util_percent": 31.482352941176465, "ram_util_percent": 16.876470588235296}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1096.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5167184295983145, "mean_processing_ms": 0.10285517238175562, "mean_inference_ms": 0.5855522424684741}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1003904, "num_steps_sampled": 1012000, "sample_time_ms": 4725.155, "load_time_ms": 1.905, "grad_time_ms": 6758.23, "update_time_ms": 8.748, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1789.0450439453125, "policy_loss": -0.03268621116876602, "vf_loss": 1789.073974609375, "vf_explained_var": 0.4635612964630127, "kl": 0.01197331864386797, "entropy": 0.715955376625061, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1012000, "episodes_total": 1010, "training_iteration": 253, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-47", "timestamp": 1565597747, "time_this_iter_s": 11.253951787948608, "time_total_s": 2923.0502417087555, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2923.0502417087555, "timesteps_since_restore": 1012000, "iterations_since_restore": 253, "perf": {"cpu_util_percent": 31.1375, "ram_util_percent": 16.8875}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1102.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5166508718707025, "mean_processing_ms": 0.10285004900656576, "mean_inference_ms": 0.5855285800475362}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1007872, "num_steps_sampled": 1016000, "sample_time_ms": 4733.729, "load_time_ms": 1.991, "grad_time_ms": 6765.851, "update_time_ms": 8.736, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1315.6153564453125, "policy_loss": -0.029772350564599037, "vf_loss": 1315.64208984375, "vf_explained_var": 0.363736093044281, "kl": 0.009843381121754646, "entropy": 0.6989361047744751, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1016000, "episodes_total": 1014, "training_iteration": 254, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-15-58", "timestamp": 1565597758, "time_this_iter_s": 11.69669222831726, "time_total_s": 2934.7469339370728, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2934.7469339370728, "timesteps_since_restore": 1016000, "iterations_since_restore": 254, "perf": {"cpu_util_percent": 32.475, "ram_util_percent": 16.875}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1106.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5165827087546883, "mean_processing_ms": 0.10284498047160148, "mean_inference_ms": 0.5855050885672152}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1011840, "num_steps_sampled": 1020000, "sample_time_ms": 4745.493, "load_time_ms": 2.066, "grad_time_ms": 6806.334, "update_time_ms": 10.941, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2056.61669921875, "policy_loss": -0.027312591671943665, "vf_loss": 2056.641845703125, "vf_explained_var": 0.3345063626766205, "kl": 0.00800447165966034, "entropy": 0.6753903031349182, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1020000, "episodes_total": 1018, "training_iteration": 255, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-16-10", "timestamp": 1565597770, "time_this_iter_s": 11.957413673400879, "time_total_s": 2946.7043476104736, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2946.7043476104736, "timesteps_since_restore": 1020000, "iterations_since_restore": 255, "perf": {"cpu_util_percent": 31.605882352941173, "ram_util_percent": 16.905882352941177}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1107.02, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5165156558895635, "mean_processing_ms": 0.10284135513054485, "mean_inference_ms": 0.5854824922054986}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1015808, "num_steps_sampled": 1024000, "sample_time_ms": 4791.742, "load_time_ms": 2.006, "grad_time_ms": 6805.091, "update_time_ms": 11.002, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2486.294189453125, "policy_loss": -0.03327912837266922, "vf_loss": 2486.325439453125, "vf_explained_var": 0.4179096817970276, "kl": 0.00746962008997798, "entropy": 0.6878559589385986, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1024000, "episodes_total": 1022, "training_iteration": 256, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-16-22", "timestamp": 1565597782, "time_this_iter_s": 11.93022346496582, "time_total_s": 2958.6345710754395, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2958.6345710754395, "timesteps_since_restore": 1024000, "iterations_since_restore": 256, "perf": {"cpu_util_percent": 30.788235294117644, "ram_util_percent": 16.91764705882353}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1112.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5164494708157171, "mean_processing_ms": 0.10283830961097387, "mean_inference_ms": 0.5854629704852607}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1019776, "num_steps_sampled": 1028000, "sample_time_ms": 4798.422, "load_time_ms": 2.135, "grad_time_ms": 6812.248, "update_time_ms": 11.401, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1635.743896484375, "policy_loss": -0.024384774267673492, "vf_loss": 1635.7657470703125, "vf_explained_var": 0.34505894780158997, "kl": 0.007870269939303398, "entropy": 0.7064731121063232, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1028000, "episodes_total": 1026, "training_iteration": 257, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-16-34", "timestamp": 1565597794, "time_this_iter_s": 11.733670234680176, "time_total_s": 2970.3682413101196, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2970.3682413101196, "timesteps_since_restore": 1028000, "iterations_since_restore": 257, "perf": {"cpu_util_percent": 31.31764705882353, "ram_util_percent": 16.947058823529414}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1121.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.516379360571635, "mean_processing_ms": 0.102834152104567, "mean_inference_ms": 0.5854400398464992}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1023744, "num_steps_sampled": 1032000, "sample_time_ms": 4827.465, "load_time_ms": 2.163, "grad_time_ms": 6760.083, "update_time_ms": 11.418, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2126.85498046875, "policy_loss": -0.030527388677001, "vf_loss": 2126.88232421875, "vf_explained_var": 0.3708379864692688, "kl": 0.010502401739358902, "entropy": 0.7235186696052551, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1032000, "episodes_total": 1030, "training_iteration": 258, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-16-45", "timestamp": 1565597805, "time_this_iter_s": 11.168457269668579, "time_total_s": 2981.536698579788, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2981.536698579788, "timesteps_since_restore": 1032000, "iterations_since_restore": 258, "perf": {"cpu_util_percent": 31.69375, "ram_util_percent": 16.95}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1117.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5163070205609918, "mean_processing_ms": 0.10282925934581783, "mean_inference_ms": 0.5854146166188287}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1027712, "num_steps_sampled": 1036000, "sample_time_ms": 4773.172, "load_time_ms": 2.245, "grad_time_ms": 6775.312, "update_time_ms": 12.445, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2501.102783203125, "policy_loss": -0.030347265303134918, "vf_loss": 2501.130859375, "vf_explained_var": 0.3748362362384796, "kl": 0.008964627981185913, "entropy": 0.7222033143043518, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1036000, "episodes_total": 1034, "training_iteration": 259, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-16-57", "timestamp": 1565597817, "time_this_iter_s": 11.557078838348389, "time_total_s": 2993.0937774181366, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 2993.0937774181366, "timesteps_since_restore": 1036000, "iterations_since_restore": 259, "perf": {"cpu_util_percent": 32.2235294117647, "ram_util_percent": 16.976470588235294}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1121.42, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5162372797115858, "mean_processing_ms": 0.102824627525101, "mean_inference_ms": 0.5853933157787201}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1031680, "num_steps_sampled": 1040000, "sample_time_ms": 4781.642, "load_time_ms": 2.281, "grad_time_ms": 6824.403, "update_time_ms": 12.241, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2203.055908203125, "policy_loss": -0.026044422760605812, "vf_loss": 2203.079345703125, "vf_explained_var": 0.3134208619594574, "kl": 0.009209315292537212, "entropy": 0.6850125789642334, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1040000, "episodes_total": 1038, "training_iteration": 260, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-17-08", "timestamp": 1565597828, "time_this_iter_s": 11.813517332077026, "time_total_s": 3004.9072947502136, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3004.9072947502136, "timesteps_since_restore": 1040000, "iterations_since_restore": 260, "perf": {"cpu_util_percent": 30.952941176470592, "ram_util_percent": 16.96470588235294}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1126.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5161655925637731, "mean_processing_ms": 0.10281877599871914, "mean_inference_ms": 0.5853685200387239}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1035648, "num_steps_sampled": 1044000, "sample_time_ms": 4797.662, "load_time_ms": 2.266, "grad_time_ms": 6777.066, "update_time_ms": 12.218, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3158.2490234375, "policy_loss": -0.03423639014363289, "vf_loss": 3158.280517578125, "vf_explained_var": 0.351187527179718, "kl": 0.008868704549968243, "entropy": 0.7136885523796082, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1044000, "episodes_total": 1042, "training_iteration": 261, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-17-20", "timestamp": 1565597840, "time_this_iter_s": 11.175854682922363, "time_total_s": 3016.083149433136, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3016.083149433136, "timesteps_since_restore": 1044000, "iterations_since_restore": 261, "perf": {"cpu_util_percent": 30.68666666666667, "ram_util_percent": 16.993333333333332}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1137.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5160963300931319, "mean_processing_ms": 0.10281285318308572, "mean_inference_ms": 0.5853442590185718}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1039616, "num_steps_sampled": 1048000, "sample_time_ms": 4807.131, "load_time_ms": 2.309, "grad_time_ms": 6797.654, "update_time_ms": 11.925, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3480.87646484375, "policy_loss": -0.03858013078570366, "vf_loss": 3480.911376953125, "vf_explained_var": 0.413470596075058, "kl": 0.01235935464501381, "entropy": 0.7076597809791565, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1048000, "episodes_total": 1046, "training_iteration": 262, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-17-32", "timestamp": 1565597852, "time_this_iter_s": 12.012607097625732, "time_total_s": 3028.0957565307617, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3028.0957565307617, "timesteps_since_restore": 1048000, "iterations_since_restore": 262, "perf": {"cpu_util_percent": 31.755555555555556, "ram_util_percent": 16.977777777777774}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1143.67, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5160292758541787, "mean_processing_ms": 0.10280656407256895, "mean_inference_ms": 0.585319750940004}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1043584, "num_steps_sampled": 1052000, "sample_time_ms": 4820.853, "load_time_ms": 2.427, "grad_time_ms": 6833.12, "update_time_ms": 12.71, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1799.69189453125, "policy_loss": -0.030795777216553688, "vf_loss": 1799.719970703125, "vf_explained_var": 0.14393648505210876, "kl": 0.008755951188504696, "entropy": 0.6701759099960327, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1052000, "episodes_total": 1050, "training_iteration": 263, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-17-43", "timestamp": 1565597863, "time_this_iter_s": 11.75608777999878, "time_total_s": 3039.8518443107605, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3039.8518443107605, "timesteps_since_restore": 1052000, "iterations_since_restore": 263, "perf": {"cpu_util_percent": 31.106250000000003, "ram_util_percent": 16.98125}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1136.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5159618119163809, "mean_processing_ms": 0.10279972973776123, "mean_inference_ms": 0.5852951739489608}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1047552, "num_steps_sampled": 1056000, "sample_time_ms": 4815.809, "load_time_ms": 2.385, "grad_time_ms": 6794.657, "update_time_ms": 10.768, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2321.613525390625, "policy_loss": -0.024426056072115898, "vf_loss": 2321.635498046875, "vf_explained_var": 0.29820260405540466, "kl": 0.008065500296652317, "entropy": 0.6777337193489075, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1056000, "episodes_total": 1054, "training_iteration": 264, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-17-55", "timestamp": 1565597875, "time_this_iter_s": 11.243991374969482, "time_total_s": 3051.09583568573, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3051.09583568573, "timesteps_since_restore": 1056000, "iterations_since_restore": 264, "perf": {"cpu_util_percent": 31.59375, "ram_util_percent": 16.96875}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1143.81, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5158975341071365, "mean_processing_ms": 0.1027921524309377, "mean_inference_ms": 0.5852743256943646}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1051520, "num_steps_sampled": 1060000, "sample_time_ms": 4808.395, "load_time_ms": 2.308, "grad_time_ms": 6796.429, "update_time_ms": 10.357, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2196.07470703125, "policy_loss": -0.0246899276971817, "vf_loss": 2196.09716796875, "vf_explained_var": 0.25813528895378113, "kl": 0.007282817270606756, "entropy": 0.6747029423713684, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1060000, "episodes_total": 1058, "training_iteration": 265, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-18-07", "timestamp": 1565597887, "time_this_iter_s": 11.896610260009766, "time_total_s": 3062.9924459457397, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3062.9924459457397, "timesteps_since_restore": 1060000, "iterations_since_restore": 265, "perf": {"cpu_util_percent": 31.28235294117647, "ram_util_percent": 17.029411764705884}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1138.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5158332757783759, "mean_processing_ms": 0.10278495232656146, "mean_inference_ms": 0.585253727034815}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1055488, "num_steps_sampled": 1064000, "sample_time_ms": 4809.193, "load_time_ms": 2.267, "grad_time_ms": 6790.361, "update_time_ms": 10.438, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2284.61279296875, "policy_loss": -0.022028181701898575, "vf_loss": 2284.63232421875, "vf_explained_var": 0.2627114951610565, "kl": 0.007806786801666021, "entropy": 0.6745345592498779, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1064000, "episodes_total": 1062, "training_iteration": 266, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-18-19", "timestamp": 1565597899, "time_this_iter_s": 11.877305746078491, "time_total_s": 3074.8697516918182, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3074.8697516918182, "timesteps_since_restore": 1064000, "iterations_since_restore": 266, "perf": {"cpu_util_percent": 31.094117647058823, "ram_util_percent": 17.01176470588235}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1138.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5157688019580737, "mean_processing_ms": 0.10277745226619656, "mean_inference_ms": 0.5852323061524239}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1059456, "num_steps_sampled": 1068000, "sample_time_ms": 4819.588, "load_time_ms": 2.268, "grad_time_ms": 6806.712, "update_time_ms": 10.257, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2729.068359375, "policy_loss": -0.025929909199476242, "vf_loss": 2729.092041015625, "vf_explained_var": 0.34120818972587585, "kl": 0.008153107017278671, "entropy": 0.6842154264450073, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1068000, "episodes_total": 1066, "training_iteration": 267, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-18-31", "timestamp": 1565597911, "time_this_iter_s": 11.999063968658447, "time_total_s": 3086.8688156604767, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3086.8688156604767, "timesteps_since_restore": 1068000, "iterations_since_restore": 267, "perf": {"cpu_util_percent": 31.594117647058823, "ram_util_percent": 17.005882352941175}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1150.8, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5157004430811609, "mean_processing_ms": 0.10276871437907015, "mean_inference_ms": 0.5852073752275555}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1063424, "num_steps_sampled": 1072000, "sample_time_ms": 4819.348, "load_time_ms": 2.243, "grad_time_ms": 6863.255, "update_time_ms": 10.474, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4678.14794921875, "policy_loss": -0.032948147505521774, "vf_loss": 4678.17822265625, "vf_explained_var": 0.3635348975658417, "kl": 0.010110381059348583, "entropy": 0.7052315473556519, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1072000, "episodes_total": 1070, "training_iteration": 268, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-18-42", "timestamp": 1565597922, "time_this_iter_s": 11.730036497116089, "time_total_s": 3098.598852157593, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3098.598852157593, "timesteps_since_restore": 1072000, "iterations_since_restore": 268, "perf": {"cpu_util_percent": 31.335294117647063, "ram_util_percent": 17.01764705882353}}
{"episode_reward_max": -783.0, "episode_reward_min": -2049.0, "episode_reward_mean": -1149.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.515633614733661, "mean_processing_ms": 0.10275971157042876, "mean_inference_ms": 0.5851838229053321}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1067392, "num_steps_sampled": 1076000, "sample_time_ms": 4834.031, "load_time_ms": 2.231, "grad_time_ms": 6860.569, "update_time_ms": 9.334, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2449.421875, "policy_loss": -0.026884881779551506, "vf_loss": 2449.4453125, "vf_explained_var": 0.29568904638290405, "kl": 0.010188118554651737, "entropy": 0.6635648012161255, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1076000, "episodes_total": 1074, "training_iteration": 269, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-18-54", "timestamp": 1565597934, "time_this_iter_s": 11.660958528518677, "time_total_s": 3110.2598106861115, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3110.2598106861115, "timesteps_since_restore": 1076000, "iterations_since_restore": 269, "perf": {"cpu_util_percent": 32.38823529411765, "ram_util_percent": 16.99411764705882}}
{"episode_reward_max": -783.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1137.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5155639752227138, "mean_processing_ms": 0.10275037229367506, "mean_inference_ms": 0.5851593837020584}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1071360, "num_steps_sampled": 1080000, "sample_time_ms": 4823.475, "load_time_ms": 2.268, "grad_time_ms": 6850.497, "update_time_ms": 9.838, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2135.560546875, "policy_loss": -0.025757180526852608, "vf_loss": 2135.584228515625, "vf_explained_var": 0.25559425354003906, "kl": 0.0074091749265789986, "entropy": 0.6500869989395142, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1080000, "episodes_total": 1078, "training_iteration": 270, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-19-06", "timestamp": 1565597946, "time_this_iter_s": 11.61275053024292, "time_total_s": 3121.8725612163544, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3121.8725612163544, "timesteps_since_restore": 1080000, "iterations_since_restore": 270, "perf": {"cpu_util_percent": 30.625, "ram_util_percent": 16.987499999999997}}
{"episode_reward_max": -808.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1150.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5154959351285774, "mean_processing_ms": 0.10274133905498664, "mean_inference_ms": 0.5851335619942784}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1075328, "num_steps_sampled": 1084000, "sample_time_ms": 4813.858, "load_time_ms": 2.263, "grad_time_ms": 6907.979, "update_time_ms": 9.593, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3459.0126953125, "policy_loss": -0.02581062540411949, "vf_loss": 3459.0361328125, "vf_explained_var": 0.3062426745891571, "kl": 0.007885878905653954, "entropy": 0.659539520740509, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1084000, "episodes_total": 1082, "training_iteration": 271, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-19-17", "timestamp": 1565597957, "time_this_iter_s": 11.652472496032715, "time_total_s": 3133.525033712387, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3133.525033712387, "timesteps_since_restore": 1084000, "iterations_since_restore": 271, "perf": {"cpu_util_percent": 31.470588235294116, "ram_util_percent": 17.0}}
{"episode_reward_max": -808.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1143.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5154300231018388, "mean_processing_ms": 0.1027327676938107, "mean_inference_ms": 0.5851099191110386}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1079296, "num_steps_sampled": 1088000, "sample_time_ms": 4811.388, "load_time_ms": 2.368, "grad_time_ms": 6881.413, "update_time_ms": 9.659, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2666.132568359375, "policy_loss": -0.02271224930882454, "vf_loss": 2666.153076171875, "vf_explained_var": 0.3112495243549347, "kl": 0.008085883222520351, "entropy": 0.6643102765083313, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1088000, "episodes_total": 1086, "training_iteration": 272, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-19-29", "timestamp": 1565597969, "time_this_iter_s": 11.720678329467773, "time_total_s": 3145.245712041855, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3145.245712041855, "timesteps_since_restore": 1088000, "iterations_since_restore": 272, "perf": {"cpu_util_percent": 31.905882352941177, "ram_util_percent": 17.029411764705884}}
{"episode_reward_max": -808.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1137.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.515373849885743, "mean_processing_ms": 0.10272575115441991, "mean_inference_ms": 0.5850951635129872}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1083264, "num_steps_sampled": 1092000, "sample_time_ms": 4827.458, "load_time_ms": 2.456, "grad_time_ms": 6888.933, "update_time_ms": 8.856, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2322.047119140625, "policy_loss": -0.025774160400032997, "vf_loss": 2322.0703125, "vf_explained_var": 0.31474238634109497, "kl": 0.008046257309615612, "entropy": 0.666841447353363, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1092000, "episodes_total": 1090, "training_iteration": 273, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-19-41", "timestamp": 1565597981, "time_this_iter_s": 11.986839294433594, "time_total_s": 3157.2325513362885, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3157.2325513362885, "timesteps_since_restore": 1092000, "iterations_since_restore": 273, "perf": {"cpu_util_percent": 30.658823529411762, "ram_util_percent": 17.058823529411764}}
{"episode_reward_max": -808.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1142.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5153165482200249, "mean_processing_ms": 0.10271842489886314, "mean_inference_ms": 0.5850793760956552}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1087232, "num_steps_sampled": 1096000, "sample_time_ms": 4849.653, "load_time_ms": 2.52, "grad_time_ms": 6921.26, "update_time_ms": 9.03, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2867.760986328125, "policy_loss": -0.026244772598147392, "vf_loss": 2867.784423828125, "vf_explained_var": 0.3397451341152191, "kl": 0.008348367176949978, "entropy": 0.65690678358078, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1096000, "episodes_total": 1094, "training_iteration": 274, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-19-53", "timestamp": 1565597993, "time_this_iter_s": 11.786781787872314, "time_total_s": 3169.0193331241608, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3169.0193331241608, "timesteps_since_restore": 1096000, "iterations_since_restore": 274, "perf": {"cpu_util_percent": 31.970588235294116, "ram_util_percent": 17.01764705882353}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1132.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5152598210446396, "mean_processing_ms": 0.10271097835874475, "mean_inference_ms": 0.5850650280105256}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1091200, "num_steps_sampled": 1100000, "sample_time_ms": 4843.096, "load_time_ms": 2.462, "grad_time_ms": 6920.238, "update_time_ms": 7.496, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2311.726806640625, "policy_loss": -0.02406265214085579, "vf_loss": 2311.748046875, "vf_explained_var": 0.27218788862228394, "kl": 0.009178041480481625, "entropy": 0.5995467305183411, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1100000, "episodes_total": 1098, "training_iteration": 275, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-20-05", "timestamp": 1565598005, "time_this_iter_s": 11.802841424942017, "time_total_s": 3180.822174549103, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3180.822174549103, "timesteps_since_restore": 1100000, "iterations_since_restore": 275, "perf": {"cpu_util_percent": 31.670588235294122, "ram_util_percent": 17.04705882352941}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1130.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5152024981106308, "mean_processing_ms": 0.10270325129344972, "mean_inference_ms": 0.5850493415934395}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1095168, "num_steps_sampled": 1104000, "sample_time_ms": 4788.167, "load_time_ms": 2.452, "grad_time_ms": 6941.535, "update_time_ms": 7.108, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3296.209228515625, "policy_loss": -0.024290818721055984, "vf_loss": 3296.230712890625, "vf_explained_var": 0.2682933807373047, "kl": 0.008119132369756699, "entropy": 0.6168727278709412, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1104000, "episodes_total": 1102, "training_iteration": 276, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-20-16", "timestamp": 1565598016, "time_this_iter_s": 11.532182216644287, "time_total_s": 3192.354356765747, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3192.354356765747, "timesteps_since_restore": 1104000, "iterations_since_restore": 276, "perf": {"cpu_util_percent": 30.75625, "ram_util_percent": 17.06875}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1129.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5151501571442751, "mean_processing_ms": 0.10269686063860128, "mean_inference_ms": 0.5850378250084113}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1099136, "num_steps_sampled": 1108000, "sample_time_ms": 4788.874, "load_time_ms": 2.669, "grad_time_ms": 6923.647, "update_time_ms": 7.042, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2600.51416015625, "policy_loss": -0.026987748220562935, "vf_loss": 2600.5380859375, "vf_explained_var": 0.2875823676586151, "kl": 0.010333594866096973, "entropy": 0.5996342301368713, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1108000, "episodes_total": 1106, "training_iteration": 277, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-20-28", "timestamp": 1565598028, "time_this_iter_s": 11.829371690750122, "time_total_s": 3204.183728456497, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3204.183728456497, "timesteps_since_restore": 1108000, "iterations_since_restore": 277, "perf": {"cpu_util_percent": 32.370588235294115, "ram_util_percent": 17.094117647058823}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1126.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5150975166503934, "mean_processing_ms": 0.10269073749732181, "mean_inference_ms": 0.5850266219717543}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1103104, "num_steps_sampled": 1112000, "sample_time_ms": 4788.781, "load_time_ms": 2.677, "grad_time_ms": 6875.132, "update_time_ms": 6.616, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2653.38037109375, "policy_loss": -0.022295381873846054, "vf_loss": 2653.400146484375, "vf_explained_var": 0.2870093584060669, "kl": 0.006729742977768183, "entropy": 0.609695315361023, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1112000, "episodes_total": 1110, "training_iteration": 278, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-20-39", "timestamp": 1565598039, "time_this_iter_s": 11.243999481201172, "time_total_s": 3215.4277279376984, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3215.4277279376984, "timesteps_since_restore": 1112000, "iterations_since_restore": 278, "perf": {"cpu_util_percent": 30.53125, "ram_util_percent": 17.09375}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1120.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5150477795237733, "mean_processing_ms": 0.10268381659326434, "mean_inference_ms": 0.5850171568859327}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1107072, "num_steps_sampled": 1116000, "sample_time_ms": 4794.28, "load_time_ms": 2.689, "grad_time_ms": 6868.963, "update_time_ms": 6.972, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2571.288818359375, "policy_loss": -0.021444765850901604, "vf_loss": 2571.307861328125, "vf_explained_var": 0.2806423604488373, "kl": 0.008308684453368187, "entropy": 0.5979000926017761, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1116000, "episodes_total": 1114, "training_iteration": 279, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-20-51", "timestamp": 1565598051, "time_this_iter_s": 11.663692235946655, "time_total_s": 3227.091420173645, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3227.091420173645, "timesteps_since_restore": 1116000, "iterations_since_restore": 279, "perf": {"cpu_util_percent": 31.92941176470588, "ram_util_percent": 17.07058823529412}}
{"episode_reward_max": -756.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1115.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5149962327293538, "mean_processing_ms": 0.10267676003927649, "mean_inference_ms": 0.5850028070028149}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1111040, "num_steps_sampled": 1120000, "sample_time_ms": 4805.62, "load_time_ms": 2.713, "grad_time_ms": 6873.292, "update_time_ms": 6.741, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2266.376708984375, "policy_loss": -0.022377928718924522, "vf_loss": 2266.396728515625, "vf_explained_var": 0.2915089428424835, "kl": 0.008331597782671452, "entropy": 0.601469099521637, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1120000, "episodes_total": 1118, "training_iteration": 280, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-21-03", "timestamp": 1565598063, "time_this_iter_s": 11.767261028289795, "time_total_s": 3238.858681201935, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3238.858681201935, "timesteps_since_restore": 1120000, "iterations_since_restore": 280, "perf": {"cpu_util_percent": 31.575, "ram_util_percent": 17.06875}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1112.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.514940695794238, "mean_processing_ms": 0.10266708178526711, "mean_inference_ms": 0.5849848261805842}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1115008, "num_steps_sampled": 1124000, "sample_time_ms": 4818.103, "load_time_ms": 2.709, "grad_time_ms": 6860.015, "update_time_ms": 6.921, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2094.9453125, "policy_loss": -0.024653447791934013, "vf_loss": 2094.967529296875, "vf_explained_var": 0.2759028673171997, "kl": 0.0067935301922261715, "entropy": 0.5865733623504639, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1124000, "episodes_total": 1122, "training_iteration": 281, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-21-14", "timestamp": 1565598074, "time_this_iter_s": 11.646084070205688, "time_total_s": 3250.5047652721405, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3250.5047652721405, "timesteps_since_restore": 1124000, "iterations_since_restore": 281, "perf": {"cpu_util_percent": 30.7764705882353, "ram_util_percent": 17.05294117647059}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1099.67, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5148859924094928, "mean_processing_ms": 0.10265808117150822, "mean_inference_ms": 0.5849671834020006}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1118976, "num_steps_sampled": 1128000, "sample_time_ms": 4823.284, "load_time_ms": 2.575, "grad_time_ms": 6848.293, "update_time_ms": 6.799, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2167.052978515625, "policy_loss": -0.02400035969913006, "vf_loss": 2167.07470703125, "vf_explained_var": 0.2837155759334564, "kl": 0.008071145042777061, "entropy": 0.6131840348243713, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1128000, "episodes_total": 1126, "training_iteration": 282, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-21-26", "timestamp": 1565598086, "time_this_iter_s": 11.654178857803345, "time_total_s": 3262.158944129944, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3262.158944129944, "timesteps_since_restore": 1128000, "iterations_since_restore": 282, "perf": {"cpu_util_percent": 31.92941176470588, "ram_util_percent": 17.064705882352943}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1091.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5148352804236993, "mean_processing_ms": 0.10264958616243686, "mean_inference_ms": 0.5849524468384927}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1122944, "num_steps_sampled": 1132000, "sample_time_ms": 4810.545, "load_time_ms": 2.46, "grad_time_ms": 6831.869, "update_time_ms": 6.923, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2913.42041015625, "policy_loss": -0.026145629584789276, "vf_loss": 2913.444091796875, "vf_explained_var": 0.30942365527153015, "kl": 0.00846906192600727, "entropy": 0.6151947975158691, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1132000, "episodes_total": 1130, "training_iteration": 283, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-21-38", "timestamp": 1565598098, "time_this_iter_s": 11.69232702255249, "time_total_s": 3273.8512711524963, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3273.8512711524963, "timesteps_since_restore": 1132000, "iterations_since_restore": 283, "perf": {"cpu_util_percent": 31.6875, "ram_util_percent": 17.0625}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1096.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5147859546784123, "mean_processing_ms": 0.10264112846026735, "mean_inference_ms": 0.5849377411514165}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1126912, "num_steps_sampled": 1136000, "sample_time_ms": 4782.256, "load_time_ms": 2.439, "grad_time_ms": 6838.32, "update_time_ms": 6.915, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2982.532958984375, "policy_loss": -0.023719547316432, "vf_loss": 2982.554443359375, "vf_explained_var": 0.26909908652305603, "kl": 0.007379839662462473, "entropy": 0.6210873126983643, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1136000, "episodes_total": 1134, "training_iteration": 284, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-21-49", "timestamp": 1565598109, "time_this_iter_s": 11.571228981018066, "time_total_s": 3285.4225001335144, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3285.4225001335144, "timesteps_since_restore": 1136000, "iterations_since_restore": 284, "perf": {"cpu_util_percent": 30.958823529411763, "ram_util_percent": 17.105882352941173}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1087.72, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5147406538872981, "mean_processing_ms": 0.1026341958106949, "mean_inference_ms": 0.5849253697770556}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1130880, "num_steps_sampled": 1140000, "sample_time_ms": 4797.509, "load_time_ms": 2.522, "grad_time_ms": 6827.79, "update_time_ms": 6.718, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2534.310791015625, "policy_loss": -0.020559951663017273, "vf_loss": 2534.3291015625, "vf_explained_var": 0.24862690269947052, "kl": 0.006389873567968607, "entropy": 0.5971825122833252, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1140000, "episodes_total": 1138, "training_iteration": 285, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-22-01", "timestamp": 1565598121, "time_this_iter_s": 11.853353500366211, "time_total_s": 3297.2758536338806, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3297.2758536338806, "timesteps_since_restore": 1140000, "iterations_since_restore": 285, "perf": {"cpu_util_percent": 32.5, "ram_util_percent": 17.129411764705882}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1082.21, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5147012769063771, "mean_processing_ms": 0.10262907301809719, "mean_inference_ms": 0.5849191886351116}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1134848, "num_steps_sampled": 1144000, "sample_time_ms": 4858.266, "load_time_ms": 2.402, "grad_time_ms": 6775.06, "update_time_ms": 7.463, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2251.8974609375, "policy_loss": -0.019942082464694977, "vf_loss": 2251.91455078125, "vf_explained_var": 0.25397998094558716, "kl": 0.008099067956209183, "entropy": 0.6363505721092224, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1144000, "episodes_total": 1142, "training_iteration": 286, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-22-13", "timestamp": 1565598133, "time_this_iter_s": 11.624023199081421, "time_total_s": 3308.899876832962, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3308.899876832962, "timesteps_since_restore": 1144000, "iterations_since_restore": 286, "perf": {"cpu_util_percent": 30.51875, "ram_util_percent": 17.1125}}
{"episode_reward_max": -729.0, "episode_reward_min": -1830.0, "episode_reward_mean": -1077.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5146625366924382, "mean_processing_ms": 0.10262468636459665, "mean_inference_ms": 0.5849134752006296}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1138816, "num_steps_sampled": 1148000, "sample_time_ms": 4853.356, "load_time_ms": 2.193, "grad_time_ms": 6771.79, "update_time_ms": 7.455, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2622.472900390625, "policy_loss": -0.023820487782359123, "vf_loss": 2622.494140625, "vf_explained_var": 0.23117993772029877, "kl": 0.007981454022228718, "entropy": 0.6543876528739929, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1148000, "episodes_total": 1146, "training_iteration": 287, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-22-25", "timestamp": 1565598145, "time_this_iter_s": 11.74479603767395, "time_total_s": 3320.644672870636, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3320.644672870636, "timesteps_since_restore": 1148000, "iterations_since_restore": 287, "perf": {"cpu_util_percent": 31.747058823529407, "ram_util_percent": 17.13529411764706}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1076.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5146199050987099, "mean_processing_ms": 0.10261975330655533, "mean_inference_ms": 0.5849030613449032}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1142784, "num_steps_sampled": 1152000, "sample_time_ms": 4841.699, "load_time_ms": 2.186, "grad_time_ms": 6808.599, "update_time_ms": 7.8, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2754.248046875, "policy_loss": -0.029093783348798752, "vf_loss": 2754.27392578125, "vf_explained_var": 0.2578888237476349, "kl": 0.009833566844463348, "entropy": 0.6379279494285583, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1152000, "episodes_total": 1150, "training_iteration": 288, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-22-36", "timestamp": 1565598156, "time_this_iter_s": 11.49713134765625, "time_total_s": 3332.1418042182922, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3332.1418042182922, "timesteps_since_restore": 1152000, "iterations_since_restore": 288, "perf": {"cpu_util_percent": 31.51875, "ram_util_percent": 17.143750000000004}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1076.51, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5145767852913568, "mean_processing_ms": 0.10261449826671239, "mean_inference_ms": 0.5848933138441922}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1146752, "num_steps_sampled": 1156000, "sample_time_ms": 4825.945, "load_time_ms": 2.103, "grad_time_ms": 6811.671, "update_time_ms": 7.291, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2079.296875, "policy_loss": -0.024786051362752914, "vf_loss": 2079.31982421875, "vf_explained_var": 0.3084317445755005, "kl": 0.0070099919103085995, "entropy": 0.6269957423210144, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1156000, "episodes_total": 1154, "training_iteration": 289, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-22-48", "timestamp": 1565598168, "time_this_iter_s": 11.526433944702148, "time_total_s": 3343.6682381629944, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3343.6682381629944, "timesteps_since_restore": 1156000, "iterations_since_restore": 289, "perf": {"cpu_util_percent": 30.835294117647056, "ram_util_percent": 17.15294117647059}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1073.67, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5145351044797447, "mean_processing_ms": 0.10261102896466429, "mean_inference_ms": 0.5848845988576005}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1150720, "num_steps_sampled": 1160000, "sample_time_ms": 4850.433, "load_time_ms": 2.008, "grad_time_ms": 6799.626, "update_time_ms": 7.331, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3072.71142578125, "policy_loss": -0.03151010721921921, "vf_loss": 3072.7392578125, "vf_explained_var": 0.35647591948509216, "kl": 0.01028392557054758, "entropy": 0.6369316577911377, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1160000, "episodes_total": 1158, "training_iteration": 290, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-00", "timestamp": 1565598180, "time_this_iter_s": 11.893770694732666, "time_total_s": 3355.562008857727, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3355.562008857727, "timesteps_since_restore": 1160000, "iterations_since_restore": 290, "perf": {"cpu_util_percent": 32.205882352941174, "ram_util_percent": 17.16470588235294}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1078.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5144900168917445, "mean_processing_ms": 0.1026060657145262, "mean_inference_ms": 0.5848717265488054}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1154688, "num_steps_sampled": 1164000, "sample_time_ms": 4854.275, "load_time_ms": 1.995, "grad_time_ms": 6767.503, "update_time_ms": 7.236, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2344.971435546875, "policy_loss": -0.026506580412387848, "vf_loss": 2344.995849609375, "vf_explained_var": 0.2675654888153076, "kl": 0.00832060631364584, "entropy": 0.6115885376930237, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1164000, "episodes_total": 1162, "training_iteration": 291, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-11", "timestamp": 1565598191, "time_this_iter_s": 11.35966682434082, "time_total_s": 3366.921675682068, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3366.921675682068, "timesteps_since_restore": 1164000, "iterations_since_restore": 291, "perf": {"cpu_util_percent": 31.375, "ram_util_percent": 17.174999999999997}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1080.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5144412471603134, "mean_processing_ms": 0.10260026460706673, "mean_inference_ms": 0.58485608983804}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1158656, "num_steps_sampled": 1168000, "sample_time_ms": 4838.524, "load_time_ms": 2.108, "grad_time_ms": 6779.977, "update_time_ms": 7.29, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2102.252197265625, "policy_loss": -0.02260606549680233, "vf_loss": 2102.272705078125, "vf_explained_var": 0.2691989839076996, "kl": 0.0059182546101510525, "entropy": 0.6212280988693237, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1168000, "episodes_total": 1166, "training_iteration": 292, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-23", "timestamp": 1565598203, "time_this_iter_s": 11.625080823898315, "time_total_s": 3378.546756505966, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3378.546756505966, "timesteps_since_restore": 1168000, "iterations_since_restore": 292, "perf": {"cpu_util_percent": 32.37647058823529, "ram_util_percent": 17.15294117647059}}
{"episode_reward_max": -729.0, "episode_reward_min": -1751.0, "episode_reward_mean": -1070.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5143980094914972, "mean_processing_ms": 0.10259544826026111, "mean_inference_ms": 0.5848458931315268}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1162624, "num_steps_sampled": 1172000, "sample_time_ms": 4853.064, "load_time_ms": 2.199, "grad_time_ms": 6794.843, "update_time_ms": 7.095, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2073.72900390625, "policy_loss": -0.0208742655813694, "vf_loss": 2073.74755859375, "vf_explained_var": 0.2971278131008148, "kl": 0.007789349649101496, "entropy": 0.6111767292022705, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1172000, "episodes_total": 1170, "training_iteration": 293, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-35", "timestamp": 1565598215, "time_this_iter_s": 11.983519077301025, "time_total_s": 3390.530275583267, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3390.530275583267, "timesteps_since_restore": 1172000, "iterations_since_restore": 293, "perf": {"cpu_util_percent": 31.176470588235293, "ram_util_percent": 17.18235294117647}}
{"episode_reward_max": -729.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1056.26, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5143542548522025, "mean_processing_ms": 0.10259077167167735, "mean_inference_ms": 0.5848344102713845}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1166592, "num_steps_sampled": 1176000, "sample_time_ms": 4859.878, "load_time_ms": 2.111, "grad_time_ms": 6764.902, "update_time_ms": 8.425, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1878.4222412109375, "policy_loss": -0.01975138485431671, "vf_loss": 1878.4398193359375, "vf_explained_var": 0.30368921160697937, "kl": 0.008369069546461105, "entropy": 0.6087270975112915, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1176000, "episodes_total": 1174, "training_iteration": 294, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-46", "timestamp": 1565598226, "time_this_iter_s": 11.355395793914795, "time_total_s": 3401.885671377182, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3401.885671377182, "timesteps_since_restore": 1176000, "iterations_since_restore": 294, "perf": {"cpu_util_percent": 30.525000000000002, "ram_util_percent": 17.15625}}
{"episode_reward_max": -729.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1056.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.514318260285652, "mean_processing_ms": 0.10258741888797576, "mean_inference_ms": 0.5848291100901227}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1170560, "num_steps_sampled": 1180000, "sample_time_ms": 4870.963, "load_time_ms": 2.164, "grad_time_ms": 6775.932, "update_time_ms": 8.441, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1335.617431640625, "policy_loss": -0.025248046964406967, "vf_loss": 1335.6402587890625, "vf_explained_var": 0.24758604168891907, "kl": 0.008287560194730759, "entropy": 0.5684834718704224, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1180000, "episodes_total": 1178, "training_iteration": 295, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-23-58", "timestamp": 1565598238, "time_this_iter_s": 12.072773456573486, "time_total_s": 3413.9584448337555, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3413.9584448337555, "timesteps_since_restore": 1180000, "iterations_since_restore": 295, "perf": {"cpu_util_percent": 31.541176470588237, "ram_util_percent": 17.17058823529412}}
{"episode_reward_max": -723.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1043.95, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.514282029271418, "mean_processing_ms": 0.102584196536059, "mean_inference_ms": 0.5848268650399708}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1174528, "num_steps_sampled": 1184000, "sample_time_ms": 4830.283, "load_time_ms": 2.161, "grad_time_ms": 6833.72, "update_time_ms": 9.231, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1496.5064697265625, "policy_loss": -0.019081754609942436, "vf_loss": 1496.52392578125, "vf_explained_var": 0.28016507625579834, "kl": 0.005224668886512518, "entropy": 0.5643009543418884, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1184000, "episodes_total": 1182, "training_iteration": 296, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-24-10", "timestamp": 1565598250, "time_this_iter_s": 11.798734903335571, "time_total_s": 3425.757179737091, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3425.757179737091, "timesteps_since_restore": 1184000, "iterations_since_restore": 296, "perf": {"cpu_util_percent": 31.229411764705887, "ram_util_percent": 17.188235294117646}}
{"episode_reward_max": -723.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1044.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5142415309882635, "mean_processing_ms": 0.10257948567832141, "mean_inference_ms": 0.584821575093121}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1178496, "num_steps_sampled": 1188000, "sample_time_ms": 4795.882, "load_time_ms": 2.148, "grad_time_ms": 6844.567, "update_time_ms": 9.292, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1476.56494140625, "policy_loss": -0.022932130843400955, "vf_loss": 1476.5853271484375, "vf_explained_var": 0.30544835329055786, "kl": 0.00817599706351757, "entropy": 0.5658473372459412, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1188000, "episodes_total": 1186, "training_iteration": 297, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-24-21", "timestamp": 1565598261, "time_this_iter_s": 11.504697322845459, "time_total_s": 3437.2618770599365, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3437.2618770599365, "timesteps_since_restore": 1188000, "iterations_since_restore": 297, "perf": {"cpu_util_percent": 31.68125, "ram_util_percent": 17.1875}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1034.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5142013991992176, "mean_processing_ms": 0.10257487527638837, "mean_inference_ms": 0.5848156830328576}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1182464, "num_steps_sampled": 1192000, "sample_time_ms": 4838.526, "load_time_ms": 2.137, "grad_time_ms": 6848.641, "update_time_ms": 9.183, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1283.3232421875, "policy_loss": -0.027209611609578133, "vf_loss": 1283.3472900390625, "vf_explained_var": 0.38272061944007874, "kl": 0.011157838627696037, "entropy": 0.5855408906936646, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1192000, "episodes_total": 1190, "training_iteration": 298, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-24-33", "timestamp": 1565598273, "time_this_iter_s": 11.964958667755127, "time_total_s": 3449.2268357276917, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3449.2268357276917, "timesteps_since_restore": 1192000, "iterations_since_restore": 298, "perf": {"cpu_util_percent": 31.966666666666665, "ram_util_percent": 17.183333333333334}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1028.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5141602103456377, "mean_processing_ms": 0.10256999855525778, "mean_inference_ms": 0.5848070045665925}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1186432, "num_steps_sampled": 1196000, "sample_time_ms": 4849.797, "load_time_ms": 2.222, "grad_time_ms": 6813.915, "update_time_ms": 9.521, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1413.854248046875, "policy_loss": -0.027342351153492928, "vf_loss": 1413.879150390625, "vf_explained_var": 0.3830015957355499, "kl": 0.008338299579918385, "entropy": 0.6003995537757874, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1196000, "episodes_total": 1194, "training_iteration": 299, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-24-45", "timestamp": 1565598285, "time_this_iter_s": 11.298831939697266, "time_total_s": 3460.525667667389, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3460.525667667389, "timesteps_since_restore": 1196000, "iterations_since_restore": 299, "perf": {"cpu_util_percent": 31.025, "ram_util_percent": 17.2}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1028.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5141200445710551, "mean_processing_ms": 0.10256512058848496, "mean_inference_ms": 0.5847976721397375}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1190400, "num_steps_sampled": 1200000, "sample_time_ms": 4829.87, "load_time_ms": 2.258, "grad_time_ms": 6833.041, "update_time_ms": 9.37, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1450.21728515625, "policy_loss": -0.02614896185696125, "vf_loss": 1450.23974609375, "vf_explained_var": 0.34246742725372314, "kl": 0.011577289551496506, "entropy": 0.6030312776565552, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1200000, "episodes_total": 1198, "training_iteration": 300, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-24-57", "timestamp": 1565598297, "time_this_iter_s": 11.880620241165161, "time_total_s": 3472.406287908554, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3472.406287908554, "timesteps_since_restore": 1200000, "iterations_since_restore": 300, "perf": {"cpu_util_percent": 31.670588235294115, "ram_util_percent": 17.176470588235293}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1028.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.514085334877254, "mean_processing_ms": 0.10256149937228674, "mean_inference_ms": 0.5847938623703559}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1194368, "num_steps_sampled": 1204000, "sample_time_ms": 4834.031, "load_time_ms": 2.394, "grad_time_ms": 6877.177, "update_time_ms": 11.198, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1250.8212890625, "policy_loss": -0.024538874626159668, "vf_loss": 1250.8433837890625, "vf_explained_var": 0.39381420612335205, "kl": 0.009424078278243542, "entropy": 0.5977799892425537, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1204000, "episodes_total": 1202, "training_iteration": 301, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-25-08", "timestamp": 1565598308, "time_this_iter_s": 11.858831882476807, "time_total_s": 3484.265119791031, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3484.265119791031, "timesteps_since_restore": 1204000, "iterations_since_restore": 301, "perf": {"cpu_util_percent": 32.01875, "ram_util_percent": 17.2}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1025.95, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5140475685499102, "mean_processing_ms": 0.10255658770675913, "mean_inference_ms": 0.5847885733468252}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1198336, "num_steps_sampled": 1208000, "sample_time_ms": 4838.796, "load_time_ms": 2.39, "grad_time_ms": 6832.85, "update_time_ms": 11.213, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1308.24951171875, "policy_loss": -0.025036854669451714, "vf_loss": 1308.27099609375, "vf_explained_var": 0.3910054862499237, "kl": 0.01062615867704153, "entropy": 0.596510112285614, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1208000, "episodes_total": 1206, "training_iteration": 302, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-25-20", "timestamp": 1565598320, "time_this_iter_s": 11.228782176971436, "time_total_s": 3495.4939019680023, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3495.4939019680023, "timesteps_since_restore": 1208000, "iterations_since_restore": 302, "perf": {"cpu_util_percent": 31.46470588235294, "ram_util_percent": 17.176470588235293}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1018.37, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5140157989192926, "mean_processing_ms": 0.10255251741526304, "mean_inference_ms": 0.5847895170162745}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1202304, "num_steps_sampled": 1212000, "sample_time_ms": 4843.529, "load_time_ms": 2.454, "grad_time_ms": 6825.176, "update_time_ms": 11.406, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1142.1767578125, "policy_loss": -0.026754872873425484, "vf_loss": 1142.2003173828125, "vf_explained_var": 0.33357271552085876, "kl": 0.010759927332401276, "entropy": 0.579505980014801, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1212000, "episodes_total": 1210, "training_iteration": 303, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-25-32", "timestamp": 1565598332, "time_this_iter_s": 11.959354639053345, "time_total_s": 3507.4532566070557, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3507.4532566070557, "timesteps_since_restore": 1212000, "iterations_since_restore": 303, "perf": {"cpu_util_percent": 31.123529411764707, "ram_util_percent": 17.18235294117647}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1020.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5139851654275202, "mean_processing_ms": 0.10254856536810607, "mean_inference_ms": 0.5847919869918665}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1206272, "num_steps_sampled": 1216000, "sample_time_ms": 4863.669, "load_time_ms": 2.542, "grad_time_ms": 6859.97, "update_time_ms": 10.029, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2221.701904296875, "policy_loss": -0.033656250685453415, "vf_loss": 2221.732666015625, "vf_explained_var": 0.4215850532054901, "kl": 0.010388024151325226, "entropy": 0.573410153388977, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1216000, "episodes_total": 1214, "training_iteration": 304, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-25-44", "timestamp": 1565598344, "time_this_iter_s": 11.886639833450317, "time_total_s": 3519.339896440506, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3519.339896440506, "timesteps_since_restore": 1216000, "iterations_since_restore": 304, "perf": {"cpu_util_percent": 31.564705882352936, "ram_util_percent": 17.288235294117648}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1024.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5139528451029699, "mean_processing_ms": 0.10254425543816655, "mean_inference_ms": 0.5847946880478465}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1210240, "num_steps_sampled": 1220000, "sample_time_ms": 4825.349, "load_time_ms": 2.428, "grad_time_ms": 6845.093, "update_time_ms": 10.087, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1579.62353515625, "policy_loss": -0.024450991302728653, "vf_loss": 1579.6458740234375, "vf_explained_var": 0.3204699158668518, "kl": 0.006807283032685518, "entropy": 0.583228588104248, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1220000, "episodes_total": 1218, "training_iteration": 305, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-25-55", "timestamp": 1565598355, "time_this_iter_s": 11.540464162826538, "time_total_s": 3530.8803606033325, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3530.8803606033325, "timesteps_since_restore": 1220000, "iterations_since_restore": 305, "perf": {"cpu_util_percent": 31.568749999999998, "ram_util_percent": 17.225}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1026.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513923109197247, "mean_processing_ms": 0.10254157578206008, "mean_inference_ms": 0.5847987940178032}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1214208, "num_steps_sampled": 1224000, "sample_time_ms": 4846.862, "load_time_ms": 2.431, "grad_time_ms": 6830.039, "update_time_ms": 8.76, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1622.5067138671875, "policy_loss": -0.02526172623038292, "vf_loss": 1622.5296630859375, "vf_explained_var": 0.31059420108795166, "kl": 0.0073918686248362064, "entropy": 0.5556351542472839, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1224000, "episodes_total": 1222, "training_iteration": 306, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-26-07", "timestamp": 1565598367, "time_this_iter_s": 11.854656457901001, "time_total_s": 3542.7350170612335, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3542.7350170612335, "timesteps_since_restore": 1224000, "iterations_since_restore": 306, "perf": {"cpu_util_percent": 31.076470588235292, "ram_util_percent": 17.21764705882353}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1026.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5138978674606627, "mean_processing_ms": 0.10253943383270102, "mean_inference_ms": 0.5848061894866734}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1218176, "num_steps_sampled": 1228000, "sample_time_ms": 4904.444, "load_time_ms": 2.445, "grad_time_ms": 6823.504, "update_time_ms": 8.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2217.1748046875, "policy_loss": -0.030309973284602165, "vf_loss": 2217.20263671875, "vf_explained_var": 0.3500860929489136, "kl": 0.00949772261083126, "entropy": 0.5362417101860046, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1228000, "episodes_total": 1226, "training_iteration": 307, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-26-19", "timestamp": 1565598379, "time_this_iter_s": 12.016263484954834, "time_total_s": 3554.7512805461884, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3554.7512805461884, "timesteps_since_restore": 1228000, "iterations_since_restore": 307, "perf": {"cpu_util_percent": 31.052941176470593, "ram_util_percent": 17.182352941176468}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1020.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5138753552177576, "mean_processing_ms": 0.10253788217276029, "mean_inference_ms": 0.584814347885709}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1222144, "num_steps_sampled": 1232000, "sample_time_ms": 4904.408, "load_time_ms": 2.462, "grad_time_ms": 6832.662, "update_time_ms": 8.636, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1273.8641357421875, "policy_loss": -0.02501441352069378, "vf_loss": 1273.886474609375, "vf_explained_var": 0.2671778202056885, "kl": 0.008460416458547115, "entropy": 0.5517712831497192, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1232000, "episodes_total": 1230, "training_iteration": 308, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-26-31", "timestamp": 1565598391, "time_this_iter_s": 12.049160242080688, "time_total_s": 3566.800440788269, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3566.800440788269, "timesteps_since_restore": 1232000, "iterations_since_restore": 308, "perf": {"cpu_util_percent": 31.38235294117647, "ram_util_percent": 17.299999999999997}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1018.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5138553346325617, "mean_processing_ms": 0.1025367481577387, "mean_inference_ms": 0.5848265953864731}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1226112, "num_steps_sampled": 1236000, "sample_time_ms": 4908.566, "load_time_ms": 2.463, "grad_time_ms": 6870.923, "update_time_ms": 9.14, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2430.6240234375, "policy_loss": -0.027297908440232277, "vf_loss": 2430.64892578125, "vf_explained_var": 0.31787583231925964, "kl": 0.008084441535174847, "entropy": 0.5864303112030029, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1236000, "episodes_total": 1234, "training_iteration": 309, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-26-43", "timestamp": 1565598403, "time_this_iter_s": 11.722954273223877, "time_total_s": 3578.523395061493, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3578.523395061493, "timesteps_since_restore": 1236000, "iterations_since_restore": 309, "perf": {"cpu_util_percent": 31.135294117647057, "ram_util_percent": 17.323529411764707}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1021.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5138318158794507, "mean_processing_ms": 0.10253430510481308, "mean_inference_ms": 0.5848357319157155}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1230080, "num_steps_sampled": 1240000, "sample_time_ms": 4900.507, "load_time_ms": 2.407, "grad_time_ms": 6823.02, "update_time_ms": 9.087, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1890.4781494140625, "policy_loss": -0.021137380972504616, "vf_loss": 1890.4969482421875, "vf_explained_var": 0.3366769850254059, "kl": 0.007351480890065432, "entropy": 0.5949257612228394, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1240000, "episodes_total": 1238, "training_iteration": 310, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-26-54", "timestamp": 1565598414, "time_this_iter_s": 11.318122863769531, "time_total_s": 3589.8415179252625, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3589.8415179252625, "timesteps_since_restore": 1240000, "iterations_since_restore": 310, "perf": {"cpu_util_percent": 32.075, "ram_util_percent": 17.337500000000002}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1016.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5138048372077383, "mean_processing_ms": 0.10253121700806198, "mean_inference_ms": 0.5848431571573741}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1234048, "num_steps_sampled": 1244000, "sample_time_ms": 4911.597, "load_time_ms": 2.172, "grad_time_ms": 6828.038, "update_time_ms": 7.565, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1892.4146728515625, "policy_loss": -0.030587026849389076, "vf_loss": 1892.4422607421875, "vf_explained_var": 0.4126876890659332, "kl": 0.009585106745362282, "entropy": 0.5818487405776978, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1244000, "episodes_total": 1242, "training_iteration": 311, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-27-06", "timestamp": 1565598426, "time_this_iter_s": 12.009150266647339, "time_total_s": 3601.85066819191, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3601.85066819191, "timesteps_since_restore": 1244000, "iterations_since_restore": 311, "perf": {"cpu_util_percent": 31.147058823529413, "ram_util_percent": 17.31176470588235}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1009.27, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5137779265819299, "mean_processing_ms": 0.10252887040435961, "mean_inference_ms": 0.5848515379818332}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1238016, "num_steps_sampled": 1248000, "sample_time_ms": 4929.932, "load_time_ms": 2.102, "grad_time_ms": 6873.343, "update_time_ms": 7.711, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1367.0936279296875, "policy_loss": -0.019662659615278244, "vf_loss": 1367.1114501953125, "vf_explained_var": 0.2601723372936249, "kl": 0.006087496876716614, "entropy": 0.5582795143127441, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1248000, "episodes_total": 1246, "training_iteration": 312, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-27-18", "timestamp": 1565598438, "time_this_iter_s": 11.861108541488647, "time_total_s": 3613.7117767333984, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3613.7117767333984, "timesteps_since_restore": 1248000, "iterations_since_restore": 312, "perf": {"cpu_util_percent": 31.0764705882353, "ram_util_percent": 17.35294117647059}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1005.56, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5137566168842514, "mean_processing_ms": 0.10252794095264516, "mean_inference_ms": 0.584866656620874}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1241984, "num_steps_sampled": 1252000, "sample_time_ms": 4920.701, "load_time_ms": 1.997, "grad_time_ms": 6841.229, "update_time_ms": 7.704, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2492.50830078125, "policy_loss": -0.02439768984913826, "vf_loss": 2492.530029296875, "vf_explained_var": 0.2785501480102539, "kl": 0.008943366818130016, "entropy": 0.6201110482215881, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1252000, "episodes_total": 1250, "training_iteration": 313, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-27-30", "timestamp": 1565598450, "time_this_iter_s": 11.544058799743652, "time_total_s": 3625.255835533142, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3625.255835533142, "timesteps_since_restore": 1252000, "iterations_since_restore": 313, "perf": {"cpu_util_percent": 31.458823529411763, "ram_util_percent": 17.29411764705882}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1012.32, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5137384306738906, "mean_processing_ms": 0.10252702732316216, "mean_inference_ms": 0.5848825679115137}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1245952, "num_steps_sampled": 1256000, "sample_time_ms": 4907.183, "load_time_ms": 1.984, "grad_time_ms": 6840.903, "update_time_ms": 7.643, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2407.31396484375, "policy_loss": -0.027140337973833084, "vf_loss": 2407.3388671875, "vf_explained_var": 0.3377290666103363, "kl": 0.007308613043278456, "entropy": 0.623313844203949, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1256000, "episodes_total": 1254, "training_iteration": 314, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-27-41", "timestamp": 1565598461, "time_this_iter_s": 11.749338865280151, "time_total_s": 3637.0051743984222, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3637.0051743984222, "timesteps_since_restore": 1256000, "iterations_since_restore": 314, "perf": {"cpu_util_percent": 31.475, "ram_util_percent": 17.275}}
{"episode_reward_max": -650.0, "episode_reward_min": -1592.0, "episode_reward_mean": -1011.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5137151953846486, "mean_processing_ms": 0.10252442159172656, "mean_inference_ms": 0.5848934213263169}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1249920, "num_steps_sampled": 1260000, "sample_time_ms": 4902.355, "load_time_ms": 2.094, "grad_time_ms": 6857.63, "update_time_ms": 7.608, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2900.28662109375, "policy_loss": -0.03406387194991112, "vf_loss": 2900.318359375, "vf_explained_var": 0.27411720156669617, "kl": 0.010005118325352669, "entropy": 0.6293559074401855, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1260000, "episodes_total": 1258, "training_iteration": 315, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-27-53", "timestamp": 1565598473, "time_this_iter_s": 11.659778833389282, "time_total_s": 3648.6649532318115, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3648.6649532318115, "timesteps_since_restore": 1260000, "iterations_since_restore": 315, "perf": {"cpu_util_percent": 31.452941176470592, "ram_util_percent": 17.27058823529412}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1006.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513691335606304, "mean_processing_ms": 0.10252202471863693, "mean_inference_ms": 0.5849041774184011}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1253888, "num_steps_sampled": 1264000, "sample_time_ms": 4888.026, "load_time_ms": 2.248, "grad_time_ms": 6859.512, "update_time_ms": 7.492, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2493.601806640625, "policy_loss": -0.023928362876176834, "vf_loss": 2493.62353515625, "vf_explained_var": 0.3060024678707123, "kl": 0.007593563292175531, "entropy": 0.6146689653396606, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1264000, "episodes_total": 1262, "training_iteration": 316, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-28-05", "timestamp": 1565598485, "time_this_iter_s": 11.730507612228394, "time_total_s": 3660.39546084404, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3660.39546084404, "timesteps_since_restore": 1264000, "iterations_since_restore": 316, "perf": {"cpu_util_percent": 30.870588235294115, "ram_util_percent": 17.25294117647059}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1005.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5136692072753618, "mean_processing_ms": 0.10252019865527373, "mean_inference_ms": 0.584915943153125}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1257856, "num_steps_sampled": 1268000, "sample_time_ms": 4856.171, "load_time_ms": 2.235, "grad_time_ms": 6858.041, "update_time_ms": 7.542, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2557.36767578125, "policy_loss": -0.021045587956905365, "vf_loss": 2557.38623046875, "vf_explained_var": 0.2881659269332886, "kl": 0.0069782244972884655, "entropy": 0.6111592054367065, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1268000, "episodes_total": 1266, "training_iteration": 317, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-28-17", "timestamp": 1565598497, "time_this_iter_s": 11.688469886779785, "time_total_s": 3672.0839307308197, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3672.0839307308197, "timesteps_since_restore": 1268000, "iterations_since_restore": 317, "perf": {"cpu_util_percent": 30.668750000000003, "ram_util_percent": 17.299999999999997}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1004.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5136478887111182, "mean_processing_ms": 0.10251919759588195, "mean_inference_ms": 0.5849278133090948}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1261824, "num_steps_sampled": 1272000, "sample_time_ms": 4864.433, "load_time_ms": 2.316, "grad_time_ms": 6810.392, "update_time_ms": 8.261, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2067.1337890625, "policy_loss": -0.022140320390462875, "vf_loss": 2067.153076171875, "vf_explained_var": 0.2496979832649231, "kl": 0.008838438428938389, "entropy": 0.6078230142593384, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1272000, "episodes_total": 1270, "training_iteration": 318, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-28-28", "timestamp": 1565598508, "time_this_iter_s": 11.668944358825684, "time_total_s": 3683.7528750896454, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3683.7528750896454, "timesteps_since_restore": 1272000, "iterations_since_restore": 318, "perf": {"cpu_util_percent": 32.10588235294117, "ram_util_percent": 17.311764705882354}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1007.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5136276992208474, "mean_processing_ms": 0.10251842879066046, "mean_inference_ms": 0.5849435810660314}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1265792, "num_steps_sampled": 1276000, "sample_time_ms": 4867.311, "load_time_ms": 2.336, "grad_time_ms": 6826.267, "update_time_ms": 7.521, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2206.176025390625, "policy_loss": -0.023801380768418312, "vf_loss": 2206.197265625, "vf_explained_var": 0.30326351523399353, "kl": 0.008247996680438519, "entropy": 0.6003108024597168, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1276000, "episodes_total": 1274, "training_iteration": 319, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-28-40", "timestamp": 1565598520, "time_this_iter_s": 11.906538963317871, "time_total_s": 3695.6594140529633, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3695.6594140529633, "timesteps_since_restore": 1276000, "iterations_since_restore": 319, "perf": {"cpu_util_percent": 30.705882352941178, "ram_util_percent": 17.25294117647059}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1009.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513604421509695, "mean_processing_ms": 0.10251750992325372, "mean_inference_ms": 0.5849566762634223}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1269760, "num_steps_sampled": 1280000, "sample_time_ms": 4884.863, "load_time_ms": 2.442, "grad_time_ms": 6866.687, "update_time_ms": 7.581, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2482.33837890625, "policy_loss": -0.022212505340576172, "vf_loss": 2482.358642578125, "vf_explained_var": 0.2768107056617737, "kl": 0.008096981793642044, "entropy": 0.5840985178947449, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1280000, "episodes_total": 1278, "training_iteration": 320, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-28-52", "timestamp": 1565598532, "time_this_iter_s": 11.901053667068481, "time_total_s": 3707.5604677200317, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3707.5604677200317, "timesteps_since_restore": 1280000, "iterations_since_restore": 320, "perf": {"cpu_util_percent": 31.594117647058823, "ram_util_percent": 17.294117647058822}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1010.76, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513580712017355, "mean_processing_ms": 0.10251674300313696, "mean_inference_ms": 0.5849687633830389}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1273728, "num_steps_sampled": 1284000, "sample_time_ms": 4853.393, "load_time_ms": 2.623, "grad_time_ms": 6813.833, "update_time_ms": 7.198, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2415.92041015625, "policy_loss": -0.02350424975156784, "vf_loss": 2415.941162109375, "vf_explained_var": 0.29229825735092163, "kl": 0.008708351291716099, "entropy": 0.5749635100364685, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1284000, "episodes_total": 1282, "training_iteration": 321, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-29-03", "timestamp": 1565598543, "time_this_iter_s": 11.159214973449707, "time_total_s": 3718.7196826934814, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3718.7196826934814, "timesteps_since_restore": 1284000, "iterations_since_restore": 321, "perf": {"cpu_util_percent": 31.46875, "ram_util_percent": 17.26875}}
{"episode_reward_max": -650.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1012.46, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5135595102717107, "mean_processing_ms": 0.1025164941222992, "mean_inference_ms": 0.5849832590473555}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1277696, "num_steps_sampled": 1288000, "sample_time_ms": 4828.757, "load_time_ms": 2.586, "grad_time_ms": 6828.654, "update_time_ms": 8.721, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2334.791748046875, "policy_loss": -0.02182520367205143, "vf_loss": 2334.811279296875, "vf_explained_var": 0.2903171479701996, "kl": 0.007230936549603939, "entropy": 0.5820232629776001, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1288000, "episodes_total": 1286, "training_iteration": 322, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-29-15", "timestamp": 1565598555, "time_this_iter_s": 11.778732299804688, "time_total_s": 3730.498414993286, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3730.498414993286, "timesteps_since_restore": 1288000, "iterations_since_restore": 322, "perf": {"cpu_util_percent": 30.900000000000006, "ram_util_percent": 17.264705882352942}}
{"episode_reward_max": -689.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1018.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5135395466608998, "mean_processing_ms": 0.10251673500424305, "mean_inference_ms": 0.5849998359681086}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1281664, "num_steps_sampled": 1292000, "sample_time_ms": 4844.767, "load_time_ms": 2.556, "grad_time_ms": 6851.972, "update_time_ms": 10.184, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2109.524658203125, "policy_loss": -0.024853594601154327, "vf_loss": 2109.54736328125, "vf_explained_var": 0.2667244076728821, "kl": 0.008036921732127666, "entropy": 0.6028841137886047, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1292000, "episodes_total": 1290, "training_iteration": 323, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-29-27", "timestamp": 1565598567, "time_this_iter_s": 11.95632028579712, "time_total_s": 3742.4547352790833, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3742.4547352790833, "timesteps_since_restore": 1292000, "iterations_since_restore": 323, "perf": {"cpu_util_percent": 31.958823529411763, "ram_util_percent": 17.323529411764707}}
{"episode_reward_max": -689.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1020.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5135197094908113, "mean_processing_ms": 0.10251663124465128, "mean_inference_ms": 0.5850174461883509}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1285632, "num_steps_sampled": 1296000, "sample_time_ms": 4847.975, "load_time_ms": 2.565, "grad_time_ms": 6810.965, "update_time_ms": 10.157, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2471.8935546875, "policy_loss": -0.028832413256168365, "vf_loss": 2471.919921875, "vf_explained_var": 0.2689027786254883, "kl": 0.008623565547168255, "entropy": 0.5816750526428223, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1296000, "episodes_total": 1294, "training_iteration": 324, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-29-38", "timestamp": 1565598578, "time_this_iter_s": 11.374717235565186, "time_total_s": 3753.8294525146484, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3753.8294525146484, "timesteps_since_restore": 1296000, "iterations_since_restore": 324, "perf": {"cpu_util_percent": 30.875, "ram_util_percent": 17.28125}}
{"episode_reward_max": -689.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1023.77, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5134938643820527, "mean_processing_ms": 0.10251555553320851, "mean_inference_ms": 0.5850300356960476}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1289600, "num_steps_sampled": 1300000, "sample_time_ms": 4825.588, "load_time_ms": 2.508, "grad_time_ms": 6792.797, "update_time_ms": 10.024, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2746.897216796875, "policy_loss": -0.028200583532452583, "vf_loss": 2746.923095703125, "vf_explained_var": 0.25465425848960876, "kl": 0.008269337005913258, "entropy": 0.5637336373329163, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1300000, "episodes_total": 1298, "training_iteration": 325, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-29-50", "timestamp": 1565598590, "time_this_iter_s": 11.251841306686401, "time_total_s": 3765.081293821335, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3765.081293821335, "timesteps_since_restore": 1300000, "iterations_since_restore": 325, "perf": {"cpu_util_percent": 31.36875, "ram_util_percent": 17.33125}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1020.95, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5134685569666415, "mean_processing_ms": 0.10251393501601064, "mean_inference_ms": 0.5850419216288103}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1293568, "num_steps_sampled": 1304000, "sample_time_ms": 4828.622, "load_time_ms": 2.378, "grad_time_ms": 6795.799, "update_time_ms": 9.849, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2218.33251953125, "policy_loss": -0.020572340115904808, "vf_loss": 2218.351318359375, "vf_explained_var": 0.26241928339004517, "kl": 0.006128945853561163, "entropy": 0.5639759302139282, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1304000, "episodes_total": 1302, "training_iteration": 326, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-01", "timestamp": 1565598601, "time_this_iter_s": 11.784205913543701, "time_total_s": 3776.8654997348785, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3776.8654997348785, "timesteps_since_restore": 1304000, "iterations_since_restore": 326, "perf": {"cpu_util_percent": 31.91764705882353, "ram_util_percent": 17.35882352941176}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1019.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5134437628405562, "mean_processing_ms": 0.10251302500343859, "mean_inference_ms": 0.5850529834181353}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1297536, "num_steps_sampled": 1308000, "sample_time_ms": 4825.232, "load_time_ms": 2.433, "grad_time_ms": 6763.779, "update_time_ms": 9.736, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2148.401123046875, "policy_loss": -0.02668575569987297, "vf_loss": 2148.42431640625, "vf_explained_var": 0.22098012268543243, "kl": 0.011362981051206589, "entropy": 0.5718204379081726, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1308000, "episodes_total": 1306, "training_iteration": 327, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-13", "timestamp": 1565598613, "time_this_iter_s": 11.332586288452148, "time_total_s": 3788.1980860233307, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3788.1980860233307, "timesteps_since_restore": 1308000, "iterations_since_restore": 327, "perf": {"cpu_util_percent": 31.337500000000002, "ram_util_percent": 17.34375}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1022.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5134105264893524, "mean_processing_ms": 0.1025108432197033, "mean_inference_ms": 0.5850550679255566}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1301504, "num_steps_sampled": 1312000, "sample_time_ms": 4763.93, "load_time_ms": 2.33, "grad_time_ms": 6801.411, "update_time_ms": 9.124, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2329.266845703125, "policy_loss": -0.020164014771580696, "vf_loss": 2329.28466796875, "vf_explained_var": 0.2552380859851837, "kl": 0.006950506940484047, "entropy": 0.6010063886642456, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1312000, "episodes_total": 1310, "training_iteration": 328, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-24", "timestamp": 1565598624, "time_this_iter_s": 11.418838024139404, "time_total_s": 3799.61692404747, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3799.61692404747, "timesteps_since_restore": 1312000, "iterations_since_restore": 328, "perf": {"cpu_util_percent": 32.54375, "ram_util_percent": 17.30625}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1015.61, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5133775504454049, "mean_processing_ms": 0.10250884430791789, "mean_inference_ms": 0.5850574460546816}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1305472, "num_steps_sampled": 1316000, "sample_time_ms": 4771.224, "load_time_ms": 2.327, "grad_time_ms": 6788.285, "update_time_ms": 10.857, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2549.70068359375, "policy_loss": -0.02273392863571644, "vf_loss": 2549.72021484375, "vf_explained_var": 0.2781873345375061, "kl": 0.009898323565721512, "entropy": 0.5765315890312195, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1316000, "episodes_total": 1314, "training_iteration": 329, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-36", "timestamp": 1565598636, "time_this_iter_s": 11.86858320236206, "time_total_s": 3811.485507249832, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3811.485507249832, "timesteps_since_restore": 1316000, "iterations_since_restore": 329, "perf": {"cpu_util_percent": 31.476470588235294, "ram_util_percent": 17.36470588235294}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1025.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5133482913504718, "mean_processing_ms": 0.10250713829545337, "mean_inference_ms": 0.5850621619032716}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1309440, "num_steps_sampled": 1320000, "sample_time_ms": 4770.028, "load_time_ms": 2.335, "grad_time_ms": 6753.034, "update_time_ms": 10.87, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4416.38525390625, "policy_loss": -0.029556062072515488, "vf_loss": 4416.412109375, "vf_explained_var": 0.3170323967933655, "kl": 0.007811916526407003, "entropy": 0.6047561764717102, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1320000, "episodes_total": 1318, "training_iteration": 330, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-48", "timestamp": 1565598648, "time_this_iter_s": 11.538984298706055, "time_total_s": 3823.024491548538, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3823.024491548538, "timesteps_since_restore": 1320000, "iterations_since_restore": 330, "perf": {"cpu_util_percent": 30.288235294117644, "ram_util_percent": 17.323529411764707}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1019.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5133180528799518, "mean_processing_ms": 0.10250509547190148, "mean_inference_ms": 0.5850671688035531}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1313408, "num_steps_sampled": 1324000, "sample_time_ms": 4794.971, "load_time_ms": 2.281, "grad_time_ms": 6792.026, "update_time_ms": 10.988, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2187.585693359375, "policy_loss": -0.018718479201197624, "vf_loss": 2187.601806640625, "vf_explained_var": 0.21204479038715363, "kl": 0.007676316890865564, "entropy": 0.5665334463119507, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1324000, "episodes_total": 1322, "training_iteration": 331, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-30-59", "timestamp": 1565598659, "time_this_iter_s": 11.79920506477356, "time_total_s": 3834.8236966133118, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3834.8236966133118, "timesteps_since_restore": 1324000, "iterations_since_restore": 331, "perf": {"cpu_util_percent": 31.9, "ram_util_percent": 17.33529411764706}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1014.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513285299459904, "mean_processing_ms": 0.10250189072178215, "mean_inference_ms": 0.585068386519748}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1317376, "num_steps_sampled": 1328000, "sample_time_ms": 4814.179, "load_time_ms": 2.405, "grad_time_ms": 6774.433, "update_time_ms": 9.291, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2800.515869140625, "policy_loss": -0.02053029276430607, "vf_loss": 2800.533935546875, "vf_explained_var": 0.24083001911640167, "kl": 0.007380899973213673, "entropy": 0.559966504573822, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1328000, "episodes_total": 1326, "training_iteration": 332, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-31-11", "timestamp": 1565598671, "time_this_iter_s": 11.777191162109375, "time_total_s": 3846.600887775421, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3846.600887775421, "timesteps_since_restore": 1328000, "iterations_since_restore": 332, "perf": {"cpu_util_percent": 31.658823529411766, "ram_util_percent": 17.370588235294118}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1026.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5132515290210476, "mean_processing_ms": 0.10249805786075289, "mean_inference_ms": 0.5850693805100932}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1321344, "num_steps_sampled": 1332000, "sample_time_ms": 4794.578, "load_time_ms": 2.42, "grad_time_ms": 6753.991, "update_time_ms": 7.938, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3831.4697265625, "policy_loss": -0.033454228192567825, "vf_loss": 3831.500732421875, "vf_explained_var": 0.3157109320163727, "kl": 0.008841500617563725, "entropy": 0.5732824802398682, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1332000, "episodes_total": 1330, "training_iteration": 333, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-31-23", "timestamp": 1565598683, "time_this_iter_s": 11.539453506469727, "time_total_s": 3858.140341281891, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3858.140341281891, "timesteps_since_restore": 1332000, "iterations_since_restore": 333, "perf": {"cpu_util_percent": 31.28125, "ram_util_percent": 17.362499999999997}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1020.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5132173463264814, "mean_processing_ms": 0.10249442426449719, "mean_inference_ms": 0.5850677119734747}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1325312, "num_steps_sampled": 1336000, "sample_time_ms": 4786.525, "load_time_ms": 2.441, "grad_time_ms": 6782.516, "update_time_ms": 7.846, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2395.8955078125, "policy_loss": -0.02231498993933201, "vf_loss": 2395.91552734375, "vf_explained_var": 0.26718926429748535, "kl": 0.007455988321453333, "entropy": 0.5497856140136719, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1336000, "episodes_total": 1334, "training_iteration": 334, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-31-34", "timestamp": 1565598694, "time_this_iter_s": 11.574334383010864, "time_total_s": 3869.7146756649017, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3869.7146756649017, "timesteps_since_restore": 1336000, "iterations_since_restore": 334, "perf": {"cpu_util_percent": 31.1875, "ram_util_percent": 17.325}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1015.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513186979150703, "mean_processing_ms": 0.102491143249415, "mean_inference_ms": 0.5850709196355759}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1329280, "num_steps_sampled": 1340000, "sample_time_ms": 4846.283, "load_time_ms": 2.491, "grad_time_ms": 6792.887, "update_time_ms": 8.034, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2828.8603515625, "policy_loss": -0.023326383903622627, "vf_loss": 2828.880859375, "vf_explained_var": 0.3007393181324005, "kl": 0.009903693571686745, "entropy": 0.5483534336090088, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1340000, "episodes_total": 1338, "training_iteration": 335, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-31-46", "timestamp": 1565598706, "time_this_iter_s": 11.956930160522461, "time_total_s": 3881.671605825424, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3881.671605825424, "timesteps_since_restore": 1340000, "iterations_since_restore": 335, "perf": {"cpu_util_percent": 31.09444444444445, "ram_util_percent": 17.33888888888889}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1012.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5131580906677895, "mean_processing_ms": 0.10248837292382515, "mean_inference_ms": 0.5850726635965974}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1333248, "num_steps_sampled": 1344000, "sample_time_ms": 4863.016, "load_time_ms": 2.515, "grad_time_ms": 6791.304, "update_time_ms": 8.242, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2131.45849609375, "policy_loss": -0.02559734508395195, "vf_loss": 2131.48193359375, "vf_explained_var": 0.21127647161483765, "kl": 0.007272250484675169, "entropy": 0.5548540949821472, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1344000, "episodes_total": 1342, "training_iteration": 336, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-31-58", "timestamp": 1565598718, "time_this_iter_s": 11.94101858139038, "time_total_s": 3893.6126244068146, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3893.6126244068146, "timesteps_since_restore": 1344000, "iterations_since_restore": 336, "perf": {"cpu_util_percent": 31.370588235294115, "ram_util_percent": 17.35294117647059}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1012.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513126646991678, "mean_processing_ms": 0.10248469917042911, "mean_inference_ms": 0.585071866991915}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1337216, "num_steps_sampled": 1348000, "sample_time_ms": 4860.532, "load_time_ms": 2.468, "grad_time_ms": 6823.953, "update_time_ms": 8.194, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2074.23193359375, "policy_loss": -0.025075586512684822, "vf_loss": 2074.2548828125, "vf_explained_var": 0.2150002121925354, "kl": 0.007073747925460339, "entropy": 0.5432993173599243, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1348000, "episodes_total": 1346, "training_iteration": 337, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-32-10", "timestamp": 1565598730, "time_this_iter_s": 11.63199496269226, "time_total_s": 3905.244619369507, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3905.244619369507, "timesteps_since_restore": 1348000, "iterations_since_restore": 337, "perf": {"cpu_util_percent": 31.168750000000003, "ram_util_percent": 17.35}}
{"episode_reward_max": -661.0, "episode_reward_min": -1555.0, "episode_reward_mean": -1016.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513093323826264, "mean_processing_ms": 0.10248051215457622, "mean_inference_ms": 0.5850688222833134}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1341184, "num_steps_sampled": 1352000, "sample_time_ms": 4895.516, "load_time_ms": 2.394, "grad_time_ms": 6790.686, "update_time_ms": 8.373, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3147.08642578125, "policy_loss": -0.028189383447170258, "vf_loss": 3147.11181640625, "vf_explained_var": 0.2740018963813782, "kl": 0.00916395615786314, "entropy": 0.5809813737869263, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1352000, "episodes_total": 1350, "training_iteration": 338, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-32-21", "timestamp": 1565598741, "time_this_iter_s": 11.438325643539429, "time_total_s": 3916.6829450130463, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3916.6829450130463, "timesteps_since_restore": 1352000, "iterations_since_restore": 338, "perf": {"cpu_util_percent": 31.96470588235294, "ram_util_percent": 17.38235294117647}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1025.54, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5130642503659311, "mean_processing_ms": 0.10247716269920519, "mean_inference_ms": 0.5850687156132226}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1345152, "num_steps_sampled": 1356000, "sample_time_ms": 4905.827, "load_time_ms": 2.381, "grad_time_ms": 6789.678, "update_time_ms": 6.602, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4331.83349609375, "policy_loss": -0.03530506789684296, "vf_loss": 4331.865234375, "vf_explained_var": 0.32580170035362244, "kl": 0.012840420007705688, "entropy": 0.6236737370491028, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1356000, "episodes_total": 1354, "training_iteration": 339, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-32-33", "timestamp": 1565598753, "time_this_iter_s": 11.944031715393066, "time_total_s": 3928.6269767284393, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3928.6269767284393, "timesteps_since_restore": 1356000, "iterations_since_restore": 339, "perf": {"cpu_util_percent": 30.99411764705882, "ram_util_percent": 17.329411764705885}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1026.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5130355994400437, "mean_processing_ms": 0.10247336620913298, "mean_inference_ms": 0.5850697685898606}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1349120, "num_steps_sampled": 1360000, "sample_time_ms": 4883.124, "load_time_ms": 2.309, "grad_time_ms": 6825.334, "update_time_ms": 6.323, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2872.79443359375, "policy_loss": -0.03158728405833244, "vf_loss": 2872.822265625, "vf_explained_var": 0.298772394657135, "kl": 0.01103631965816021, "entropy": 0.5924330949783325, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1360000, "episodes_total": 1358, "training_iteration": 340, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-32-45", "timestamp": 1565598765, "time_this_iter_s": 11.665287256240845, "time_total_s": 3940.29226398468, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3940.29226398468, "timesteps_since_restore": 1360000, "iterations_since_restore": 340, "perf": {"cpu_util_percent": 31.225, "ram_util_percent": 17.331250000000004}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1023.42, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.513006444149953, "mean_processing_ms": 0.10247004376973219, "mean_inference_ms": 0.5850692091934527}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1353088, "num_steps_sampled": 1364000, "sample_time_ms": 4865.622, "load_time_ms": 2.345, "grad_time_ms": 6802.376, "update_time_ms": 6.321, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2309.349609375, "policy_loss": -0.023396948352456093, "vf_loss": 2309.370361328125, "vf_explained_var": 0.192046657204628, "kl": 0.007192571647465229, "entropy": 0.5827987194061279, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1364000, "episodes_total": 1362, "training_iteration": 341, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-32-56", "timestamp": 1565598776, "time_this_iter_s": 11.394283771514893, "time_total_s": 3951.686547756195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3951.686547756195, "timesteps_since_restore": 1364000, "iterations_since_restore": 341, "perf": {"cpu_util_percent": 31.5625, "ram_util_percent": 17.35}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1016.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.512977848557592, "mean_processing_ms": 0.10246625305034747, "mean_inference_ms": 0.5850698813801642}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1357056, "num_steps_sampled": 1368000, "sample_time_ms": 4860.411, "load_time_ms": 2.329, "grad_time_ms": 6815.11, "update_time_ms": 6.302, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1542.7083740234375, "policy_loss": -0.021644726395606995, "vf_loss": 1542.7281494140625, "vf_explained_var": 0.17965859174728394, "kl": 0.006595173850655556, "entropy": 0.553752601146698, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1368000, "episodes_total": 1366, "training_iteration": 342, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-33-08", "timestamp": 1565598788, "time_this_iter_s": 11.85927963256836, "time_total_s": 3963.5458273887634, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3963.5458273887634, "timesteps_since_restore": 1368000, "iterations_since_restore": 342, "perf": {"cpu_util_percent": 31.12941176470588, "ram_util_percent": 17.417647058823526}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1011.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5129442484613962, "mean_processing_ms": 0.10246174639055088, "mean_inference_ms": 0.5850649362459744}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1361024, "num_steps_sampled": 1372000, "sample_time_ms": 4837.457, "load_time_ms": 2.278, "grad_time_ms": 6855.232, "update_time_ms": 6.178, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1755.76171875, "policy_loss": -0.025029491633176804, "vf_loss": 1755.783935546875, "vf_explained_var": 0.33174198865890503, "kl": 0.010453915223479271, "entropy": 0.5625610947608948, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1372000, "episodes_total": 1370, "training_iteration": 343, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-33-20", "timestamp": 1565598800, "time_this_iter_s": 11.706274032592773, "time_total_s": 3975.252101421356, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3975.252101421356, "timesteps_since_restore": 1372000, "iterations_since_restore": 343, "perf": {"cpu_util_percent": 31.599999999999994, "ram_util_percent": 17.394117647058824}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1021.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5129117418555755, "mean_processing_ms": 0.10245748818651146, "mean_inference_ms": 0.5850586557352718}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1364992, "num_steps_sampled": 1376000, "sample_time_ms": 4850.133, "load_time_ms": 2.269, "grad_time_ms": 6822.726, "update_time_ms": 6.233, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2673.02099609375, "policy_loss": -0.034854400902986526, "vf_loss": 2673.052734375, "vf_explained_var": 0.37471869587898254, "kl": 0.010379557497799397, "entropy": 0.5862838625907898, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1376000, "episodes_total": 1374, "training_iteration": 344, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-33-31", "timestamp": 1565598811, "time_this_iter_s": 11.38060975074768, "time_total_s": 3986.632711172104, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3986.632711172104, "timesteps_since_restore": 1376000, "iterations_since_restore": 344, "perf": {"cpu_util_percent": 31.83125, "ram_util_percent": 17.40625}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1034.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5128783710500765, "mean_processing_ms": 0.10245258686129276, "mean_inference_ms": 0.5850508263230231}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1368960, "num_steps_sampled": 1380000, "sample_time_ms": 4828.359, "load_time_ms": 2.357, "grad_time_ms": 6818.012, "update_time_ms": 6.056, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3621.462890625, "policy_loss": -0.040119655430316925, "vf_loss": 3621.500244140625, "vf_explained_var": 0.3688010275363922, "kl": 0.009953200817108154, "entropy": 0.5845597982406616, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1380000, "episodes_total": 1378, "training_iteration": 345, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-33-43", "timestamp": 1565598823, "time_this_iter_s": 11.690380811691284, "time_total_s": 3998.323091983795, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 3998.323091983795, "timesteps_since_restore": 1380000, "iterations_since_restore": 345, "perf": {"cpu_util_percent": 30.664705882352937, "ram_util_percent": 17.358823529411765}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1036.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5128524503792482, "mean_processing_ms": 0.10244932093370424, "mean_inference_ms": 0.5850492414888293}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1372928, "num_steps_sampled": 1384000, "sample_time_ms": 4846.018, "load_time_ms": 2.425, "grad_time_ms": 6807.489, "update_time_ms": 6.314, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1922.8385009765625, "policy_loss": -0.024881210178136826, "vf_loss": 1922.86083984375, "vf_explained_var": 0.29174014925956726, "kl": 0.008359774015843868, "entropy": 0.5636115074157715, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1384000, "episodes_total": 1382, "training_iteration": 346, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-33-55", "timestamp": 1565598835, "time_this_iter_s": 12.01037859916687, "time_total_s": 4010.333470582962, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4010.333470582962, "timesteps_since_restore": 1384000, "iterations_since_restore": 346, "perf": {"cpu_util_percent": 32.87058823529412, "ram_util_percent": 17.394117647058827}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1031.87, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5128304796265932, "mean_processing_ms": 0.10244721626726072, "mean_inference_ms": 0.5850519455069905}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1376896, "num_steps_sampled": 1388000, "sample_time_ms": 4873.041, "load_time_ms": 2.754, "grad_time_ms": 6823.365, "update_time_ms": 6.445, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1500.3651123046875, "policy_loss": -0.030085764825344086, "vf_loss": 1500.3927001953125, "vf_explained_var": 0.36473938822746277, "kl": 0.00876042153686285, "entropy": 0.5405400395393372, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1388000, "episodes_total": 1386, "training_iteration": 347, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-34-07", "timestamp": 1565598847, "time_this_iter_s": 12.067293643951416, "time_total_s": 4022.4007642269135, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4022.4007642269135, "timesteps_since_restore": 1388000, "iterations_since_restore": 347, "perf": {"cpu_util_percent": 30.105882352941176, "ram_util_percent": 17.41764705882353}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1033.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5128035447318534, "mean_processing_ms": 0.10244372258066274, "mean_inference_ms": 0.585049242406502}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1380864, "num_steps_sampled": 1392000, "sample_time_ms": 4865.023, "load_time_ms": 2.87, "grad_time_ms": 6856.182, "update_time_ms": 6.38, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1687.4493408203125, "policy_loss": -0.029983654618263245, "vf_loss": 1687.4769287109375, "vf_explained_var": 0.4115075469017029, "kl": 0.008028300479054451, "entropy": 0.5413740873336792, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1392000, "episodes_total": 1390, "training_iteration": 348, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-34-19", "timestamp": 1565598859, "time_this_iter_s": 11.687267541885376, "time_total_s": 4034.088031768799, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4034.088031768799, "timesteps_since_restore": 1392000, "iterations_since_restore": 348, "perf": {"cpu_util_percent": 31.25882352941177, "ram_util_percent": 17.394117647058824}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1027.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127828986443752, "mean_processing_ms": 0.10244197322849971, "mean_inference_ms": 0.5850532988402284}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1384832, "num_steps_sampled": 1396000, "sample_time_ms": 4893.106, "load_time_ms": 2.86, "grad_time_ms": 6807.845, "update_time_ms": 6.428, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1677.5706787109375, "policy_loss": -0.023483574390411377, "vf_loss": 1677.592041015625, "vf_explained_var": 0.2917211949825287, "kl": 0.007361005991697311, "entropy": 0.5267725586891174, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1396000, "episodes_total": 1394, "training_iteration": 349, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-34-31", "timestamp": 1565598871, "time_this_iter_s": 11.741387367248535, "time_total_s": 4045.8294191360474, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4045.8294191360474, "timesteps_since_restore": 1396000, "iterations_since_restore": 349, "perf": {"cpu_util_percent": 31.952941176470585, "ram_util_percent": 17.458823529411763}}
{"episode_reward_max": -661.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1029.12, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127654076840676, "mean_processing_ms": 0.10244066080370785, "mean_inference_ms": 0.5850613530704436}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1388800, "num_steps_sampled": 1400000, "sample_time_ms": 4892.218, "load_time_ms": 2.889, "grad_time_ms": 6814.783, "update_time_ms": 6.69, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2001.6292724609375, "policy_loss": -0.03967917710542679, "vf_loss": 2001.6658935546875, "vf_explained_var": 0.44415000081062317, "kl": 0.010464778169989586, "entropy": 0.5323315858840942, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1400000, "episodes_total": 1398, "training_iteration": 350, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-34-43", "timestamp": 1565598883, "time_this_iter_s": 11.730723142623901, "time_total_s": 4057.5601422786713, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4057.5601422786713, "timesteps_since_restore": 1400000, "iterations_since_restore": 350, "perf": {"cpu_util_percent": 30.788235294117644, "ram_util_percent": 17.42941176470588}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1037.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127481946957033, "mean_processing_ms": 0.10243985742796913, "mean_inference_ms": 0.5850718540498443}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1392768, "num_steps_sampled": 1404000, "sample_time_ms": 4913.244, "load_time_ms": 2.838, "grad_time_ms": 6844.24, "update_time_ms": 6.797, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1977.1182861328125, "policy_loss": -0.0341600738465786, "vf_loss": 1977.149658203125, "vf_explained_var": 0.46132758259773254, "kl": 0.009558136574923992, "entropy": 0.5642417073249817, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1404000, "episodes_total": 1402, "training_iteration": 351, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-34-54", "timestamp": 1565598894, "time_this_iter_s": 11.90147352218628, "time_total_s": 4069.4616158008575, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4069.4616158008575, "timesteps_since_restore": 1404000, "iterations_since_restore": 351, "perf": {"cpu_util_percent": 31.488235294117644, "ram_util_percent": 17.46470588235294}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1041.35, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127331331986414, "mean_processing_ms": 0.10243835194067502, "mean_inference_ms": 0.5850851980280334}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1396736, "num_steps_sampled": 1408000, "sample_time_ms": 4920.782, "load_time_ms": 2.84, "grad_time_ms": 6798.383, "update_time_ms": 7.18, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1648.376220703125, "policy_loss": -0.03395065292716026, "vf_loss": 1648.4073486328125, "vf_explained_var": 0.4342365860939026, "kl": 0.008962368592619896, "entropy": 0.5251959562301636, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1408000, "episodes_total": 1406, "training_iteration": 352, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-35-06", "timestamp": 1565598906, "time_this_iter_s": 11.474691152572632, "time_total_s": 4080.93630695343, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4080.93630695343, "timesteps_since_restore": 1408000, "iterations_since_restore": 352, "perf": {"cpu_util_percent": 30.73125, "ram_util_percent": 17.443749999999998}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1044.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127226713358701, "mean_processing_ms": 0.10243753915356858, "mean_inference_ms": 0.585103298178769}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1400704, "num_steps_sampled": 1412000, "sample_time_ms": 4928.793, "load_time_ms": 2.903, "grad_time_ms": 6804.569, "update_time_ms": 8.93, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1870.242919921875, "policy_loss": -0.026475591585040092, "vf_loss": 1870.2666015625, "vf_explained_var": 0.4061857759952545, "kl": 0.008868142031133175, "entropy": 0.5171703100204468, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1412000, "episodes_total": 1410, "training_iteration": 353, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-35-18", "timestamp": 1565598918, "time_this_iter_s": 11.867436408996582, "time_total_s": 4092.8037433624268, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4092.8037433624268, "timesteps_since_restore": 1412000, "iterations_since_restore": 353, "perf": {"cpu_util_percent": 30.799999999999994, "ram_util_percent": 17.470588235294116}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1054.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127155533227655, "mean_processing_ms": 0.10243817263170349, "mean_inference_ms": 0.5851234949524465}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1404672, "num_steps_sampled": 1416000, "sample_time_ms": 4961.34, "load_time_ms": 3.012, "grad_time_ms": 6841.32, "update_time_ms": 8.965, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1889.861572265625, "policy_loss": -0.03511453792452812, "vf_loss": 1889.8936767578125, "vf_explained_var": 0.4571619927883148, "kl": 0.009354093112051487, "entropy": 0.5300008058547974, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1416000, "episodes_total": 1414, "training_iteration": 354, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-35-30", "timestamp": 1565598930, "time_this_iter_s": 12.075196027755737, "time_total_s": 4104.8789393901825, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4104.8789393901825, "timesteps_since_restore": 1416000, "iterations_since_restore": 354, "perf": {"cpu_util_percent": 31.376470588235293, "ram_util_percent": 17.50588235294118}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1050.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5127058654625918, "mean_processing_ms": 0.1024384472427451, "mean_inference_ms": 0.5851419024886292}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1408640, "num_steps_sampled": 1420000, "sample_time_ms": 4954.161, "load_time_ms": 2.901, "grad_time_ms": 6799.156, "update_time_ms": 8.964, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2735.342529296875, "policy_loss": -0.04349929839372635, "vf_loss": 2735.383056640625, "vf_explained_var": 0.43281885981559753, "kl": 0.008620237000286579, "entropy": 0.5225121974945068, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1420000, "episodes_total": 1418, "training_iteration": 355, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-35-41", "timestamp": 1565598941, "time_this_iter_s": 11.201162338256836, "time_total_s": 4116.080101728439, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4116.080101728439, "timesteps_since_restore": 1420000, "iterations_since_restore": 355, "perf": {"cpu_util_percent": 30.50625, "ram_util_percent": 17.5625}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1055.66, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126895154116367, "mean_processing_ms": 0.10243744104446513, "mean_inference_ms": 0.5851532137389005}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1412608, "num_steps_sampled": 1424000, "sample_time_ms": 4874.083, "load_time_ms": 2.947, "grad_time_ms": 6804.159, "update_time_ms": 8.726, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1803.2733154296875, "policy_loss": -0.031143439933657646, "vf_loss": 1803.30224609375, "vf_explained_var": 0.3855539858341217, "kl": 0.007635399233549833, "entropy": 0.5002083778381348, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1424000, "episodes_total": 1422, "training_iteration": 356, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-35-52", "timestamp": 1565598952, "time_this_iter_s": 11.259390354156494, "time_total_s": 4127.339492082596, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4127.339492082596, "timesteps_since_restore": 1424000, "iterations_since_restore": 356, "perf": {"cpu_util_percent": 32.61875, "ram_util_percent": 17.53125}}
{"episode_reward_max": -704.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1058.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126761756749696, "mean_processing_ms": 0.10243706118175383, "mean_inference_ms": 0.5851655542793539}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1416576, "num_steps_sampled": 1428000, "sample_time_ms": 4879.027, "load_time_ms": 2.641, "grad_time_ms": 6790.735, "update_time_ms": 10.413, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2176.7548828125, "policy_loss": -0.03206588327884674, "vf_loss": 2176.7841796875, "vf_explained_var": 0.4072267413139343, "kl": 0.009127558209002018, "entropy": 0.5168586373329163, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1428000, "episodes_total": 1426, "training_iteration": 357, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-36-04", "timestamp": 1565598964, "time_this_iter_s": 11.991018295288086, "time_total_s": 4139.330510377884, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4139.330510377884, "timesteps_since_restore": 1428000, "iterations_since_restore": 357, "perf": {"cpu_util_percent": 30.96470588235294, "ram_util_percent": 17.517647058823528}}
{"episode_reward_max": -613.0, "episode_reward_min": -1786.0, "episode_reward_mean": -1050.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126587233210723, "mean_processing_ms": 0.10243610944022635, "mean_inference_ms": 0.5851742243004141}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1420544, "num_steps_sampled": 1432000, "sample_time_ms": 4869.67, "load_time_ms": 2.571, "grad_time_ms": 6752.293, "update_time_ms": 10.418, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2005.04296875, "policy_loss": -0.03161691501736641, "vf_loss": 2005.0728759765625, "vf_explained_var": 0.2897646725177765, "kl": 0.007076621055603027, "entropy": 0.4686264097690582, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1432000, "episodes_total": 1430, "training_iteration": 358, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-36-16", "timestamp": 1565598976, "time_this_iter_s": 11.208964586257935, "time_total_s": 4150.539474964142, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4150.539474964142, "timesteps_since_restore": 1432000, "iterations_since_restore": 358, "perf": {"cpu_util_percent": 31.137500000000003, "ram_util_percent": 17.543750000000003}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1158.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126497038508155, "mean_processing_ms": 0.10243687740010131, "mean_inference_ms": 0.5851913969465723}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1424512, "num_steps_sampled": 1436000, "sample_time_ms": 4876.544, "load_time_ms": 2.585, "grad_time_ms": 6800.202, "update_time_ms": 11.341, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 261199.453125, "policy_loss": -0.05439378321170807, "vf_loss": 261199.515625, "vf_explained_var": 0.1114109680056572, "kl": 0.018340865150094032, "entropy": 0.5639349222183228, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1436000, "episodes_total": 1434, "training_iteration": 359, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-36-28", "timestamp": 1565598988, "time_this_iter_s": 12.297582387924194, "time_total_s": 4162.837057352066, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4162.837057352066, "timesteps_since_restore": 1436000, "iterations_since_restore": 359, "perf": {"cpu_util_percent": 31.949999999999996, "ram_util_percent": 17.53888888888889}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1164.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126364258700387, "mean_processing_ms": 0.10243747401463572, "mean_inference_ms": 0.5852040880153213}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1428480, "num_steps_sampled": 1440000, "sample_time_ms": 4882.746, "load_time_ms": 2.466, "grad_time_ms": 6783.074, "update_time_ms": 11.347, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2550.7470703125, "policy_loss": -0.031577542424201965, "vf_loss": 2550.775634765625, "vf_explained_var": 0.25480642914772034, "kl": 0.010138002224266529, "entropy": 0.50201416015625, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1440000, "episodes_total": 1438, "training_iteration": 360, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-36-40", "timestamp": 1565599000, "time_this_iter_s": 11.620225429534912, "time_total_s": 4174.457282781601, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4174.457282781601, "timesteps_since_restore": 1440000, "iterations_since_restore": 360, "perf": {"cpu_util_percent": 30.724999999999998, "ram_util_percent": 17.54375}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1175.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5126173002209334, "mean_processing_ms": 0.10243651330421517, "mean_inference_ms": 0.5852122770038679}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1432448, "num_steps_sampled": 1444000, "sample_time_ms": 4845.928, "load_time_ms": 2.49, "grad_time_ms": 6776.854, "update_time_ms": 11.589, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3052.32275390625, "policy_loss": -0.03235967829823494, "vf_loss": 3052.3525390625, "vf_explained_var": 0.251010537147522, "kl": 0.007978829555213451, "entropy": 0.5241084694862366, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1444000, "episodes_total": 1442, "training_iteration": 361, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-36-51", "timestamp": 1565599011, "time_this_iter_s": 11.473546981811523, "time_total_s": 4185.9308297634125, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4185.9308297634125, "timesteps_since_restore": 1444000, "iterations_since_restore": 361, "perf": {"cpu_util_percent": 31.017647058823528, "ram_util_percent": 17.541176470588233}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1179.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5125986519519008, "mean_processing_ms": 0.10243588327928445, "mean_inference_ms": 0.5852201202544987}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1436416, "num_steps_sampled": 1448000, "sample_time_ms": 4830.148, "load_time_ms": 2.503, "grad_time_ms": 6814.191, "update_time_ms": 11.402, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2467.8359375, "policy_loss": -0.0315837599337101, "vf_loss": 2467.865478515625, "vf_explained_var": 0.2964649796485901, "kl": 0.007341393735259771, "entropy": 0.48295190930366516, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1448000, "episodes_total": 1446, "training_iteration": 362, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-37-03", "timestamp": 1565599023, "time_this_iter_s": 11.69414496421814, "time_total_s": 4197.624974727631, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4197.624974727631, "timesteps_since_restore": 1448000, "iterations_since_restore": 362, "perf": {"cpu_util_percent": 31.21875, "ram_util_percent": 17.474999999999998}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1171.89, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5125793608033158, "mean_processing_ms": 0.10243521663997304, "mean_inference_ms": 0.5852254070095406}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1440384, "num_steps_sampled": 1452000, "sample_time_ms": 4820.548, "load_time_ms": 2.579, "grad_time_ms": 6774.589, "update_time_ms": 9.725, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2485.908935546875, "policy_loss": -0.024860290810465813, "vf_loss": 2485.931396484375, "vf_explained_var": 0.26300767064094543, "kl": 0.007542661391198635, "entropy": 0.5219491124153137, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1452000, "episodes_total": 1450, "training_iteration": 363, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-37-14", "timestamp": 1565599034, "time_this_iter_s": 11.359861373901367, "time_total_s": 4208.984836101532, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4208.984836101532, "timesteps_since_restore": 1452000, "iterations_since_restore": 363, "perf": {"cpu_util_percent": 31.27058823529412, "ram_util_percent": 17.48235294117647}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1159.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.512557532666766, "mean_processing_ms": 0.1024346228637519, "mean_inference_ms": 0.5852304698469633}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1444352, "num_steps_sampled": 1456000, "sample_time_ms": 4797.028, "load_time_ms": 2.469, "grad_time_ms": 6789.35, "update_time_ms": 9.905, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3148.2763671875, "policy_loss": -0.03231273591518402, "vf_loss": 3148.306396484375, "vf_explained_var": 0.3234647512435913, "kl": 0.008402228355407715, "entropy": 0.49961408972740173, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1456000, "episodes_total": 1454, "training_iteration": 364, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-37-26", "timestamp": 1565599046, "time_this_iter_s": 11.98346471786499, "time_total_s": 4220.968300819397, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4220.968300819397, "timesteps_since_restore": 1456000, "iterations_since_restore": 364, "perf": {"cpu_util_percent": 31.635294117647057, "ram_util_percent": 17.47647058823529}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1151.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.512540827414499, "mean_processing_ms": 0.10243510670385851, "mean_inference_ms": 0.5852388566490545}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1448320, "num_steps_sampled": 1460000, "sample_time_ms": 4824.378, "load_time_ms": 2.512, "grad_time_ms": 6835.216, "update_time_ms": 10.181, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2068.834716796875, "policy_loss": -0.02641674131155014, "vf_loss": 2068.8583984375, "vf_explained_var": 0.22714081406593323, "kl": 0.00832811463624239, "entropy": 0.5188997387886047, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1460000, "episodes_total": 1458, "training_iteration": 365, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-37-38", "timestamp": 1565599058, "time_this_iter_s": 11.93706750869751, "time_total_s": 4232.9053683280945, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4232.9053683280945, "timesteps_since_restore": 1460000, "iterations_since_restore": 365, "perf": {"cpu_util_percent": 31.558823529411764, "ram_util_percent": 17.470588235294116}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1158.54, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5125284579518283, "mean_processing_ms": 0.1024357052872454, "mean_inference_ms": 0.5852508594824735}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1452288, "num_steps_sampled": 1464000, "sample_time_ms": 4888.9, "load_time_ms": 2.484, "grad_time_ms": 6786.853, "update_time_ms": 10.162, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3174.787353515625, "policy_loss": -0.029176071286201477, "vf_loss": 3174.813232421875, "vf_explained_var": 0.32423144578933716, "kl": 0.008678910322487354, "entropy": 0.5258939266204834, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1464000, "episodes_total": 1462, "training_iteration": 366, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-37-50", "timestamp": 1565599070, "time_this_iter_s": 11.418786525726318, "time_total_s": 4244.324154853821, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4244.324154853821, "timesteps_since_restore": 1464000, "iterations_since_restore": 366, "perf": {"cpu_util_percent": 30.724999999999998, "ram_util_percent": 17.46875}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1168.41, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5125179649113961, "mean_processing_ms": 0.1024371993566398, "mean_inference_ms": 0.5852628936399538}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1456256, "num_steps_sampled": 1468000, "sample_time_ms": 4876.735, "load_time_ms": 2.374, "grad_time_ms": 6778.149, "update_time_ms": 8.175, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3702.22802734375, "policy_loss": -0.0391109362244606, "vf_loss": 3702.263427734375, "vf_explained_var": 0.34294116497039795, "kl": 0.011233070865273476, "entropy": 0.5357860922813416, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1468000, "episodes_total": 1466, "training_iteration": 367, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-38-01", "timestamp": 1565599081, "time_this_iter_s": 11.760887622833252, "time_total_s": 4256.085042476654, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4256.085042476654, "timesteps_since_restore": 1468000, "iterations_since_restore": 367, "perf": {"cpu_util_percent": 31.99411764705882, "ram_util_percent": 17.470588235294116}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1179.28, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5125075743498226, "mean_processing_ms": 0.1024390130946148, "mean_inference_ms": 0.5852758518175301}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1460224, "num_steps_sampled": 1472000, "sample_time_ms": 4886.302, "load_time_ms": 2.437, "grad_time_ms": 6808.941, "update_time_ms": 8.419, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2943.3740234375, "policy_loss": -0.031190859153866768, "vf_loss": 2943.40283203125, "vf_explained_var": 0.2531265318393707, "kl": 0.008318949490785599, "entropy": 0.54339200258255, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1472000, "episodes_total": 1470, "training_iteration": 368, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-38-13", "timestamp": 1565599093, "time_this_iter_s": 11.615920782089233, "time_total_s": 4267.700963258743, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4267.700963258743, "timesteps_since_restore": 1472000, "iterations_since_restore": 368, "perf": {"cpu_util_percent": 31.14375, "ram_util_percent": 17.4625}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1173.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5124974038276491, "mean_processing_ms": 0.10244089447503786, "mean_inference_ms": 0.5852908742434927}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1464192, "num_steps_sampled": 1476000, "sample_time_ms": 4841.262, "load_time_ms": 2.447, "grad_time_ms": 6762.67, "update_time_ms": 7.525, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3030.27490234375, "policy_loss": -0.028316956013441086, "vf_loss": 3030.301513671875, "vf_explained_var": 0.2478373646736145, "kl": 0.007531237322837114, "entropy": 0.5344184041023254, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1476000, "episodes_total": 1474, "training_iteration": 369, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-38-24", "timestamp": 1565599104, "time_this_iter_s": 11.376437902450562, "time_total_s": 4279.077401161194, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4279.077401161194, "timesteps_since_restore": 1476000, "iterations_since_restore": 369, "perf": {"cpu_util_percent": 32.11176470588235, "ram_util_percent": 17.5}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1163.58, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5124834658663459, "mean_processing_ms": 0.10244273930360209, "mean_inference_ms": 0.5853024797578031}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1468160, "num_steps_sampled": 1480000, "sample_time_ms": 4822.7, "load_time_ms": 2.608, "grad_time_ms": 6771.741, "update_time_ms": 7.371, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3214.5283203125, "policy_loss": -0.038196444511413574, "vf_loss": 3214.563720703125, "vf_explained_var": 0.35258325934410095, "kl": 0.009527708403766155, "entropy": 0.5365167260169983, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1480000, "episodes_total": 1478, "training_iteration": 370, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-38-36", "timestamp": 1565599116, "time_this_iter_s": 11.524852514266968, "time_total_s": 4290.602253675461, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4290.602253675461, "timesteps_since_restore": 1480000, "iterations_since_restore": 370, "perf": {"cpu_util_percent": 31.425, "ram_util_percent": 17.456249999999997}}
{"episode_reward_max": -613.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1167.36, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5124691882456641, "mean_processing_ms": 0.1024438660102302, "mean_inference_ms": 0.5853136144779981}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1472128, "num_steps_sampled": 1484000, "sample_time_ms": 4878.819, "load_time_ms": 2.61, "grad_time_ms": 6787.174, "update_time_ms": 7.006, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2633.0302734375, "policy_loss": -0.027044478803873062, "vf_loss": 2633.05517578125, "vf_explained_var": 0.2845289409160614, "kl": 0.006570569239556789, "entropy": 0.5382534265518188, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1484000, "episodes_total": 1482, "training_iteration": 371, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-38-48", "timestamp": 1565599128, "time_this_iter_s": 12.18476414680481, "time_total_s": 4302.787017822266, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4302.787017822266, "timesteps_since_restore": 1484000, "iterations_since_restore": 371, "perf": {"cpu_util_percent": 31.341176470588234, "ram_util_percent": 17.523529411764706}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1174.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5124517526989321, "mean_processing_ms": 0.10244396547114507, "mean_inference_ms": 0.5853187810099576}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1476096, "num_steps_sampled": 1488000, "sample_time_ms": 4867.195, "load_time_ms": 2.623, "grad_time_ms": 6786.024, "update_time_ms": 6.784, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2901.46337890625, "policy_loss": -0.03289299085736275, "vf_loss": 2901.4931640625, "vf_explained_var": 0.3065674304962158, "kl": 0.009853336960077286, "entropy": 0.5697399973869324, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1488000, "episodes_total": 1486, "training_iteration": 372, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-00", "timestamp": 1565599140, "time_this_iter_s": 11.559602499008179, "time_total_s": 4314.346620321274, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4314.346620321274, "timesteps_since_restore": 1488000, "iterations_since_restore": 372, "perf": {"cpu_util_percent": 31.152941176470584, "ram_util_percent": 17.52352941176471}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1175.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5124355052114319, "mean_processing_ms": 0.10244427788160884, "mean_inference_ms": 0.5853246742877275}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1480064, "num_steps_sampled": 1492000, "sample_time_ms": 4878.979, "load_time_ms": 2.52, "grad_time_ms": 6806.513, "update_time_ms": 6.69, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3075.306884765625, "policy_loss": -0.02788531221449375, "vf_loss": 3075.332763671875, "vf_explained_var": 0.2860766351222992, "kl": 0.0077124349772930145, "entropy": 0.5479404926300049, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1492000, "episodes_total": 1490, "training_iteration": 373, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-11", "timestamp": 1565599151, "time_this_iter_s": 11.681446075439453, "time_total_s": 4326.028066396713, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4326.028066396713, "timesteps_since_restore": 1492000, "iterations_since_restore": 373, "perf": {"cpu_util_percent": 31.95882352941177, "ram_util_percent": 17.523529411764706}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1178.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.512409416559499, "mean_processing_ms": 0.10244266890035508, "mean_inference_ms": 0.5853205725366631}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1484032, "num_steps_sampled": 1496000, "sample_time_ms": 4836.65, "load_time_ms": 2.381, "grad_time_ms": 6721.026, "update_time_ms": 7.033, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1740.8116455078125, "policy_loss": -0.026734333485364914, "vf_loss": 1740.8359375, "vf_explained_var": 0.17693519592285156, "kl": 0.008342113345861435, "entropy": 0.5491907000541687, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1496000, "episodes_total": 1494, "training_iteration": 374, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-22", "timestamp": 1565599162, "time_this_iter_s": 10.705622911453247, "time_total_s": 4336.7336893081665, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4336.7336893081665, "timesteps_since_restore": 1496000, "iterations_since_restore": 374, "perf": {"cpu_util_percent": 29.30666666666667, "ram_util_percent": 17.04}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1167.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5123848478147554, "mean_processing_ms": 0.10244204688789622, "mean_inference_ms": 0.585312461867974}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1488000, "num_steps_sampled": 1500000, "sample_time_ms": 4793.529, "load_time_ms": 2.273, "grad_time_ms": 6552.59, "update_time_ms": 6.465, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1779.39990234375, "policy_loss": -0.02448917180299759, "vf_loss": 1779.421875, "vf_explained_var": 0.30955275893211365, "kl": 0.008537979796528816, "entropy": 0.504248857498169, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1500000, "episodes_total": 1498, "training_iteration": 375, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-32", "timestamp": 1565599172, "time_this_iter_s": 9.809844017028809, "time_total_s": 4346.543533325195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4346.543533325195, "timesteps_since_restore": 1500000, "iterations_since_restore": 375, "perf": {"cpu_util_percent": 40.77142857142858, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1160.08, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5123579870064293, "mean_processing_ms": 0.10244124557302083, "mean_inference_ms": 0.585297134006546}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1491968, "num_steps_sampled": 1504000, "sample_time_ms": 4748.518, "load_time_ms": 2.165, "grad_time_ms": 6417.448, "update_time_ms": 6.354, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2653.06787109375, "policy_loss": -0.030916772782802582, "vf_loss": 2653.09619140625, "vf_explained_var": 0.2861173450946808, "kl": 0.009160655550658703, "entropy": 0.5282060503959656, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1504000, "episodes_total": 1502, "training_iteration": 376, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-42", "timestamp": 1565599182, "time_this_iter_s": 9.616758584976196, "time_total_s": 4356.1602919101715, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4356.1602919101715, "timesteps_since_restore": 1504000, "iterations_since_restore": 376, "perf": {"cpu_util_percent": 40.67142857142857, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1158.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5123299548989623, "mean_processing_ms": 0.1024412836543748, "mean_inference_ms": 0.585275362224007}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1495936, "num_steps_sampled": 1508000, "sample_time_ms": 4719.122, "load_time_ms": 2.174, "grad_time_ms": 6259.425, "update_time_ms": 6.776, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2009.0931396484375, "policy_loss": -0.026829160749912262, "vf_loss": 2009.1177978515625, "vf_explained_var": 0.26225733757019043, "kl": 0.007127687800675631, "entropy": 0.5113963484764099, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1508000, "episodes_total": 1506, "training_iteration": 377, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-39-51", "timestamp": 1565599191, "time_this_iter_s": 9.892807006835938, "time_total_s": 4366.053098917007, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4366.053098917007, "timesteps_since_restore": 1508000, "iterations_since_restore": 377, "perf": {"cpu_util_percent": 40.85, "ram_util_percent": 15.599999999999998}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1155.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5123025157597202, "mean_processing_ms": 0.10244156234668214, "mean_inference_ms": 0.58524854218909}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1499904, "num_steps_sampled": 1512000, "sample_time_ms": 4705.721, "load_time_ms": 2.022, "grad_time_ms": 6102.416, "update_time_ms": 6.36, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2481.060546875, "policy_loss": -0.03244820609688759, "vf_loss": 2481.0908203125, "vf_explained_var": 0.27182498574256897, "kl": 0.009419959038496017, "entropy": 0.5211932063102722, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1512000, "episodes_total": 1510, "training_iteration": 378, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-01", "timestamp": 1565599201, "time_this_iter_s": 9.905131816864014, "time_total_s": 4375.9582307338715, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4375.9582307338715, "timesteps_since_restore": 1512000, "iterations_since_restore": 378, "perf": {"cpu_util_percent": 40.91428571428572, "ram_util_percent": 15.614285714285712}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1157.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5122703933507565, "mean_processing_ms": 0.10244020001729204, "mean_inference_ms": 0.5852130212818747}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1503872, "num_steps_sampled": 1516000, "sample_time_ms": 4672.601, "load_time_ms": 1.986, "grad_time_ms": 5975.386, "update_time_ms": 6.292, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4606.18701171875, "policy_loss": -0.03446730226278305, "vf_loss": 4606.21923828125, "vf_explained_var": 0.34329724311828613, "kl": 0.00873019639402628, "entropy": 0.5535088777542114, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1516000, "episodes_total": 1514, "training_iteration": 379, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-11", "timestamp": 1565599211, "time_this_iter_s": 9.771013021469116, "time_total_s": 4385.729243755341, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4385.729243755341, "timesteps_since_restore": 1516000, "iterations_since_restore": 379, "perf": {"cpu_util_percent": 41.05714285714286, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1150.12, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5122410131713793, "mean_processing_ms": 0.10243963850740645, "mean_inference_ms": 0.5851762310757879}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1507840, "num_steps_sampled": 1520000, "sample_time_ms": 4699.146, "load_time_ms": 1.862, "grad_time_ms": 5817.938, "update_time_ms": 6.456, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2668.707763671875, "policy_loss": -0.029868382960557938, "vf_loss": 2668.73486328125, "vf_explained_var": 0.29465749859809875, "kl": 0.008206997998058796, "entropy": 0.5428565144538879, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1520000, "episodes_total": 1518, "training_iteration": 380, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-21", "timestamp": 1565599221, "time_this_iter_s": 10.213239908218384, "time_total_s": 4395.942483663559, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4395.942483663559, "timesteps_since_restore": 1520000, "iterations_since_restore": 380, "perf": {"cpu_util_percent": 40.957142857142856, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1170.61, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.512219289541014, "mean_processing_ms": 0.10244061818757726, "mean_inference_ms": 0.5851421222954712}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1511808, "num_steps_sampled": 1524000, "sample_time_ms": 4662.937, "load_time_ms": 1.797, "grad_time_ms": 5637.07, "update_time_ms": 6.8, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 13437.11328125, "policy_loss": -0.04333888366818428, "vf_loss": 13437.15234375, "vf_explained_var": 0.24044711887836456, "kl": 0.010046935640275478, "entropy": 0.5782116055488586, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1524000, "episodes_total": 1522, "training_iteration": 381, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-31", "timestamp": 1565599231, "time_this_iter_s": 10.015921115875244, "time_total_s": 4405.958404779434, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4405.958404779434, "timesteps_since_restore": 1524000, "iterations_since_restore": 381, "perf": {"cpu_util_percent": 41.46, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1167.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5121934700763104, "mean_processing_ms": 0.10244135854380315, "mean_inference_ms": 0.5851020151462127}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1515776, "num_steps_sampled": 1528000, "sample_time_ms": 4665.571, "load_time_ms": 1.767, "grad_time_ms": 5474.657, "update_time_ms": 6.795, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2307.900634765625, "policy_loss": -0.03225192427635193, "vf_loss": 2307.9296875, "vf_explained_var": 0.23551633954048157, "kl": 0.010388340801000595, "entropy": 0.5498209595680237, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1528000, "episodes_total": 1526, "training_iteration": 382, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-41", "timestamp": 1565599241, "time_this_iter_s": 9.959674596786499, "time_total_s": 4415.918079376221, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4415.918079376221, "timesteps_since_restore": 1528000, "iterations_since_restore": 382, "perf": {"cpu_util_percent": 40.52142857142858, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -7084.0, "episode_reward_mean": -1175.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5121675226398543, "mean_processing_ms": 0.1024424970375507, "mean_inference_ms": 0.5850579767394781}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1519744, "num_steps_sampled": 1532000, "sample_time_ms": 4631.992, "load_time_ms": 1.766, "grad_time_ms": 5306.619, "update_time_ms": 6.486, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2902.65869140625, "policy_loss": -0.025746172294020653, "vf_loss": 2902.681884765625, "vf_explained_var": 0.31506961584091187, "kl": 0.007189744617789984, "entropy": 0.5653318762779236, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1532000, "episodes_total": 1530, "training_iteration": 383, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-40-51", "timestamp": 1565599251, "time_this_iter_s": 9.6590895652771, "time_total_s": 4425.577168941498, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4425.577168941498, "timesteps_since_restore": 1532000, "iterations_since_restore": 383, "perf": {"cpu_util_percent": 41.60000000000001, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1069.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5121347598486612, "mean_processing_ms": 0.10244224919657106, "mean_inference_ms": 0.585003424502843}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1523712, "num_steps_sampled": 1536000, "sample_time_ms": 4647.508, "load_time_ms": 1.797, "grad_time_ms": 5220.917, "update_time_ms": 5.792, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2319.8935546875, "policy_loss": -0.021161330863833427, "vf_loss": 2319.912109375, "vf_explained_var": 0.24735026061534882, "kl": 0.008126471191644669, "entropy": 0.5443789958953857, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1536000, "episodes_total": 1534, "training_iteration": 384, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-01", "timestamp": 1565599261, "time_this_iter_s": 9.995372772216797, "time_total_s": 4435.572541713715, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4435.572541713715, "timesteps_since_restore": 1536000, "iterations_since_restore": 384, "perf": {"cpu_util_percent": 41.0, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1065.58, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5121066290591973, "mean_processing_ms": 0.10244282567302435, "mean_inference_ms": 0.5849478819091524}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1527680, "num_steps_sampled": 1540000, "sample_time_ms": 4676.476, "load_time_ms": 1.846, "grad_time_ms": 5235.614, "update_time_ms": 5.821, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2622.4658203125, "policy_loss": -0.030552541837096214, "vf_loss": 2622.494140625, "vf_explained_var": 0.2701849639415741, "kl": 0.00814744085073471, "entropy": 0.5581875443458557, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1540000, "episodes_total": 1538, "training_iteration": 385, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-11", "timestamp": 1565599271, "time_this_iter_s": 10.247524738311768, "time_total_s": 4445.820066452026, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4445.820066452026, "timesteps_since_restore": 1540000, "iterations_since_restore": 385, "perf": {"cpu_util_percent": 41.46, "ram_util_percent": 15.699999999999994}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1061.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5120816319236039, "mean_processing_ms": 0.10244406428954385, "mean_inference_ms": 0.5848901301270982}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1531648, "num_steps_sampled": 1544000, "sample_time_ms": 4679.55, "load_time_ms": 1.937, "grad_time_ms": 5228.216, "update_time_ms": 6.086, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2809.575927734375, "policy_loss": -0.0321156270802021, "vf_loss": 2809.6044921875, "vf_explained_var": 0.3346630334854126, "kl": 0.01011210773140192, "entropy": 0.5657232403755188, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1544000, "episodes_total": 1542, "training_iteration": 386, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-21", "timestamp": 1565599281, "time_this_iter_s": 9.577190637588501, "time_total_s": 4455.397257089615, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4455.397257089615, "timesteps_since_restore": 1544000, "iterations_since_restore": 386, "perf": {"cpu_util_percent": 40.38461538461539, "ram_util_percent": 15.715384615384611}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1055.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5120615441897577, "mean_processing_ms": 0.10244661264454401, "mean_inference_ms": 0.5848363556335051}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1535616, "num_steps_sampled": 1548000, "sample_time_ms": 4728.301, "load_time_ms": 2.014, "grad_time_ms": 5401.065, "update_time_ms": 5.739, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2136.66943359375, "policy_loss": -0.02458234690129757, "vf_loss": 2136.691650390625, "vf_explained_var": 0.13878339529037476, "kl": 0.007871586829423904, "entropy": 0.5135265588760376, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1548000, "episodes_total": 1546, "training_iteration": 387, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-33", "timestamp": 1565599293, "time_this_iter_s": 12.110374212265015, "time_total_s": 4467.50763130188, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4467.50763130188, "timesteps_since_restore": 1548000, "iterations_since_restore": 387, "perf": {"cpu_util_percent": 33.49444444444444, "ram_util_percent": 16.688888888888886}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1051.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5120448676292356, "mean_processing_ms": 0.1024492072954785, "mean_inference_ms": 0.5847874565703512}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1539584, "num_steps_sampled": 1552000, "sample_time_ms": 4767.797, "load_time_ms": 2.16, "grad_time_ms": 5558.444, "update_time_ms": 5.85, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1978.06005859375, "policy_loss": -0.025971796363592148, "vf_loss": 1978.083740234375, "vf_explained_var": 0.20139984786510468, "kl": 0.0077285789884626865, "entropy": 0.5252211689949036, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1552000, "episodes_total": 1550, "training_iteration": 388, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-45", "timestamp": 1565599305, "time_this_iter_s": 11.877036333084106, "time_total_s": 4479.384667634964, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4479.384667634964, "timesteps_since_restore": 1552000, "iterations_since_restore": 388, "perf": {"cpu_util_percent": 31.125, "ram_util_percent": 16.71875}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1046.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5120309021045799, "mean_processing_ms": 0.10245224181492932, "mean_inference_ms": 0.5847404550543351}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1543552, "num_steps_sampled": 1556000, "sample_time_ms": 4820.932, "load_time_ms": 2.073, "grad_time_ms": 5676.142, "update_time_ms": 5.828, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2201.933349609375, "policy_loss": -0.02565273456275463, "vf_loss": 2201.95654296875, "vf_explained_var": 0.30516913533210754, "kl": 0.008758188225328922, "entropy": 0.5003491640090942, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1556000, "episodes_total": 1554, "training_iteration": 389, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-41-56", "timestamp": 1565599316, "time_this_iter_s": 11.476818799972534, "time_total_s": 4490.8614864349365, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4490.8614864349365, "timesteps_since_restore": 1556000, "iterations_since_restore": 389, "perf": {"cpu_util_percent": 31.99411764705883, "ram_util_percent": 16.823529411764707}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1058.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5120149548855553, "mean_processing_ms": 0.10245463285656779, "mean_inference_ms": 0.584691957970975}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1547520, "num_steps_sampled": 1560000, "sample_time_ms": 4826.444, "load_time_ms": 2.782, "grad_time_ms": 5832.396, "update_time_ms": 5.867, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3218.18115234375, "policy_loss": -0.03207946941256523, "vf_loss": 3218.210693359375, "vf_explained_var": 0.2879233956336975, "kl": 0.008194965310394764, "entropy": 0.504254162311554, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1560000, "episodes_total": 1558, "training_iteration": 390, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-42-08", "timestamp": 1565599328, "time_this_iter_s": 11.843204498291016, "time_total_s": 4502.7046909332275, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4502.7046909332275, "timesteps_since_restore": 1560000, "iterations_since_restore": 390, "perf": {"cpu_util_percent": 31.164705882352944, "ram_util_percent": 16.788235294117644}}
{"episode_reward_max": -612.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1046.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119990285213888, "mean_processing_ms": 0.10245668376669417, "mean_inference_ms": 0.5846442620092729}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1551488, "num_steps_sampled": 1564000, "sample_time_ms": 4852.934, "load_time_ms": 2.826, "grad_time_ms": 5990.644, "update_time_ms": 5.682, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1580.2791748046875, "policy_loss": -0.018313812091946602, "vf_loss": 1580.2958984375, "vf_explained_var": 0.18861925601959229, "kl": 0.005614159628748894, "entropy": 0.4635486900806427, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1564000, "episodes_total": 1562, "training_iteration": 391, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-42-20", "timestamp": 1565599340, "time_this_iter_s": 11.866568088531494, "time_total_s": 4514.571259021759, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4514.571259021759, "timesteps_since_restore": 1564000, "iterations_since_restore": 391, "perf": {"cpu_util_percent": 31.323529411764707, "ram_util_percent": 16.835294117647063}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1033.37, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119832096512522, "mean_processing_ms": 0.10245830085326897, "mean_inference_ms": 0.5845974185684838}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1555456, "num_steps_sampled": 1568000, "sample_time_ms": 4883.244, "load_time_ms": 2.84, "grad_time_ms": 6139.629, "update_time_ms": 5.761, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2030.493408203125, "policy_loss": -0.02568303793668747, "vf_loss": 2030.516845703125, "vf_explained_var": 0.2512085437774658, "kl": 0.0070745148696005344, "entropy": 0.4632028043270111, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1568000, "episodes_total": 1566, "training_iteration": 392, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-42-32", "timestamp": 1565599352, "time_this_iter_s": 11.757052898406982, "time_total_s": 4526.328311920166, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4526.328311920166, "timesteps_since_restore": 1568000, "iterations_since_restore": 392, "perf": {"cpu_util_percent": 30.61875, "ram_util_percent": 16.84375}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1022.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119676332150941, "mean_processing_ms": 0.10245912331147287, "mean_inference_ms": 0.5845515066579631}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1559424, "num_steps_sampled": 1572000, "sample_time_ms": 4909.779, "load_time_ms": 2.849, "grad_time_ms": 6326.506, "update_time_ms": 7.959, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1468.713134765625, "policy_loss": -0.026071801781654358, "vf_loss": 1468.7364501953125, "vf_explained_var": 0.23819047212600708, "kl": 0.008989125490188599, "entropy": 0.440341055393219, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1572000, "episodes_total": 1570, "training_iteration": 393, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-42-44", "timestamp": 1565599364, "time_this_iter_s": 11.820385217666626, "time_total_s": 4538.148697137833, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4538.148697137833, "timesteps_since_restore": 1572000, "iterations_since_restore": 393, "perf": {"cpu_util_percent": 30.864705882352943, "ram_util_percent": 16.841176470588238}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1017.17, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119518549239349, "mean_processing_ms": 0.1024599396670535, "mean_inference_ms": 0.5845040822624123}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1563392, "num_steps_sampled": 1576000, "sample_time_ms": 4928.43, "load_time_ms": 2.959, "grad_time_ms": 6486.953, "update_time_ms": 8.394, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1636.013916015625, "policy_loss": -0.028483770787715912, "vf_loss": 1636.0394287109375, "vf_explained_var": 0.3822077512741089, "kl": 0.00848464760929346, "entropy": 0.47479426860809326, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1576000, "episodes_total": 1574, "training_iteration": 394, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-42-56", "timestamp": 1565599376, "time_this_iter_s": 11.79539966583252, "time_total_s": 4549.944096803665, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4549.944096803665, "timesteps_since_restore": 1576000, "iterations_since_restore": 394, "perf": {"cpu_util_percent": 32.05294117647059, "ram_util_percent": 16.911764705882348}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -1009.35, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119348864485304, "mean_processing_ms": 0.10245940371040302, "mean_inference_ms": 0.584453778355938}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1567360, "num_steps_sampled": 1580000, "sample_time_ms": 4871.159, "load_time_ms": 2.991, "grad_time_ms": 6466.936, "update_time_ms": 8.663, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1430.8548583984375, "policy_loss": -0.027416454628109932, "vf_loss": 1430.8800048828125, "vf_explained_var": 0.2841767966747284, "kl": 0.007448796648532152, "entropy": 0.4367329180240631, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1580000, "episodes_total": 1578, "training_iteration": 395, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-05", "timestamp": 1565599385, "time_this_iter_s": 9.476862668991089, "time_total_s": 4559.420959472656, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4559.420959472656, "timesteps_since_restore": 1580000, "iterations_since_restore": 395, "perf": {"cpu_util_percent": 22.542857142857144, "ram_util_percent": 9.257142857142856}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -997.99, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5119058575389485, "mean_processing_ms": 0.10245607746068426, "mean_inference_ms": 0.5843908428341734}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1571328, "num_steps_sampled": 1584000, "sample_time_ms": 4815.506, "load_time_ms": 2.867, "grad_time_ms": 6484.509, "update_time_ms": 8.557, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1171.3839111328125, "policy_loss": -0.026103278622031212, "vf_loss": 1171.407958984375, "vf_explained_var": 0.30333808064460754, "kl": 0.0067105283960700035, "entropy": 0.4162903428077698, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1584000, "episodes_total": 1582, "training_iteration": 396, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-14", "timestamp": 1565599394, "time_this_iter_s": 9.194505453109741, "time_total_s": 4568.615464925766, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4568.615464925766, "timesteps_since_restore": 1584000, "iterations_since_restore": 396, "perf": {"cpu_util_percent": 18.530769230769234, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -985.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5118675574004545, "mean_processing_ms": 0.10245082208063906, "mean_inference_ms": 0.584319549308465}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1575296, "num_steps_sampled": 1588000, "sample_time_ms": 4684.967, "load_time_ms": 2.86, "grad_time_ms": 6296.779, "update_time_ms": 8.625, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1056.2894287109375, "policy_loss": -0.025020284578204155, "vf_loss": 1056.312255859375, "vf_explained_var": 0.2942226231098175, "kl": 0.007118321489542723, "entropy": 0.4425283670425415, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1588000, "episodes_total": 1586, "training_iteration": 397, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-23", "timestamp": 1565599403, "time_this_iter_s": 8.924440145492554, "time_total_s": 4577.5399050712585, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4577.5399050712585, "timesteps_since_restore": 1588000, "iterations_since_restore": 397, "perf": {"cpu_util_percent": 19.930769230769233, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -983.56, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5118230502814108, "mean_processing_ms": 0.10244391309806229, "mean_inference_ms": 0.5842396323430816}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1579264, "num_steps_sampled": 1592000, "sample_time_ms": 4597.443, "load_time_ms": 2.727, "grad_time_ms": 6111.912, "update_time_ms": 8.559, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1368.6114501953125, "policy_loss": -0.030079897493124008, "vf_loss": 1368.6395263671875, "vf_explained_var": 0.35789620876312256, "kl": 0.007241722196340561, "entropy": 0.49766257405281067, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1592000, "episodes_total": 1590, "training_iteration": 398, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-32", "timestamp": 1565599412, "time_this_iter_s": 9.151731729507446, "time_total_s": 4586.691636800766, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4586.691636800766, "timesteps_since_restore": 1592000, "iterations_since_restore": 398, "perf": {"cpu_util_percent": 18.93846153846154, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -976.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5117768260618608, "mean_processing_ms": 0.10243598035049235, "mean_inference_ms": 0.584157995054077}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1583232, "num_steps_sampled": 1596000, "sample_time_ms": 4513.899, "load_time_ms": 2.824, "grad_time_ms": 5993.587, "update_time_ms": 8.646, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 920.8128662109375, "policy_loss": -0.02437516860663891, "vf_loss": 920.835205078125, "vf_explained_var": 0.3343260884284973, "kl": 0.0072664604522287846, "entropy": 0.47311297059059143, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1596000, "episodes_total": 1594, "training_iteration": 399, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-42", "timestamp": 1565599422, "time_this_iter_s": 9.461048364639282, "time_total_s": 4596.152685165405, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4596.152685165405, "timesteps_since_restore": 1596000, "iterations_since_restore": 399, "perf": {"cpu_util_percent": 17.75384615384615, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -982.29, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5117239899567028, "mean_processing_ms": 0.1024257533448921, "mean_inference_ms": 0.5840751857159738}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1587200, "num_steps_sampled": 1600000, "sample_time_ms": 4442.543, "load_time_ms": 2.207, "grad_time_ms": 5814.675, "update_time_ms": 8.654, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1136.9117431640625, "policy_loss": -0.03032158501446247, "vf_loss": 1136.93896484375, "vf_explained_var": 0.377996563911438, "kl": 0.01047667395323515, "entropy": 0.4832146465778351, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1600000, "episodes_total": 1598, "training_iteration": 400, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-43-51", "timestamp": 1565599431, "time_this_iter_s": 9.326804399490356, "time_total_s": 4605.479489564896, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4605.479489564896, "timesteps_since_restore": 1600000, "iterations_since_restore": 400, "perf": {"cpu_util_percent": 18.86923076923077, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -974.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5116653154609483, "mean_processing_ms": 0.10241345291761342, "mean_inference_ms": 0.5839900934917484}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1591168, "num_steps_sampled": 1604000, "sample_time_ms": 4351.312, "load_time_ms": 2.206, "grad_time_ms": 5649.188, "update_time_ms": 8.575, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 929.5430297851562, "policy_loss": -0.026757966727018356, "vf_loss": 929.5679321289062, "vf_explained_var": 0.29844868183135986, "kl": 0.0066107953898608685, "entropy": 0.4549304246902466, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1604000, "episodes_total": 1602, "training_iteration": 401, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-00", "timestamp": 1565599440, "time_this_iter_s": 9.294628143310547, "time_total_s": 4614.774117708206, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4614.774117708206, "timesteps_since_restore": 1604000, "iterations_since_restore": 401, "perf": {"cpu_util_percent": 19.457142857142856, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -974.78, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5115964637748754, "mean_processing_ms": 0.10239867577479914, "mean_inference_ms": 0.5839029367734049}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1595136, "num_steps_sampled": 1608000, "sample_time_ms": 4257.569, "load_time_ms": 2.183, "grad_time_ms": 5489.964, "update_time_ms": 8.787, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1138.5950927734375, "policy_loss": -0.029986221343278885, "vf_loss": 1138.6226806640625, "vf_explained_var": 0.3646351099014282, "kl": 0.008284046314656734, "entropy": 0.5003208518028259, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1608000, "episodes_total": 1606, "training_iteration": 402, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-10", "timestamp": 1565599450, "time_this_iter_s": 9.227735757827759, "time_total_s": 4624.001853466034, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4624.001853466034, "timesteps_since_restore": 1608000, "iterations_since_restore": 402, "perf": {"cpu_util_percent": 18.861538461538462, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -982.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5115194928424603, "mean_processing_ms": 0.10238138603645969, "mean_inference_ms": 0.5838086331049517}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1599104, "num_steps_sampled": 1612000, "sample_time_ms": 4169.569, "load_time_ms": 2.169, "grad_time_ms": 5302.294, "update_time_ms": 7.063, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1915.02978515625, "policy_loss": -0.036646343767642975, "vf_loss": 1915.0634765625, "vf_explained_var": 0.39679664373397827, "kl": 0.010247251950204372, "entropy": 0.5278593897819519, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1612000, "episodes_total": 1610, "training_iteration": 403, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-19", "timestamp": 1565599459, "time_this_iter_s": 9.043804407119751, "time_total_s": 4633.045657873154, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4633.045657873154, "timesteps_since_restore": 1612000, "iterations_since_restore": 403, "perf": {"cpu_util_percent": 19.076923076923073, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -972.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5114367418649298, "mean_processing_ms": 0.10236293491914755, "mean_inference_ms": 0.5837142172825317}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1603072, "num_steps_sampled": 1616000, "sample_time_ms": 4112.432, "load_time_ms": 2.147, "grad_time_ms": 5125.712, "update_time_ms": 7.018, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1634.548583984375, "policy_loss": -0.034063465893268585, "vf_loss": 1634.580322265625, "vf_explained_var": 0.39356517791748047, "kl": 0.008792341686785221, "entropy": 0.48542121052742004, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1616000, "episodes_total": 1614, "training_iteration": 404, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-28", "timestamp": 1565599468, "time_this_iter_s": 9.458672761917114, "time_total_s": 4642.504330635071, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4642.504330635071, "timesteps_since_restore": 1616000, "iterations_since_restore": 404, "perf": {"cpu_util_percent": 18.784615384615385, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -2765.0, "episode_reward_mean": -974.3, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5113435300837189, "mean_processing_ms": 0.10234138536827053, "mean_inference_ms": 0.5836132758969164}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1607040, "num_steps_sampled": 1620000, "sample_time_ms": 4079.389, "load_time_ms": 2.159, "grad_time_ms": 5132.135, "update_time_ms": 7.115, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2078.356689453125, "policy_loss": -0.032327860593795776, "vf_loss": 2078.38623046875, "vf_explained_var": 0.4282216429710388, "kl": 0.008916486985981464, "entropy": 0.4898774325847626, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1620000, "episodes_total": 1618, "training_iteration": 405, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-37", "timestamp": 1565599477, "time_this_iter_s": 9.212482929229736, "time_total_s": 4651.7168135643005, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4651.7168135643005, "timesteps_since_restore": 1620000, "iterations_since_restore": 405, "perf": {"cpu_util_percent": 19.007692307692306, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1475.0, "episode_reward_mean": -947.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5112413579467606, "mean_processing_ms": 0.10231708202226766, "mean_inference_ms": 0.5835065029507974}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1611008, "num_steps_sampled": 1624000, "sample_time_ms": 4079.049, "load_time_ms": 2.283, "grad_time_ms": 5133.437, "update_time_ms": 7.619, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1514.7730712890625, "policy_loss": -0.025965357199311256, "vf_loss": 1514.796630859375, "vf_explained_var": 0.3141036927700043, "kl": 0.007935305126011372, "entropy": 0.4657142162322998, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1624000, "episodes_total": 1622, "training_iteration": 406, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-47", "timestamp": 1565599487, "time_this_iter_s": 9.210418462753296, "time_total_s": 4660.927232027054, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4660.927232027054, "timesteps_since_restore": 1624000, "iterations_since_restore": 406, "perf": {"cpu_util_percent": 19.264285714285712, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1475.0, "episode_reward_mean": -947.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5111331652850889, "mean_processing_ms": 0.10229071505564495, "mean_inference_ms": 0.5833956603323348}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1614976, "num_steps_sampled": 1628000, "sample_time_ms": 4109.617, "load_time_ms": 2.317, "grad_time_ms": 5145.45, "update_time_ms": 7.641, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1439.3568115234375, "policy_loss": -0.025224892422556877, "vf_loss": 1439.379638671875, "vf_explained_var": 0.31297293305397034, "kl": 0.007695098873227835, "entropy": 0.491906076669693, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1628000, "episodes_total": 1626, "training_iteration": 407, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-44-56", "timestamp": 1565599496, "time_this_iter_s": 9.351105690002441, "time_total_s": 4670.278337717056, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4670.278337717056, "timesteps_since_restore": 1628000, "iterations_since_restore": 407, "perf": {"cpu_util_percent": 19.29230769230769, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1475.0, "episode_reward_mean": -945.99, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5110205801440453, "mean_processing_ms": 0.10226261478963124, "mean_inference_ms": 0.5832844026260314}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1618944, "num_steps_sampled": 1632000, "sample_time_ms": 4112.645, "load_time_ms": 2.435, "grad_time_ms": 5161.515, "update_time_ms": 7.714, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2224.8564453125, "policy_loss": -0.029299886897206306, "vf_loss": 2224.8828125, "vf_explained_var": 0.3381977081298828, "kl": 0.008628004230558872, "entropy": 0.4983719289302826, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1632000, "episodes_total": 1630, "training_iteration": 408, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-05", "timestamp": 1565599505, "time_this_iter_s": 9.344469547271729, "time_total_s": 4679.622807264328, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4679.622807264328, "timesteps_since_restore": 1632000, "iterations_since_restore": 408, "perf": {"cpu_util_percent": 18.292307692307695, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1475.0, "episode_reward_mean": -939.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5108995344610163, "mean_processing_ms": 0.1022322445727006, "mean_inference_ms": 0.583164791818448}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1622912, "num_steps_sampled": 1636000, "sample_time_ms": 4068.4, "load_time_ms": 2.436, "grad_time_ms": 5159.003, "update_time_ms": 7.898, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1452.2020263671875, "policy_loss": -0.025525078177452087, "vf_loss": 1452.2257080078125, "vf_explained_var": 0.32745835185050964, "kl": 0.006259972229599953, "entropy": 0.4731161296367645, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1636000, "episodes_total": 1634, "training_iteration": 409, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-14", "timestamp": 1565599514, "time_this_iter_s": 8.995191812515259, "time_total_s": 4688.617999076843, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4688.617999076843, "timesteps_since_restore": 1636000, "iterations_since_restore": 409, "perf": {"cpu_util_percent": 18.992307692307694, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -937.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5107676066038738, "mean_processing_ms": 0.10219871410833135, "mean_inference_ms": 0.5830386210121559}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1626880, "num_steps_sampled": 1640000, "sample_time_ms": 4053.582, "load_time_ms": 2.448, "grad_time_ms": 5156.049, "update_time_ms": 7.787, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2034.8260498046875, "policy_loss": -0.024192674085497856, "vf_loss": 2034.84814453125, "vf_explained_var": 0.3325696587562561, "kl": 0.0069473241455852985, "entropy": 0.5127071738243103, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1640000, "episodes_total": 1638, "training_iteration": 410, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-24", "timestamp": 1565599524, "time_this_iter_s": 9.15106987953186, "time_total_s": 4697.769068956375, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4697.769068956375, "timesteps_since_restore": 1640000, "iterations_since_restore": 410, "perf": {"cpu_util_percent": 19.846153846153847, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -933.27, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5106287567531208, "mean_processing_ms": 0.10216372928618413, "mean_inference_ms": 0.582910573385893}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1630848, "num_steps_sampled": 1644000, "sample_time_ms": 4053.648, "load_time_ms": 2.444, "grad_time_ms": 5160.124, "update_time_ms": 7.856, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1727.340087890625, "policy_loss": -0.024803401902318, "vf_loss": 1727.3626708984375, "vf_explained_var": 0.2868395447731018, "kl": 0.007204235531389713, "entropy": 0.498620867729187, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1644000, "episodes_total": 1642, "training_iteration": 411, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-33", "timestamp": 1565599533, "time_this_iter_s": 9.337125778198242, "time_total_s": 4707.106194734573, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4707.106194734573, "timesteps_since_restore": 1644000, "iterations_since_restore": 411, "perf": {"cpu_util_percent": 18.499999999999996, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -934.89, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5104796029145112, "mean_processing_ms": 0.10212523908185252, "mean_inference_ms": 0.5827729172274653}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1634816, "num_steps_sampled": 1648000, "sample_time_ms": 4065.28, "load_time_ms": 2.457, "grad_time_ms": 5165.104, "update_time_ms": 7.619, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1629.4801025390625, "policy_loss": -0.023171458393335342, "vf_loss": 1629.5008544921875, "vf_explained_var": 0.21627794206142426, "kl": 0.0074293846264481544, "entropy": 0.49189895391464233, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1648000, "episodes_total": 1646, "training_iteration": 412, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-42", "timestamp": 1565599542, "time_this_iter_s": 9.39161205291748, "time_total_s": 4716.497806787491, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4716.497806787491, "timesteps_since_restore": 1648000, "iterations_since_restore": 412, "perf": {"cpu_util_percent": 19.014285714285712, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -930.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5103191307973398, "mean_processing_ms": 0.10208479779226738, "mean_inference_ms": 0.5826229256749699}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1638784, "num_steps_sampled": 1652000, "sample_time_ms": 4070.13, "load_time_ms": 2.464, "grad_time_ms": 5162.114, "update_time_ms": 7.385, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1453.39990234375, "policy_loss": -0.02232062630355358, "vf_loss": 1453.4200439453125, "vf_explained_var": 0.2258487194776535, "kl": 0.007949881255626678, "entropy": 0.5170837640762329, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1652000, "episodes_total": 1650, "training_iteration": 413, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-45-51", "timestamp": 1565599551, "time_this_iter_s": 9.059863328933716, "time_total_s": 4725.557670116425, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4725.557670116425, "timesteps_since_restore": 1652000, "iterations_since_restore": 413, "perf": {"cpu_util_percent": 19.6, "ram_util_percent": 6.3076923076923075}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -930.51, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5101484103937955, "mean_processing_ms": 0.10204143997446298, "mean_inference_ms": 0.5824608242572283}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1642752, "num_steps_sampled": 1656000, "sample_time_ms": 4047.003, "load_time_ms": 2.468, "grad_time_ms": 5160.997, "update_time_ms": 7.18, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2068.2138671875, "policy_loss": -0.02737613208591938, "vf_loss": 2068.239013671875, "vf_explained_var": 0.26425299048423767, "kl": 0.009383788332343102, "entropy": 0.5294097065925598, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1656000, "episodes_total": 1654, "training_iteration": 414, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-01", "timestamp": 1565599561, "time_this_iter_s": 9.214618921279907, "time_total_s": 4734.7722890377045, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4734.7722890377045, "timesteps_since_restore": 1656000, "iterations_since_restore": 414, "perf": {"cpu_util_percent": 18.8, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1380.0, "episode_reward_mean": -923.92, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5099697410208508, "mean_processing_ms": 0.10199602993074866, "mean_inference_ms": 0.5822897510888503}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1646720, "num_steps_sampled": 1660000, "sample_time_ms": 4052.149, "load_time_ms": 2.469, "grad_time_ms": 5160.919, "update_time_ms": 7.408, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2368.578125, "policy_loss": -0.028683124110102654, "vf_loss": 2368.603759765625, "vf_explained_var": 0.3256422281265259, "kl": 0.009608786553144455, "entropy": 0.5562388300895691, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1660000, "episodes_total": 1658, "training_iteration": 415, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-10", "timestamp": 1565599570, "time_this_iter_s": 9.26543116569519, "time_total_s": 4744.0377202034, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4744.0377202034, "timesteps_since_restore": 1660000, "iterations_since_restore": 415, "perf": {"cpu_util_percent": 18.284615384615385, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -562.0, "episode_reward_min": -1390.0, "episode_reward_mean": -930.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.509781259302667, "mean_processing_ms": 0.10194834542722514, "mean_inference_ms": 0.5821074028869984}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1650688, "num_steps_sampled": 1664000, "sample_time_ms": 4050.976, "load_time_ms": 2.459, "grad_time_ms": 5166.281, "update_time_ms": 6.975, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1912.843017578125, "policy_loss": -0.026032062247395515, "vf_loss": 1912.8665771484375, "vf_explained_var": 0.26497238874435425, "kl": 0.008935337886214256, "entropy": 0.5264264941215515, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1664000, "episodes_total": 1662, "training_iteration": 416, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-19", "timestamp": 1565599579, "time_this_iter_s": 9.247811079025269, "time_total_s": 4753.285531282425, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4753.285531282425, "timesteps_since_restore": 1664000, "iterations_since_restore": 416, "perf": {"cpu_util_percent": 18.484615384615385, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -933.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5095863056596092, "mean_processing_ms": 0.10189920560855978, "mean_inference_ms": 0.5819187414603934}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1654656, "num_steps_sampled": 1668000, "sample_time_ms": 4070.302, "load_time_ms": 2.428, "grad_time_ms": 5170.454, "update_time_ms": 7.213, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1952.239990234375, "policy_loss": -0.024207420647144318, "vf_loss": 1952.261474609375, "vf_explained_var": 0.3241250813007355, "kl": 0.008344815112650394, "entropy": 0.5391464829444885, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1668000, "episodes_total": 1666, "training_iteration": 417, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-29", "timestamp": 1565599589, "time_this_iter_s": 9.588148832321167, "time_total_s": 4762.873680114746, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4762.873680114746, "timesteps_since_restore": 1668000, "iterations_since_restore": 417, "perf": {"cpu_util_percent": 19.37857142857143, "ram_util_percent": 6.328571428571427}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -931.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5093868828080507, "mean_processing_ms": 0.10184873064499034, "mean_inference_ms": 0.5817245423716391}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1658624, "num_steps_sampled": 1672000, "sample_time_ms": 4075.121, "load_time_ms": 2.302, "grad_time_ms": 5170.073, "update_time_ms": 7.126, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1580.7730712890625, "policy_loss": -0.021778825670480728, "vf_loss": 1580.792724609375, "vf_explained_var": 0.2267633080482483, "kl": 0.0068969507701694965, "entropy": 0.5118472576141357, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1672000, "episodes_total": 1670, "training_iteration": 418, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-38", "timestamp": 1565599598, "time_this_iter_s": 9.386690855026245, "time_total_s": 4772.260370969772, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4772.260370969772, "timesteps_since_restore": 1672000, "iterations_since_restore": 418, "perf": {"cpu_util_percent": 17.992307692307694, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -932.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5091789925950857, "mean_processing_ms": 0.10179612353319697, "mean_inference_ms": 0.5815225284725523}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1662592, "num_steps_sampled": 1676000, "sample_time_ms": 4092.746, "load_time_ms": 2.312, "grad_time_ms": 5172.675, "update_time_ms": 6.966, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2124.959228515625, "policy_loss": -0.027017954736948013, "vf_loss": 2124.98388671875, "vf_explained_var": 0.3159838616847992, "kl": 0.00833850633352995, "entropy": 0.5361008644104004, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1676000, "episodes_total": 1674, "training_iteration": 419, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-47", "timestamp": 1565599607, "time_this_iter_s": 9.196223497390747, "time_total_s": 4781.456594467163, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4781.456594467163, "timesteps_since_restore": 1676000, "iterations_since_restore": 419, "perf": {"cpu_util_percent": 19.185714285714287, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -931.42, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5089680498351288, "mean_processing_ms": 0.10174315887870591, "mean_inference_ms": 0.5813177519117485}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1666560, "num_steps_sampled": 1680000, "sample_time_ms": 4087.902, "load_time_ms": 2.331, "grad_time_ms": 5177.768, "update_time_ms": 7.007, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1747.115478515625, "policy_loss": -0.023261070251464844, "vf_loss": 1747.1363525390625, "vf_explained_var": 0.29823338985443115, "kl": 0.007797283120453358, "entropy": 0.5026938915252686, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1680000, "episodes_total": 1678, "training_iteration": 420, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-46-57", "timestamp": 1565599617, "time_this_iter_s": 9.154504537582397, "time_total_s": 4790.6110990047455, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4790.6110990047455, "timesteps_since_restore": 1680000, "iterations_since_restore": 420, "perf": {"cpu_util_percent": 19.684615384615384, "ram_util_percent": 6.323076923076922}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -939.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5087580442081407, "mean_processing_ms": 0.10169051577242477, "mean_inference_ms": 0.5811160247241274}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1670528, "num_steps_sampled": 1684000, "sample_time_ms": 4088.446, "load_time_ms": 2.332, "grad_time_ms": 5178.26, "update_time_ms": 6.945, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2527.01806640625, "policy_loss": -0.03184536099433899, "vf_loss": 2527.04736328125, "vf_explained_var": 0.3204890191555023, "kl": 0.008584799244999886, "entropy": 0.5097528100013733, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1684000, "episodes_total": 1682, "training_iteration": 421, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-06", "timestamp": 1565599626, "time_this_iter_s": 9.346591472625732, "time_total_s": 4799.957690477371, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4799.957690477371, "timesteps_since_restore": 1684000, "iterations_since_restore": 421, "perf": {"cpu_util_percent": 18.56153846153846, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -947.56, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5085518155972963, "mean_processing_ms": 0.10163869313760493, "mean_inference_ms": 0.5809190836624586}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1674496, "num_steps_sampled": 1688000, "sample_time_ms": 4085.779, "load_time_ms": 2.325, "grad_time_ms": 5178.09, "update_time_ms": 7.042, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2420.74267578125, "policy_loss": -0.02235526777803898, "vf_loss": 2420.762451171875, "vf_explained_var": 0.29715389013290405, "kl": 0.008028167299926281, "entropy": 0.5005937814712524, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1688000, "episodes_total": 1686, "training_iteration": 422, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-15", "timestamp": 1565599635, "time_this_iter_s": 9.365166187286377, "time_total_s": 4809.322856664658, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4809.322856664658, "timesteps_since_restore": 1688000, "iterations_since_restore": 422, "perf": {"cpu_util_percent": 18.092307692307692, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -943.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5083443439122974, "mean_processing_ms": 0.10158667373994862, "mean_inference_ms": 0.580723153819484}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1678464, "num_steps_sampled": 1692000, "sample_time_ms": 4096.856, "load_time_ms": 2.323, "grad_time_ms": 5166.975, "update_time_ms": 7.333, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2412.318115234375, "policy_loss": -0.028116097673773766, "vf_loss": 2412.343017578125, "vf_explained_var": 0.32791197299957275, "kl": 0.009822303429245949, "entropy": 0.47050410509109497, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1692000, "episodes_total": 1690, "training_iteration": 423, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-24", "timestamp": 1565599644, "time_this_iter_s": 9.062691926956177, "time_total_s": 4818.385548591614, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4818.385548591614, "timesteps_since_restore": 1692000, "iterations_since_restore": 423, "perf": {"cpu_util_percent": 19.846153846153843, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -949.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5081354330051725, "mean_processing_ms": 0.1015344157926113, "mean_inference_ms": 0.5805238053889538}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1682432, "num_steps_sampled": 1696000, "sample_time_ms": 4090.743, "load_time_ms": 2.319, "grad_time_ms": 5166.087, "update_time_ms": 7.353, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2301.083251953125, "policy_loss": -0.028678253293037415, "vf_loss": 2301.109130859375, "vf_explained_var": 0.255997896194458, "kl": 0.008853788487613201, "entropy": 0.4868607819080353, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1696000, "episodes_total": 1694, "training_iteration": 424, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-34", "timestamp": 1565599654, "time_this_iter_s": 9.144005298614502, "time_total_s": 4827.529553890228, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4827.529553890228, "timesteps_since_restore": 1696000, "iterations_since_restore": 424, "perf": {"cpu_util_percent": 18.815384615384616, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -631.0, "episode_reward_min": -1390.0, "episode_reward_mean": -954.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.507926008810439, "mean_processing_ms": 0.10148226152929865, "mean_inference_ms": 0.5803227538829228}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1686400, "num_steps_sampled": 1700000, "sample_time_ms": 4085.898, "load_time_ms": 2.319, "grad_time_ms": 5166.894, "update_time_ms": 7.216, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2112.085205078125, "policy_loss": -0.022815169766545296, "vf_loss": 2112.10595703125, "vf_explained_var": 0.2462896853685379, "kl": 0.007109735626727343, "entropy": 0.48979586362838745, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1700000, "episodes_total": 1698, "training_iteration": 425, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-43", "timestamp": 1565599663, "time_this_iter_s": 9.22376012802124, "time_total_s": 4836.7533140182495, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4836.7533140182495, "timesteps_since_restore": 1700000, "iterations_since_restore": 425, "perf": {"cpu_util_percent": 18.546153846153846, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -956.42, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5077186214812692, "mean_processing_ms": 0.10143065489893356, "mean_inference_ms": 0.5801234706227413}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1690368, "num_steps_sampled": 1704000, "sample_time_ms": 4105.426, "load_time_ms": 2.342, "grad_time_ms": 5149.375, "update_time_ms": 7.102, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2309.744873046875, "policy_loss": -0.02049633115530014, "vf_loss": 2309.763427734375, "vf_explained_var": 0.2906930446624756, "kl": 0.0071053532883524895, "entropy": 0.4444558322429657, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1704000, "episodes_total": 1702, "training_iteration": 426, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-47-52", "timestamp": 1565599672, "time_this_iter_s": 9.26680326461792, "time_total_s": 4846.020117282867, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4846.020117282867, "timesteps_since_restore": 1704000, "iterations_since_restore": 426, "perf": {"cpu_util_percent": 19.807142857142853, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -952.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5075137468911742, "mean_processing_ms": 0.10137921676210018, "mean_inference_ms": 0.5799223636697904}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1694336, "num_steps_sampled": 1708000, "sample_time_ms": 4069.002, "load_time_ms": 2.401, "grad_time_ms": 5146.574, "update_time_ms": 7.006, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2170.093994140625, "policy_loss": -0.020780565217137337, "vf_loss": 2170.112548828125, "vf_explained_var": 0.26572781801223755, "kl": 0.006562952417880297, "entropy": 0.43269082903862, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1708000, "episodes_total": 1706, "training_iteration": 427, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-01", "timestamp": 1565599681, "time_this_iter_s": 9.19535517692566, "time_total_s": 4855.215472459793, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4855.215472459793, "timesteps_since_restore": 1708000, "iterations_since_restore": 427, "perf": {"cpu_util_percent": 18.861538461538462, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -943.67, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5073115871901558, "mean_processing_ms": 0.10132829827045743, "mean_inference_ms": 0.5797258345984662}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1698304, "num_steps_sampled": 1712000, "sample_time_ms": 4057.602, "load_time_ms": 2.518, "grad_time_ms": 5151.694, "update_time_ms": 7.181, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2368.243408203125, "policy_loss": -0.02187701314687729, "vf_loss": 2368.262939453125, "vf_explained_var": 0.2818216383457184, "kl": 0.006904462352395058, "entropy": 0.4276217222213745, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1712000, "episodes_total": 1710, "training_iteration": 428, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-11", "timestamp": 1565599691, "time_this_iter_s": 9.326314926147461, "time_total_s": 4864.541787385941, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4864.541787385941, "timesteps_since_restore": 1712000, "iterations_since_restore": 428, "perf": {"cpu_util_percent": 18.73846153846154, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -950.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5071101107751275, "mean_processing_ms": 0.10127699005198199, "mean_inference_ms": 0.5795277596029301}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1702272, "num_steps_sampled": 1716000, "sample_time_ms": 4069.498, "load_time_ms": 2.519, "grad_time_ms": 5147.255, "update_time_ms": 7.17, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3499.44775390625, "policy_loss": -0.03445183113217354, "vf_loss": 3499.47900390625, "vf_explained_var": 0.31964367628097534, "kl": 0.010906539857387543, "entropy": 0.463860422372818, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1716000, "episodes_total": 1714, "training_iteration": 429, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-20", "timestamp": 1565599700, "time_this_iter_s": 9.270694494247437, "time_total_s": 4873.812481880188, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4873.812481880188, "timesteps_since_restore": 1716000, "iterations_since_restore": 429, "perf": {"cpu_util_percent": 18.66923076923077, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -951.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.506912408440363, "mean_processing_ms": 0.1012267295527805, "mean_inference_ms": 0.5793336087624731}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1706240, "num_steps_sampled": 1720000, "sample_time_ms": 4099.324, "load_time_ms": 2.522, "grad_time_ms": 5150.016, "update_time_ms": 7.251, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3279.701904296875, "policy_loss": -0.028656695038080215, "vf_loss": 3279.727294921875, "vf_explained_var": 0.2885638177394867, "kl": 0.009721838869154453, "entropy": 0.4525805711746216, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1720000, "episodes_total": 1718, "training_iteration": 430, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-29", "timestamp": 1565599709, "time_this_iter_s": 9.481021881103516, "time_total_s": 4883.2935037612915, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4883.2935037612915, "timesteps_since_restore": 1720000, "iterations_since_restore": 430, "perf": {"cpu_util_percent": 19.814285714285713, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -956.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5067152638886018, "mean_processing_ms": 0.1011765040213318, "mean_inference_ms": 0.5791397232165046}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1710208, "num_steps_sampled": 1724000, "sample_time_ms": 4083.846, "load_time_ms": 2.533, "grad_time_ms": 5148.643, "update_time_ms": 7.383, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2575.697265625, "policy_loss": -0.026334309950470924, "vf_loss": 2575.7216796875, "vf_explained_var": 0.26413342356681824, "kl": 0.007517946884036064, "entropy": 0.4070175588130951, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1724000, "episodes_total": 1722, "training_iteration": 431, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-39", "timestamp": 1565599719, "time_this_iter_s": 9.179572820663452, "time_total_s": 4892.473076581955, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4892.473076581955, "timesteps_since_restore": 1724000, "iterations_since_restore": 431, "perf": {"cpu_util_percent": 18.846153846153847, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -958.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5065186215867591, "mean_processing_ms": 0.10112617127918874, "mean_inference_ms": 0.5789478686398128}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1714176, "num_steps_sampled": 1728000, "sample_time_ms": 4086.924, "load_time_ms": 2.535, "grad_time_ms": 5145.971, "update_time_ms": 7.384, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2077.919921875, "policy_loss": -0.024646058678627014, "vf_loss": 2077.9423828125, "vf_explained_var": 0.218128964304924, "kl": 0.007139990571886301, "entropy": 0.39457228779792786, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1728000, "episodes_total": 1726, "training_iteration": 432, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-48", "timestamp": 1565599728, "time_this_iter_s": 9.368184804916382, "time_total_s": 4901.841261386871, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4901.841261386871, "timesteps_since_restore": 1728000, "iterations_since_restore": 432, "perf": {"cpu_util_percent": 18.53076923076923, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1390.0, "episode_reward_mean": -952.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5063247868962151, "mean_processing_ms": 0.10107688444727522, "mean_inference_ms": 0.5787574426100318}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1718144, "num_steps_sampled": 1732000, "sample_time_ms": 4114.986, "load_time_ms": 2.559, "grad_time_ms": 5160.887, "update_time_ms": 7.098, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2133.490234375, "policy_loss": -0.023826096206903458, "vf_loss": 2133.511474609375, "vf_explained_var": 0.2626749277114868, "kl": 0.008412904106080532, "entropy": 0.40891996026039124, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1732000, "episodes_total": 1730, "training_iteration": 433, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-48-58", "timestamp": 1565599738, "time_this_iter_s": 9.489994764328003, "time_total_s": 4911.331256151199, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4911.331256151199, "timesteps_since_restore": 1732000, "iterations_since_restore": 433, "perf": {"cpu_util_percent": 19.714285714285715, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1506.0, "episode_reward_mean": -959.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5061320437499911, "mean_processing_ms": 0.10102808618565234, "mean_inference_ms": 0.5785725218246515}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1722112, "num_steps_sampled": 1736000, "sample_time_ms": 4121.295, "load_time_ms": 2.557, "grad_time_ms": 5163.065, "update_time_ms": 7.208, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3276.401611328125, "policy_loss": -0.030207155272364616, "vf_loss": 3276.4296875, "vf_explained_var": 0.32256248593330383, "kl": 0.008400232531130314, "entropy": 0.4347378611564636, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1736000, "episodes_total": 1734, "training_iteration": 434, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-07", "timestamp": 1565599747, "time_this_iter_s": 9.230186462402344, "time_total_s": 4920.561442613602, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4920.561442613602, "timesteps_since_restore": 1736000, "iterations_since_restore": 434, "perf": {"cpu_util_percent": 18.80769230769231, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1506.0, "episode_reward_mean": -958.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5059395899605436, "mean_processing_ms": 0.10097953020084695, "mean_inference_ms": 0.5783896981738761}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1726080, "num_steps_sampled": 1740000, "sample_time_ms": 4126.227, "load_time_ms": 2.549, "grad_time_ms": 5161.547, "update_time_ms": 7.322, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2210.69775390625, "policy_loss": -0.02195660211145878, "vf_loss": 2210.717529296875, "vf_explained_var": 0.2743958830833435, "kl": 0.006777214352041483, "entropy": 0.42402395606040955, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1740000, "episodes_total": 1738, "training_iteration": 435, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-16", "timestamp": 1565599756, "time_this_iter_s": 9.258487939834595, "time_total_s": 4929.819930553436, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4929.819930553436, "timesteps_since_restore": 1740000, "iterations_since_restore": 435, "perf": {"cpu_util_percent": 18.76153846153846, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1506.0, "episode_reward_mean": -956.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5057472085113759, "mean_processing_ms": 0.10093093078280611, "mean_inference_ms": 0.5782070732980398}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1730048, "num_steps_sampled": 1744000, "sample_time_ms": 4109.286, "load_time_ms": 2.54, "grad_time_ms": 5166.707, "update_time_ms": 7.571, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2244.140380859375, "policy_loss": -0.02549053728580475, "vf_loss": 2244.16357421875, "vf_explained_var": 0.25093504786491394, "kl": 0.00720618711784482, "entropy": 0.4016333818435669, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1744000, "episodes_total": 1742, "training_iteration": 436, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-25", "timestamp": 1565599765, "time_this_iter_s": 9.153424739837646, "time_total_s": 4938.973355293274, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4938.973355293274, "timesteps_since_restore": 1744000, "iterations_since_restore": 436, "perf": {"cpu_util_percent": 19.46923076923077, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1506.0, "episode_reward_mean": -964.81, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5055548327246447, "mean_processing_ms": 0.10088268526555748, "mean_inference_ms": 0.578024285558897}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1734016, "num_steps_sampled": 1748000, "sample_time_ms": 4119.943, "load_time_ms": 2.497, "grad_time_ms": 5163.6, "update_time_ms": 7.639, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2738.6298828125, "policy_loss": -0.027789635583758354, "vf_loss": 2738.6552734375, "vf_explained_var": 0.27299964427948, "kl": 0.008146094158291817, "entropy": 0.4427545666694641, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1748000, "episodes_total": 1746, "training_iteration": 437, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-34", "timestamp": 1565599774, "time_this_iter_s": 9.271358251571655, "time_total_s": 4948.244713544846, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4948.244713544846, "timesteps_since_restore": 1748000, "iterations_since_restore": 437, "perf": {"cpu_util_percent": 19.107142857142858, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -662.0, "episode_reward_min": -1506.0, "episode_reward_mean": -970.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5053651652033991, "mean_processing_ms": 0.10083481641034649, "mean_inference_ms": 0.5778415386863489}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1737984, "num_steps_sampled": 1752000, "sample_time_ms": 4105.81, "load_time_ms": 2.509, "grad_time_ms": 5160.932, "update_time_ms": 7.745, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2330.994140625, "policy_loss": -0.02380024455487728, "vf_loss": 2331.01611328125, "vf_explained_var": 0.3092069625854492, "kl": 0.007077139802277088, "entropy": 0.4308769702911377, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1752000, "episodes_total": 1750, "training_iteration": 438, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-44", "timestamp": 1565599784, "time_this_iter_s": 9.159802436828613, "time_total_s": 4957.404515981674, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4957.404515981674, "timesteps_since_restore": 1752000, "iterations_since_restore": 438, "perf": {"cpu_util_percent": 18.92307692307692, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -680.0, "episode_reward_min": -1506.0, "episode_reward_mean": -968.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5051768967861837, "mean_processing_ms": 0.10078741412150158, "mean_inference_ms": 0.5776612503899993}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1741952, "num_steps_sampled": 1756000, "sample_time_ms": 4106.047, "load_time_ms": 2.506, "grad_time_ms": 5155.481, "update_time_ms": 7.708, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1730.929443359375, "policy_loss": -0.02376565895974636, "vf_loss": 1730.9508056640625, "vf_explained_var": 0.19794027507305145, "kl": 0.007196247577667236, "entropy": 0.4076865315437317, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1756000, "episodes_total": 1754, "training_iteration": 439, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-49-53", "timestamp": 1565599793, "time_this_iter_s": 9.218116760253906, "time_total_s": 4966.622632741928, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4966.622632741928, "timesteps_since_restore": 1756000, "iterations_since_restore": 439, "perf": {"cpu_util_percent": 19.323076923076925, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -680.0, "episode_reward_min": -1506.0, "episode_reward_mean": -973.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5049887500109524, "mean_processing_ms": 0.10074027484853904, "mean_inference_ms": 0.5774809152252183}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1745920, "num_steps_sampled": 1760000, "sample_time_ms": 4075.884, "load_time_ms": 2.481, "grad_time_ms": 5157.618, "update_time_ms": 7.544, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2817.1591796875, "policy_loss": -0.029503755271434784, "vf_loss": 2817.1865234375, "vf_explained_var": 0.30515220761299133, "kl": 0.008210978470742702, "entropy": 0.43668144941329956, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1760000, "episodes_total": 1758, "training_iteration": 440, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-02", "timestamp": 1565599802, "time_this_iter_s": 9.198808908462524, "time_total_s": 4975.821441650391, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4975.821441650391, "timesteps_since_restore": 1760000, "iterations_since_restore": 440, "perf": {"cpu_util_percent": 19.038461538461537, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -680.0, "episode_reward_min": -1506.0, "episode_reward_mean": -969.15, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5048024792866038, "mean_processing_ms": 0.1006937319775088, "mean_inference_ms": 0.5773009011667591}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1749888, "num_steps_sampled": 1764000, "sample_time_ms": 4084.174, "load_time_ms": 2.486, "grad_time_ms": 5158.177, "update_time_ms": 7.313, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1833.518798828125, "policy_loss": -0.026309913024306297, "vf_loss": 1833.54296875, "vf_explained_var": 0.3297075629234314, "kl": 0.007602391764521599, "entropy": 0.38868701457977295, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1764000, "episodes_total": 1762, "training_iteration": 441, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-11", "timestamp": 1565599811, "time_this_iter_s": 9.265110969543457, "time_total_s": 4985.086552619934, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4985.086552619934, "timesteps_since_restore": 1764000, "iterations_since_restore": 441, "perf": {"cpu_util_percent": 18.607692307692307, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -680.0, "episode_reward_min": -1609.0, "episode_reward_mean": -987.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5046155640089101, "mean_processing_ms": 0.10064684863131738, "mean_inference_ms": 0.577118824522511}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1753856, "num_steps_sampled": 1768000, "sample_time_ms": 4081.127, "load_time_ms": 2.486, "grad_time_ms": 5153.199, "update_time_ms": 7.168, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3123.3798828125, "policy_loss": -0.03684458136558533, "vf_loss": 3123.413818359375, "vf_explained_var": 0.38012927770614624, "kl": 0.009836721234023571, "entropy": 0.44846993684768677, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1768000, "episodes_total": 1766, "training_iteration": 442, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-21", "timestamp": 1565599821, "time_this_iter_s": 9.285871267318726, "time_total_s": 4994.372423887253, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 4994.372423887253, "timesteps_since_restore": 1768000, "iterations_since_restore": 442, "perf": {"cpu_util_percent": 18.876923076923077, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -989.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5044300721533009, "mean_processing_ms": 0.10060012160950667, "mean_inference_ms": 0.576937323013883}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1757824, "num_steps_sampled": 1772000, "sample_time_ms": 4073.622, "load_time_ms": 2.476, "grad_time_ms": 5154.943, "update_time_ms": 7.172, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1681.71142578125, "policy_loss": -0.023768020793795586, "vf_loss": 1681.7333984375, "vf_explained_var": 0.2639239430427551, "kl": 0.006583825685083866, "entropy": 0.3885268568992615, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1772000, "episodes_total": 1770, "training_iteration": 443, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-30", "timestamp": 1565599830, "time_this_iter_s": 9.432355642318726, "time_total_s": 5003.8047795295715, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5003.8047795295715, "timesteps_since_restore": 1772000, "iterations_since_restore": 443, "perf": {"cpu_util_percent": 19.514285714285712, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -987.28, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5042455339517589, "mean_processing_ms": 0.1005536231922655, "mean_inference_ms": 0.5767568435065072}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1761792, "num_steps_sampled": 1776000, "sample_time_ms": 4071.126, "load_time_ms": 2.468, "grad_time_ms": 5154.937, "update_time_ms": 7.172, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1920.420654296875, "policy_loss": -0.027167117223143578, "vf_loss": 1920.4456787109375, "vf_explained_var": 0.3145443797111511, "kl": 0.008296357467770576, "entropy": 0.42075905203819275, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1776000, "episodes_total": 1774, "training_iteration": 444, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-39", "timestamp": 1565599839, "time_this_iter_s": 9.205488204956055, "time_total_s": 5013.010267734528, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5013.010267734528, "timesteps_since_restore": 1776000, "iterations_since_restore": 444, "perf": {"cpu_util_percent": 18.784615384615385, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -989.53, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5040637821459909, "mean_processing_ms": 0.10050715157379869, "mean_inference_ms": 0.5765792800845781}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1765760, "num_steps_sampled": 1780000, "sample_time_ms": 4080.739, "load_time_ms": 2.352, "grad_time_ms": 5153.472, "update_time_ms": 6.916, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1401.665771484375, "policy_loss": -0.026974933221936226, "vf_loss": 1401.6905517578125, "vf_explained_var": 0.41117891669273376, "kl": 0.008122419007122517, "entropy": 0.4166322946548462, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1780000, "episodes_total": 1778, "training_iteration": 445, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-49", "timestamp": 1565599849, "time_this_iter_s": 9.336435794830322, "time_total_s": 5022.346703529358, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5022.346703529358, "timesteps_since_restore": 1780000, "iterations_since_restore": 445, "perf": {"cpu_util_percent": 18.253846153846155, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -994.67, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5038829751353172, "mean_processing_ms": 0.10046122794369804, "mean_inference_ms": 0.5764018049749163}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1769728, "num_steps_sampled": 1784000, "sample_time_ms": 4087.833, "load_time_ms": 2.348, "grad_time_ms": 5163.388, "update_time_ms": 6.715, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2150.353515625, "policy_loss": -0.03847851976752281, "vf_loss": 2150.388916015625, "vf_explained_var": 0.4342762231826782, "kl": 0.01046046894043684, "entropy": 0.45170581340789795, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1784000, "episodes_total": 1782, "training_iteration": 446, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-50-58", "timestamp": 1565599858, "time_this_iter_s": 9.319681406021118, "time_total_s": 5031.666384935379, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5031.666384935379, "timesteps_since_restore": 1784000, "iterations_since_restore": 446, "perf": {"cpu_util_percent": 20.085714285714285, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -987.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.503702703431015, "mean_processing_ms": 0.10041517999256946, "mean_inference_ms": 0.5762254877403941}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1773696, "num_steps_sampled": 1788000, "sample_time_ms": 4091.595, "load_time_ms": 2.336, "grad_time_ms": 5168.665, "update_time_ms": 6.543, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1467.6102294921875, "policy_loss": -0.02132478542625904, "vf_loss": 1467.6295166015625, "vf_explained_var": 0.20291727781295776, "kl": 0.006523005198687315, "entropy": 0.38505497574806213, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1788000, "episodes_total": 1786, "training_iteration": 447, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-07", "timestamp": 1565599867, "time_this_iter_s": 9.35960602760315, "time_total_s": 5041.025990962982, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5041.025990962982, "timesteps_since_restore": 1788000, "iterations_since_restore": 447, "perf": {"cpu_util_percent": 18.53846153846154, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -994.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.503523868997639, "mean_processing_ms": 0.10036966114216848, "mean_inference_ms": 0.5760460658874896}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1777664, "num_steps_sampled": 1792000, "sample_time_ms": 4084.79, "load_time_ms": 2.336, "grad_time_ms": 5168.244, "update_time_ms": 6.424, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1971.636474609375, "policy_loss": -0.037369005382061005, "vf_loss": 1971.6702880859375, "vf_explained_var": 0.4176293611526489, "kl": 0.011919040232896805, "entropy": 0.4602300226688385, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1792000, "episodes_total": 1790, "training_iteration": 448, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-17", "timestamp": 1565599877, "time_this_iter_s": 9.086332082748413, "time_total_s": 5050.112323045731, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5050.112323045731, "timesteps_since_restore": 1792000, "iterations_since_restore": 448, "perf": {"cpu_util_percent": 19.076923076923073, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1609.0, "episode_reward_mean": -997.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5033462473854327, "mean_processing_ms": 0.10032466094219834, "mean_inference_ms": 0.5758691484782155}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1781632, "num_steps_sampled": 1796000, "sample_time_ms": 4079.508, "load_time_ms": 2.336, "grad_time_ms": 5177.176, "update_time_ms": 6.459, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1616.2000732421875, "policy_loss": -0.034988999366760254, "vf_loss": 1616.232666015625, "vf_explained_var": 0.34781613945961, "kl": 0.008711200207471848, "entropy": 0.4589655101299286, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1796000, "episodes_total": 1794, "training_iteration": 449, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-26", "timestamp": 1565599886, "time_this_iter_s": 9.254340648651123, "time_total_s": 5059.366663694382, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5059.366663694382, "timesteps_since_restore": 1796000, "iterations_since_restore": 449, "perf": {"cpu_util_percent": 19.915384615384617, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1004.6, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5031700016272397, "mean_processing_ms": 0.10028023020831067, "mean_inference_ms": 0.5756940310906691}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1785600, "num_steps_sampled": 1800000, "sample_time_ms": 4090.058, "load_time_ms": 2.342, "grad_time_ms": 5178.024, "update_time_ms": 6.577, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2753.60302734375, "policy_loss": -0.04858618229627609, "vf_loss": 2753.64794921875, "vf_explained_var": 0.5113876461982727, "kl": 0.01182050071656704, "entropy": 0.4770205616950989, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1800000, "episodes_total": 1798, "training_iteration": 450, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-35", "timestamp": 1565599895, "time_this_iter_s": 9.313992261886597, "time_total_s": 5068.680655956268, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5068.680655956268, "timesteps_since_restore": 1800000, "iterations_since_restore": 450, "perf": {"cpu_util_percent": 18.546153846153846, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1006.95, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5029921098874417, "mean_processing_ms": 0.10023563687320511, "mean_inference_ms": 0.5755183845712275}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1789568, "num_steps_sampled": 1804000, "sample_time_ms": 4088.057, "load_time_ms": 2.321, "grad_time_ms": 5178.969, "update_time_ms": 6.656, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1522.1654052734375, "policy_loss": -0.030587533488869667, "vf_loss": 1522.193603515625, "vf_explained_var": 0.24895092844963074, "kl": 0.009403474628925323, "entropy": 0.44073522090911865, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1804000, "episodes_total": 1802, "training_iteration": 451, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-44", "timestamp": 1565599904, "time_this_iter_s": 9.25558876991272, "time_total_s": 5077.936244726181, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5077.936244726181, "timesteps_since_restore": 1804000, "iterations_since_restore": 451, "perf": {"cpu_util_percent": 19.32857142857143, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1011.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5028151053935006, "mean_processing_ms": 0.10019124496104449, "mean_inference_ms": 0.5753411371095832}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1793536, "num_steps_sampled": 1808000, "sample_time_ms": 4061.571, "load_time_ms": 2.299, "grad_time_ms": 5175.899, "update_time_ms": 6.773, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1364.5877685546875, "policy_loss": -0.030476612970232964, "vf_loss": 1364.615478515625, "vf_explained_var": 0.44922009110450745, "kl": 0.00960759911686182, "entropy": 0.49104154109954834, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1808000, "episodes_total": 1806, "training_iteration": 452, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-51-53", "timestamp": 1565599913, "time_this_iter_s": 8.991769790649414, "time_total_s": 5086.92801451683, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5086.92801451683, "timesteps_since_restore": 1808000, "iterations_since_restore": 452, "perf": {"cpu_util_percent": 19.658333333333335, "ram_util_percent": 6.3}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1018.62, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5026367532492573, "mean_processing_ms": 0.10014689970371457, "mean_inference_ms": 0.5751645838744637}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1797504, "num_steps_sampled": 1812000, "sample_time_ms": 4036.629, "load_time_ms": 2.29, "grad_time_ms": 5169.653, "update_time_ms": 6.805, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2985.24951171875, "policy_loss": -0.049293700605630875, "vf_loss": 2985.295166015625, "vf_explained_var": 0.42556193470954895, "kl": 0.01196005754172802, "entropy": 0.49619388580322266, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1812000, "episodes_total": 1810, "training_iteration": 453, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-03", "timestamp": 1565599923, "time_this_iter_s": 9.120982885360718, "time_total_s": 5096.048997402191, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5096.048997402191, "timesteps_since_restore": 1812000, "iterations_since_restore": 453, "perf": {"cpu_util_percent": 18.80769230769231, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1013.97, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5024574440187336, "mean_processing_ms": 0.1001027140963095, "mean_inference_ms": 0.5749888061856203}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1801472, "num_steps_sampled": 1816000, "sample_time_ms": 4038.517, "load_time_ms": 2.178, "grad_time_ms": 5165.819, "update_time_ms": 6.771, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1553.1131591796875, "policy_loss": -0.033333517611026764, "vf_loss": 1553.1436767578125, "vf_explained_var": 0.45654067397117615, "kl": 0.009205306880176067, "entropy": 0.4723483622074127, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1816000, "episodes_total": 1814, "training_iteration": 454, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-12", "timestamp": 1565599932, "time_this_iter_s": 9.184535264968872, "time_total_s": 5105.23353266716, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5105.23353266716, "timesteps_since_restore": 1816000, "iterations_since_restore": 454, "perf": {"cpu_util_percent": 19.13571428571429, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1007.54, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5022769567926436, "mean_processing_ms": 0.10005810388934598, "mean_inference_ms": 0.5748114198679452}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1805440, "num_steps_sampled": 1820000, "sample_time_ms": 4029.991, "load_time_ms": 2.303, "grad_time_ms": 5155.22, "update_time_ms": 6.868, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1467.2440185546875, "policy_loss": -0.027342090383172035, "vf_loss": 1467.2689208984375, "vf_explained_var": 0.32175004482269287, "kl": 0.007834108546376228, "entropy": 0.47648584842681885, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1820000, "episodes_total": 1818, "training_iteration": 455, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-21", "timestamp": 1565599941, "time_this_iter_s": 9.14695930480957, "time_total_s": 5114.38049197197, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5114.38049197197, "timesteps_since_restore": 1820000, "iterations_since_restore": 455, "perf": {"cpu_util_percent": 19.530769230769234, "ram_util_percent": 6.3076923076923075}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1007.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5020983146518151, "mean_processing_ms": 0.10001392671885086, "mean_inference_ms": 0.5746367170761331}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1809408, "num_steps_sampled": 1824000, "sample_time_ms": 4029.453, "load_time_ms": 2.296, "grad_time_ms": 5155.52, "update_time_ms": 6.936, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2814.575439453125, "policy_loss": -0.042216915637254715, "vf_loss": 2814.614990234375, "vf_explained_var": 0.30212464928627014, "kl": 0.007586433086544275, "entropy": 0.4713703393936157, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1824000, "episodes_total": 1822, "training_iteration": 456, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-30", "timestamp": 1565599950, "time_this_iter_s": 9.318060874938965, "time_total_s": 5123.698552846909, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5123.698552846909, "timesteps_since_restore": 1824000, "iterations_since_restore": 456, "perf": {"cpu_util_percent": 18.73846153846154, "ram_util_percent": 6.307692307692307}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1010.12, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5019190082977696, "mean_processing_ms": 0.09996976687089365, "mean_inference_ms": 0.5744613549369899}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1813376, "num_steps_sampled": 1828000, "sample_time_ms": 4020.102, "load_time_ms": 2.295, "grad_time_ms": 5149.079, "update_time_ms": 6.851, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2057.75048828125, "policy_loss": -0.03310834988951683, "vf_loss": 2057.78076171875, "vf_explained_var": 0.37748605012893677, "kl": 0.008947007358074188, "entropy": 0.48194342851638794, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1828000, "episodes_total": 1826, "training_iteration": 457, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-39", "timestamp": 1565599959, "time_this_iter_s": 9.20099401473999, "time_total_s": 5132.899546861649, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5132.899546861649, "timesteps_since_restore": 1828000, "iterations_since_restore": 457, "perf": {"cpu_util_percent": 18.73076923076923, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1016.63, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5017385519383901, "mean_processing_ms": 0.09992491436070967, "mean_inference_ms": 0.5742859744871484}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1817344, "num_steps_sampled": 1832000, "sample_time_ms": 4046.521, "load_time_ms": 2.309, "grad_time_ms": 5149.534, "update_time_ms": 6.855, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2030.49951171875, "policy_loss": -0.03955566883087158, "vf_loss": 2030.5362548828125, "vf_explained_var": 0.38449862599372864, "kl": 0.009075140580534935, "entropy": 0.5164019465446472, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1832000, "episodes_total": 1830, "training_iteration": 458, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-49", "timestamp": 1565599969, "time_this_iter_s": 9.35529375076294, "time_total_s": 5142.2548406124115, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5142.2548406124115, "timesteps_since_restore": 1832000, "iterations_since_restore": 458, "perf": {"cpu_util_percent": 18.0, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1014.19, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5015595022012468, "mean_processing_ms": 0.0998804666577615, "mean_inference_ms": 0.5741126633138802}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1821312, "num_steps_sampled": 1836000, "sample_time_ms": 4051.495, "load_time_ms": 2.184, "grad_time_ms": 5148.246, "update_time_ms": 7.007, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2013.2159423828125, "policy_loss": -0.030177420005202293, "vf_loss": 2013.2432861328125, "vf_explained_var": 0.3903561234474182, "kl": 0.009666191413998604, "entropy": 0.4900180995464325, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1836000, "episodes_total": 1834, "training_iteration": 459, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-52-58", "timestamp": 1565599978, "time_this_iter_s": 9.291663885116577, "time_total_s": 5151.546504497528, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5151.546504497528, "timesteps_since_restore": 1836000, "iterations_since_restore": 459, "perf": {"cpu_util_percent": 20.007142857142856, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1020.77, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5013823525309179, "mean_processing_ms": 0.09983636350967466, "mean_inference_ms": 0.5739401839961521}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1825280, "num_steps_sampled": 1840000, "sample_time_ms": 4054.653, "load_time_ms": 2.164, "grad_time_ms": 5145.57, "update_time_ms": 6.921, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2270.56884765625, "policy_loss": -0.03020835667848587, "vf_loss": 2270.59619140625, "vf_explained_var": 0.3701362907886505, "kl": 0.008303376846015453, "entropy": 0.48575446009635925, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1840000, "episodes_total": 1838, "training_iteration": 460, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-07", "timestamp": 1565599987, "time_this_iter_s": 9.317236423492432, "time_total_s": 5160.8637409210205, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5160.8637409210205, "timesteps_since_restore": 1840000, "iterations_since_restore": 460, "perf": {"cpu_util_percent": 18.23846153846154, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1032.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5012068818872957, "mean_processing_ms": 0.09979264672909766, "mean_inference_ms": 0.5737681220001254}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1829248, "num_steps_sampled": 1844000, "sample_time_ms": 4059.379, "load_time_ms": 2.178, "grad_time_ms": 5140.544, "update_time_ms": 6.898, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2571.7001953125, "policy_loss": -0.028316698968410492, "vf_loss": 2571.7255859375, "vf_explained_var": 0.32168370485305786, "kl": 0.00884180422872305, "entropy": 0.4951082766056061, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1844000, "episodes_total": 1842, "training_iteration": 461, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-17", "timestamp": 1565599997, "time_this_iter_s": 9.252362251281738, "time_total_s": 5170.116103172302, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5170.116103172302, "timesteps_since_restore": 1844000, "iterations_since_restore": 461, "perf": {"cpu_util_percent": 18.646153846153847, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1030.64, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5010327416113678, "mean_processing_ms": 0.09974911586357353, "mean_inference_ms": 0.5735964632767452}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1833216, "num_steps_sampled": 1848000, "sample_time_ms": 4082.299, "load_time_ms": 2.2, "grad_time_ms": 5146.091, "update_time_ms": 6.788, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2589.261474609375, "policy_loss": -0.031214706599712372, "vf_loss": 2589.289306640625, "vf_explained_var": 0.3531910479068756, "kl": 0.011224309913814068, "entropy": 0.46876683831214905, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1848000, "episodes_total": 1846, "training_iteration": 462, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-26", "timestamp": 1565600006, "time_this_iter_s": 9.27598786354065, "time_total_s": 5179.392091035843, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5179.392091035843, "timesteps_since_restore": 1848000, "iterations_since_restore": 462, "perf": {"cpu_util_percent": 19.315384615384616, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1039.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5008589023574372, "mean_processing_ms": 0.09970591889593415, "mean_inference_ms": 0.5734308533131941}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1837184, "num_steps_sampled": 1852000, "sample_time_ms": 4101.68, "load_time_ms": 2.201, "grad_time_ms": 5152.311, "update_time_ms": 6.762, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3924.071533203125, "policy_loss": -0.037505246698856354, "vf_loss": 3924.105712890625, "vf_explained_var": 0.3764479458332062, "kl": 0.012144388630986214, "entropy": 0.5169628858566284, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1852000, "episodes_total": 1850, "training_iteration": 463, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-35", "timestamp": 1565600015, "time_this_iter_s": 9.376590967178345, "time_total_s": 5188.768682003021, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5188.768682003021, "timesteps_since_restore": 1852000, "iterations_since_restore": 463, "perf": {"cpu_util_percent": 19.114285714285717, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1045.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5006856469952772, "mean_processing_ms": 0.09966298549914125, "mean_inference_ms": 0.573267647840716}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1841152, "num_steps_sampled": 1856000, "sample_time_ms": 4119.622, "load_time_ms": 2.334, "grad_time_ms": 5156.393, "update_time_ms": 6.925, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2118.068115234375, "policy_loss": -0.028177348896861076, "vf_loss": 2118.09375, "vf_explained_var": 0.24380867183208466, "kl": 0.007809389848262072, "entropy": 0.4954328238964081, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1856000, "episodes_total": 1854, "training_iteration": 464, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-45", "timestamp": 1565600025, "time_this_iter_s": 9.407496690750122, "time_total_s": 5198.176178693771, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5198.176178693771, "timesteps_since_restore": 1856000, "iterations_since_restore": 464, "perf": {"cpu_util_percent": 18.184615384615384, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1036.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5005147786762103, "mean_processing_ms": 0.09962050592871108, "mean_inference_ms": 0.5731079444114983}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1845120, "num_steps_sampled": 1860000, "sample_time_ms": 4132.597, "load_time_ms": 2.352, "grad_time_ms": 5156.973, "update_time_ms": 6.81, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1733.290283203125, "policy_loss": -0.023340171203017235, "vf_loss": 1733.3115234375, "vf_explained_var": 0.28641289472579956, "kl": 0.007868360728025436, "entropy": 0.49413660168647766, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1860000, "episodes_total": 1858, "training_iteration": 465, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-53-54", "timestamp": 1565600034, "time_this_iter_s": 9.28209900856018, "time_total_s": 5207.4582777023315, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5207.4582777023315, "timesteps_since_restore": 1860000, "iterations_since_restore": 465, "perf": {"cpu_util_percent": 19.42307692307692, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1040.88, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5003425278481552, "mean_processing_ms": 0.09957770600097281, "mean_inference_ms": 0.5729484748271179}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1849088, "num_steps_sampled": 1864000, "sample_time_ms": 4112.294, "load_time_ms": 2.356, "grad_time_ms": 5156.163, "update_time_ms": 6.939, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2087.555908203125, "policy_loss": -0.031471990048885345, "vf_loss": 2087.58447265625, "vf_explained_var": 0.2998274564743042, "kl": 0.008489929139614105, "entropy": 0.5143829584121704, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1864000, "episodes_total": 1862, "training_iteration": 466, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-03", "timestamp": 1565600043, "time_this_iter_s": 9.108980894088745, "time_total_s": 5216.56725859642, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5216.56725859642, "timesteps_since_restore": 1864000, "iterations_since_restore": 466, "perf": {"cpu_util_percent": 19.138461538461538, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -636.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1034.29, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5001709816593761, "mean_processing_ms": 0.09953497863061195, "mean_inference_ms": 0.5727901289412859}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1853056, "num_steps_sampled": 1868000, "sample_time_ms": 4124.467, "load_time_ms": 2.356, "grad_time_ms": 5159.89, "update_time_ms": 7.025, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3169.85693359375, "policy_loss": -0.030435139313340187, "vf_loss": 3169.884765625, "vf_explained_var": 0.32165423035621643, "kl": 0.008660749532282352, "entropy": 0.539683997631073, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1868000, "episodes_total": 1866, "training_iteration": 467, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-13", "timestamp": 1565600053, "time_this_iter_s": 9.361067771911621, "time_total_s": 5225.928326368332, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5225.928326368332, "timesteps_since_restore": 1868000, "iterations_since_restore": 467, "perf": {"cpu_util_percent": 18.97142857142857, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -658.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1039.71, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4999983455873135, "mean_processing_ms": 0.09949212767473402, "mean_inference_ms": 0.572632251468914}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1857024, "num_steps_sampled": 1872000, "sample_time_ms": 4121.616, "load_time_ms": 2.345, "grad_time_ms": 5149.485, "update_time_ms": 6.965, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2578.672607421875, "policy_loss": -0.032921452075242996, "vf_loss": 2578.70263671875, "vf_explained_var": 0.33932414650917053, "kl": 0.009329883381724358, "entropy": 0.522665798664093, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1872000, "episodes_total": 1870, "training_iteration": 468, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-22", "timestamp": 1565600062, "time_this_iter_s": 9.22176480293274, "time_total_s": 5235.150091171265, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5235.150091171265, "timesteps_since_restore": 1872000, "iterations_since_restore": 468, "perf": {"cpu_util_percent": 19.484615384615385, "ram_util_percent": 6.3076923076923075}}
{"episode_reward_max": -658.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1045.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49982804597762337, "mean_processing_ms": 0.0994497081980828, "mean_inference_ms": 0.5724762074666444}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1860992, "num_steps_sampled": 1876000, "sample_time_ms": 4124.15, "load_time_ms": 2.462, "grad_time_ms": 5152.081, "update_time_ms": 7.047, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2317.1650390625, "policy_loss": -0.026019776239991188, "vf_loss": 2317.18896484375, "vf_explained_var": 0.2645193934440613, "kl": 0.00792448315769434, "entropy": 0.5462526679039001, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1876000, "episodes_total": 1874, "training_iteration": 469, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-31", "timestamp": 1565600071, "time_this_iter_s": 9.345062017440796, "time_total_s": 5244.495153188705, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5244.495153188705, "timesteps_since_restore": 1876000, "iterations_since_restore": 469, "perf": {"cpu_util_percent": 18.376923076923074, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -658.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1045.0, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4996575680908573, "mean_processing_ms": 0.09940733877948478, "mean_inference_ms": 0.5723205654945165}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1864960, "num_steps_sampled": 1880000, "sample_time_ms": 4121.565, "load_time_ms": 2.491, "grad_time_ms": 5143.068, "update_time_ms": 7.061, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2107.931640625, "policy_loss": -0.024319425225257874, "vf_loss": 2107.95361328125, "vf_explained_var": 0.26884713768959045, "kl": 0.008582095615565777, "entropy": 0.5308953523635864, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1880000, "episodes_total": 1878, "training_iteration": 470, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-40", "timestamp": 1565600080, "time_this_iter_s": 9.20195722579956, "time_total_s": 5253.697110414505, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5253.697110414505, "timesteps_since_restore": 1880000, "iterations_since_restore": 470, "perf": {"cpu_util_percent": 18.9, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -658.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1047.1, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.499488722624256, "mean_processing_ms": 0.09936524637865174, "mean_inference_ms": 0.5721660971217041}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1868928, "num_steps_sampled": 1884000, "sample_time_ms": 4132.353, "load_time_ms": 2.488, "grad_time_ms": 5140.242, "update_time_ms": 7.05, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3515.32666015625, "policy_loss": -0.03975524753332138, "vf_loss": 3515.363525390625, "vf_explained_var": 0.3191983103752136, "kl": 0.010911738499999046, "entropy": 0.5337654948234558, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1884000, "episodes_total": 1882, "training_iteration": 471, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-50", "timestamp": 1565600090, "time_this_iter_s": 9.331041097640991, "time_total_s": 5263.028151512146, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5263.028151512146, "timesteps_since_restore": 1884000, "iterations_since_restore": 471, "perf": {"cpu_util_percent": 18.621428571428574, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -695.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1052.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4993197652780276, "mean_processing_ms": 0.09932332990880109, "mean_inference_ms": 0.5720101712335794}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1872896, "num_steps_sampled": 1888000, "sample_time_ms": 4121.023, "load_time_ms": 2.493, "grad_time_ms": 5118.473, "update_time_ms": 6.907, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2304.373291015625, "policy_loss": -0.02947092615067959, "vf_loss": 2304.39990234375, "vf_explained_var": 0.2742219865322113, "kl": 0.008729105815291405, "entropy": 0.5127254724502563, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1888000, "episodes_total": 1886, "training_iteration": 472, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-54-59", "timestamp": 1565600099, "time_this_iter_s": 8.943227529525757, "time_total_s": 5271.971379041672, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5271.971379041672, "timesteps_since_restore": 1888000, "iterations_since_restore": 472, "perf": {"cpu_util_percent": 21.06153846153846, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -695.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1055.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49915280331188666, "mean_processing_ms": 0.09928169111196822, "mean_inference_ms": 0.5718607749436441}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1876864, "num_steps_sampled": 1892000, "sample_time_ms": 4125.472, "load_time_ms": 2.485, "grad_time_ms": 5088.084, "update_time_ms": 6.894, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2935.50341796875, "policy_loss": -0.032243866473436356, "vf_loss": 2935.532958984375, "vf_explained_var": 0.35184869170188904, "kl": 0.00955005083233118, "entropy": 0.5350021719932556, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1892000, "episodes_total": 1890, "training_iteration": 473, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-08", "timestamp": 1565600108, "time_this_iter_s": 9.116894245147705, "time_total_s": 5281.0882732868195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5281.0882732868195, "timesteps_since_restore": 1892000, "iterations_since_restore": 473, "perf": {"cpu_util_percent": 20.446153846153848, "ram_util_percent": 6.376923076923077}}
{"episode_reward_max": -695.0, "episode_reward_min": -1787.0, "episode_reward_mean": -1053.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49898793330037106, "mean_processing_ms": 0.09924001416642847, "mean_inference_ms": 0.5717133368745076}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1880832, "num_steps_sampled": 1896000, "sample_time_ms": 4123.612, "load_time_ms": 2.468, "grad_time_ms": 5089.248, "update_time_ms": 6.746, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2603.26025390625, "policy_loss": -0.03065015748143196, "vf_loss": 2603.28857421875, "vf_explained_var": 0.30398789048194885, "kl": 0.009580806829035282, "entropy": 0.5392428040504456, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1896000, "episodes_total": 1894, "training_iteration": 474, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-17", "timestamp": 1565600117, "time_this_iter_s": 9.399009227752686, "time_total_s": 5290.487282514572, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5290.487282514572, "timesteps_since_restore": 1896000, "iterations_since_restore": 474, "perf": {"cpu_util_percent": 18.16153846153846, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1044.44, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.498824099498671, "mean_processing_ms": 0.09919871224069421, "mean_inference_ms": 0.5715666287663145}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1884800, "num_steps_sampled": 1900000, "sample_time_ms": 4115.837, "load_time_ms": 2.447, "grad_time_ms": 5100.795, "update_time_ms": 6.877, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2464.347900390625, "policy_loss": -0.027031973004341125, "vf_loss": 2464.3720703125, "vf_explained_var": 0.23374304175376892, "kl": 0.008659491315484047, "entropy": 0.4968418478965759, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1900000, "episodes_total": 1898, "training_iteration": 475, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-27", "timestamp": 1565600127, "time_this_iter_s": 9.320540189743042, "time_total_s": 5299.807822704315, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5299.807822704315, "timesteps_since_restore": 1900000, "iterations_since_restore": 475, "perf": {"cpu_util_percent": 19.461538461538463, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1052.09, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4986616108190441, "mean_processing_ms": 0.09915782948320655, "mean_inference_ms": 0.5714198417313154}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1888768, "num_steps_sampled": 1904000, "sample_time_ms": 4128.823, "load_time_ms": 2.442, "grad_time_ms": 5103.123, "update_time_ms": 6.891, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2646.608642578125, "policy_loss": -0.024513714015483856, "vf_loss": 2646.630859375, "vf_explained_var": 0.31719526648521423, "kl": 0.008977307938039303, "entropy": 0.5135665535926819, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1904000, "episodes_total": 1902, "training_iteration": 476, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-36", "timestamp": 1565600136, "time_this_iter_s": 9.261369705200195, "time_total_s": 5309.069192409515, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5309.069192409515, "timesteps_since_restore": 1904000, "iterations_since_restore": 476, "perf": {"cpu_util_percent": 18.638461538461538, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1056.66, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4984973150447853, "mean_processing_ms": 0.09911698333266376, "mean_inference_ms": 0.5712750021736855}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1892736, "num_steps_sampled": 1908000, "sample_time_ms": 4092.759, "load_time_ms": 2.45, "grad_time_ms": 5100.117, "update_time_ms": 7.051, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2862.75, "policy_loss": -0.028579752892255783, "vf_loss": 2862.776123046875, "vf_explained_var": 0.2332792580127716, "kl": 0.008496696129441261, "entropy": 0.534281313419342, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1908000, "episodes_total": 1906, "training_iteration": 477, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-45", "timestamp": 1565600145, "time_this_iter_s": 8.971260070800781, "time_total_s": 5318.040452480316, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5318.040452480316, "timesteps_since_restore": 1908000, "iterations_since_restore": 477, "perf": {"cpu_util_percent": 19.3, "ram_util_percent": 6.392307692307693}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1055.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49833507319742365, "mean_processing_ms": 0.0990762422762929, "mean_inference_ms": 0.5711329835309756}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1896704, "num_steps_sampled": 1912000, "sample_time_ms": 4094.798, "load_time_ms": 2.45, "grad_time_ms": 5098.93, "update_time_ms": 6.986, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3235.689453125, "policy_loss": -0.03437704220414162, "vf_loss": 3235.720947265625, "vf_explained_var": 0.3760470747947693, "kl": 0.010687926784157753, "entropy": 0.5357775688171387, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1912000, "episodes_total": 1910, "training_iteration": 478, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-55-54", "timestamp": 1565600154, "time_this_iter_s": 9.229840278625488, "time_total_s": 5327.270292758942, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5327.270292758942, "timesteps_since_restore": 1912000, "iterations_since_restore": 478, "perf": {"cpu_util_percent": 19.630769230769232, "ram_util_percent": 6.307692307692307}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1058.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4981754685160877, "mean_processing_ms": 0.09903582074553235, "mean_inference_ms": 0.5709930546316965}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1900672, "num_steps_sampled": 1916000, "sample_time_ms": 4100.694, "load_time_ms": 2.489, "grad_time_ms": 5094.742, "update_time_ms": 7.017, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2828.457763671875, "policy_loss": -0.026209568604826927, "vf_loss": 2828.48095703125, "vf_explained_var": 0.2673402428627014, "kl": 0.008836206048727036, "entropy": 0.5319132804870605, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1916000, "episodes_total": 1914, "training_iteration": 479, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-04", "timestamp": 1565600164, "time_this_iter_s": 9.363245010375977, "time_total_s": 5336.633537769318, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5336.633537769318, "timesteps_since_restore": 1916000, "iterations_since_restore": 479, "perf": {"cpu_util_percent": 18.857142857142858, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1057.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4980168012847637, "mean_processing_ms": 0.09899550240279271, "mean_inference_ms": 0.5708529414021212}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1904640, "num_steps_sampled": 1920000, "sample_time_ms": 4094.766, "load_time_ms": 2.461, "grad_time_ms": 5105.399, "update_time_ms": 7.002, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2165.00146484375, "policy_loss": -0.021537847816944122, "vf_loss": 2165.020751953125, "vf_explained_var": 0.3238096833229065, "kl": 0.008245233446359634, "entropy": 0.48013532161712646, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1920000, "episodes_total": 1918, "training_iteration": 480, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-13", "timestamp": 1565600173, "time_this_iter_s": 9.24894094467163, "time_total_s": 5345.882478713989, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5345.882478713989, "timesteps_since_restore": 1920000, "iterations_since_restore": 480, "perf": {"cpu_util_percent": 18.330769230769228, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1053.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49785859914585856, "mean_processing_ms": 0.09895562905426622, "mean_inference_ms": 0.5707140281651852}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1908608, "num_steps_sampled": 1924000, "sample_time_ms": 4089.694, "load_time_ms": 2.34, "grad_time_ms": 5098.198, "update_time_ms": 7.1, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2423.42529296875, "policy_loss": -0.028814153745770454, "vf_loss": 2423.451904296875, "vf_explained_var": 0.26860642433166504, "kl": 0.0077376822009682655, "entropy": 0.4824003577232361, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1924000, "episodes_total": 1922, "training_iteration": 481, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-22", "timestamp": 1565600182, "time_this_iter_s": 9.208622455596924, "time_total_s": 5355.091101169586, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5355.091101169586, "timesteps_since_restore": 1924000, "iterations_since_restore": 481, "perf": {"cpu_util_percent": 19.615384615384617, "ram_util_percent": 6.323076923076924}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1051.77, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49770294363444634, "mean_processing_ms": 0.09891616293923572, "mean_inference_ms": 0.5705776397547997}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1912576, "num_steps_sampled": 1928000, "sample_time_ms": 4113.359, "load_time_ms": 2.334, "grad_time_ms": 5122.559, "update_time_ms": 7.379, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2662.8408203125, "policy_loss": -0.028357407078146935, "vf_loss": 2662.86669921875, "vf_explained_var": 0.25770577788352966, "kl": 0.008349662646651268, "entropy": 0.47029197216033936, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1928000, "episodes_total": 1926, "training_iteration": 482, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-31", "timestamp": 1565600191, "time_this_iter_s": 9.427117347717285, "time_total_s": 5364.5182185173035, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5364.5182185173035, "timesteps_since_restore": 1928000, "iterations_since_restore": 482, "perf": {"cpu_util_percent": 18.985714285714288, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1054.31, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4975471066518415, "mean_processing_ms": 0.09887665951895606, "mean_inference_ms": 0.57044040127039}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1916544, "num_steps_sampled": 1932000, "sample_time_ms": 4094.702, "load_time_ms": 2.347, "grad_time_ms": 5148.499, "update_time_ms": 7.596, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3360.781005859375, "policy_loss": -0.027591783553361893, "vf_loss": 3360.806396484375, "vf_explained_var": 0.2592727243900299, "kl": 0.008442995138466358, "entropy": 0.48965632915496826, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1932000, "episodes_total": 1930, "training_iteration": 483, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-41", "timestamp": 1565600201, "time_this_iter_s": 9.19248628616333, "time_total_s": 5373.710704803467, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5373.710704803467, "timesteps_since_restore": 1932000, "iterations_since_restore": 483, "perf": {"cpu_util_percent": 18.70769230769231, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -695.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1053.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49739180703393243, "mean_processing_ms": 0.09883693714119353, "mean_inference_ms": 0.5703020817282912}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1920512, "num_steps_sampled": 1936000, "sample_time_ms": 4077.94, "load_time_ms": 2.356, "grad_time_ms": 5140.727, "update_time_ms": 7.711, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2197.54736328125, "policy_loss": -0.028250979259610176, "vf_loss": 2197.572998046875, "vf_explained_var": 0.34348633885383606, "kl": 0.009322275407612324, "entropy": 0.47110065817832947, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1936000, "episodes_total": 1934, "training_iteration": 484, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-50", "timestamp": 1565600210, "time_this_iter_s": 9.153435468673706, "time_total_s": 5382.8641402721405, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5382.8641402721405, "timesteps_since_restore": 1936000, "iterations_since_restore": 484, "perf": {"cpu_util_percent": 18.876923076923077, "ram_util_percent": 6.384615384615385}}
{"episode_reward_max": -755.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1048.04, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4972394626009574, "mean_processing_ms": 0.09879787306820983, "mean_inference_ms": 0.570165850016253}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1924480, "num_steps_sampled": 1940000, "sample_time_ms": 4099.223, "load_time_ms": 2.346, "grad_time_ms": 5138.442, "update_time_ms": 7.491, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2519.739501953125, "policy_loss": -0.026519810780882835, "vf_loss": 2519.76318359375, "vf_explained_var": 0.24940146505832672, "kl": 0.009036763571202755, "entropy": 0.4657630920410156, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1940000, "episodes_total": 1938, "training_iteration": 485, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-56-59", "timestamp": 1565600219, "time_this_iter_s": 9.508650779724121, "time_total_s": 5392.372791051865, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5392.372791051865, "timesteps_since_restore": 1940000, "iterations_since_restore": 485, "perf": {"cpu_util_percent": 18.9, "ram_util_percent": 6.323076923076922}}
{"episode_reward_max": -755.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1048.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49708867149119285, "mean_processing_ms": 0.09875917232417775, "mean_inference_ms": 0.5700315818323103}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1928448, "num_steps_sampled": 1944000, "sample_time_ms": 4115.661, "load_time_ms": 2.346, "grad_time_ms": 5137.349, "update_time_ms": 7.244, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3418.029541015625, "policy_loss": -0.03206299990415573, "vf_loss": 3418.05810546875, "vf_explained_var": 0.34315502643585205, "kl": 0.010349316522479057, "entropy": 0.5038092732429504, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1944000, "episodes_total": 1942, "training_iteration": 486, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-09", "timestamp": 1565600229, "time_this_iter_s": 9.412758350372314, "time_total_s": 5401.785549402237, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5401.785549402237, "timesteps_since_restore": 1944000, "iterations_since_restore": 486, "perf": {"cpu_util_percent": 19.171428571428574, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -755.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1047.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4969372083514257, "mean_processing_ms": 0.09872049753061422, "mean_inference_ms": 0.5698973775731511}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1932416, "num_steps_sampled": 1948000, "sample_time_ms": 4136.64, "load_time_ms": 2.333, "grad_time_ms": 5146.768, "update_time_ms": 7.078, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2568.35888671875, "policy_loss": -0.026391994208097458, "vf_loss": 2568.3828125, "vf_explained_var": 0.2943648099899292, "kl": 0.008255796507000923, "entropy": 0.4404730498790741, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1948000, "episodes_total": 1946, "training_iteration": 487, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-18", "timestamp": 1565600238, "time_this_iter_s": 9.273964166641235, "time_total_s": 5411.059513568878, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5411.059513568878, "timesteps_since_restore": 1948000, "iterations_since_restore": 487, "perf": {"cpu_util_percent": 19.353846153846153, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -755.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1045.16, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49679161052778775, "mean_processing_ms": 0.09868332229047112, "mean_inference_ms": 0.569767019340214}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1936384, "num_steps_sampled": 1952000, "sample_time_ms": 4188.938, "load_time_ms": 2.321, "grad_time_ms": 5153.996, "update_time_ms": 7.236, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3152.982666015625, "policy_loss": -0.03572649136185646, "vf_loss": 3153.015625, "vf_explained_var": 0.3261830806732178, "kl": 0.008323810063302517, "entropy": 0.4785793125629425, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1952000, "episodes_total": 1950, "training_iteration": 488, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-28", "timestamp": 1565600248, "time_this_iter_s": 9.826502561569214, "time_total_s": 5420.886016130447, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5420.886016130447, "timesteps_since_restore": 1952000, "iterations_since_restore": 488, "perf": {"cpu_util_percent": 19.52142857142857, "ram_util_percent": 6.328571428571427}}
{"episode_reward_max": -755.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1042.37, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4966468722573282, "mean_processing_ms": 0.09864622260127419, "mean_inference_ms": 0.5696339793209618}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1940352, "num_steps_sampled": 1956000, "sample_time_ms": 4173.496, "load_time_ms": 2.275, "grad_time_ms": 5145.712, "update_time_ms": 7.019, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2350.910400390625, "policy_loss": -0.027736259624361992, "vf_loss": 2350.935791015625, "vf_explained_var": 0.2892169654369354, "kl": 0.008088517934083939, "entropy": 0.4358966648578644, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1956000, "episodes_total": 1954, "training_iteration": 489, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-37", "timestamp": 1565600257, "time_this_iter_s": 9.123300313949585, "time_total_s": 5430.009316444397, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5430.009316444397, "timesteps_since_restore": 1956000, "iterations_since_restore": 489, "perf": {"cpu_util_percent": 18.93846153846154, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -736.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1040.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4965012191491109, "mean_processing_ms": 0.09860915834682736, "mean_inference_ms": 0.5694985801265379}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1944320, "num_steps_sampled": 1960000, "sample_time_ms": 4167.507, "load_time_ms": 2.29, "grad_time_ms": 5139.745, "update_time_ms": 7.012, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2175.076416015625, "policy_loss": -0.029629062861204147, "vf_loss": 2175.103271484375, "vf_explained_var": 0.20595787465572357, "kl": 0.009983374737203121, "entropy": 0.42396801710128784, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1960000, "episodes_total": 1958, "training_iteration": 490, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-46", "timestamp": 1565600266, "time_this_iter_s": 9.129380702972412, "time_total_s": 5439.138697147369, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5439.138697147369, "timesteps_since_restore": 1960000, "iterations_since_restore": 490, "perf": {"cpu_util_percent": 18.915384615384617, "ram_util_percent": 6.307692307692307}}
{"episode_reward_max": -736.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1040.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49635747094994587, "mean_processing_ms": 0.09857250723859395, "mean_inference_ms": 0.5693646162359456}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1948288, "num_steps_sampled": 1964000, "sample_time_ms": 4154.995, "load_time_ms": 2.426, "grad_time_ms": 5143.608, "update_time_ms": 6.926, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2237.878173828125, "policy_loss": -0.028936855494976044, "vf_loss": 2237.90478515625, "vf_explained_var": 0.26410725712776184, "kl": 0.008139711804687977, "entropy": 0.4578971564769745, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1964000, "episodes_total": 1962, "training_iteration": 491, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-57-55", "timestamp": 1565600275, "time_this_iter_s": 9.123364925384521, "time_total_s": 5448.262062072754, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5448.262062072754, "timesteps_since_restore": 1964000, "iterations_since_restore": 491, "perf": {"cpu_util_percent": 19.700000000000003, "ram_util_percent": 6.338461538461538}}
{"episode_reward_max": -736.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1036.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4962139092504105, "mean_processing_ms": 0.0985362794408307, "mean_inference_ms": 0.5692300450554861}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1952256, "num_steps_sampled": 1968000, "sample_time_ms": 4140.978, "load_time_ms": 2.423, "grad_time_ms": 5140.984, "update_time_ms": 6.91, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2136.85888671875, "policy_loss": -0.031806860119104385, "vf_loss": 2136.88818359375, "vf_explained_var": 0.34263065457344055, "kl": 0.009345057420432568, "entropy": 0.4625721573829651, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1968000, "episodes_total": 1966, "training_iteration": 492, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-05", "timestamp": 1565600285, "time_this_iter_s": 9.259170055389404, "time_total_s": 5457.521232128143, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5457.521232128143, "timesteps_since_restore": 1968000, "iterations_since_restore": 492, "perf": {"cpu_util_percent": 18.638461538461538, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -736.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1035.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4960721100710299, "mean_processing_ms": 0.0985001580595846, "mean_inference_ms": 0.5690954479102762}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1956224, "num_steps_sampled": 1972000, "sample_time_ms": 4152.569, "load_time_ms": 2.409, "grad_time_ms": 5139.864, "update_time_ms": 6.615, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1969.2501220703125, "policy_loss": -0.027073675766587257, "vf_loss": 1969.2744140625, "vf_explained_var": 0.33559557795524597, "kl": 0.008703742176294327, "entropy": 0.44794437289237976, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1972000, "episodes_total": 1970, "training_iteration": 493, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-14", "timestamp": 1565600294, "time_this_iter_s": 9.293932676315308, "time_total_s": 5466.815164804459, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5466.815164804459, "timesteps_since_restore": 1972000, "iterations_since_restore": 493, "perf": {"cpu_util_percent": 18.88571428571429, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -736.0, "episode_reward_min": -1568.0, "episode_reward_mean": -1027.28, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4959316959142863, "mean_processing_ms": 0.0984642405964932, "mean_inference_ms": 0.5689617915118462}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1960192, "num_steps_sampled": 1976000, "sample_time_ms": 4171.596, "load_time_ms": 2.394, "grad_time_ms": 5131.757, "update_time_ms": 6.632, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1715.0450439453125, "policy_loss": -0.022785121574997902, "vf_loss": 1715.0657958984375, "vf_explained_var": 0.31901440024375916, "kl": 0.006672939285635948, "entropy": 0.4077933132648468, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1976000, "episodes_total": 1974, "training_iteration": 494, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-23", "timestamp": 1565600303, "time_this_iter_s": 9.26388669013977, "time_total_s": 5476.079051494598, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5476.079051494598, "timesteps_since_restore": 1976000, "iterations_since_restore": 494, "perf": {"cpu_util_percent": 19.953846153846158, "ram_util_percent": 6.338461538461539}}
{"episode_reward_max": -736.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1035.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4957921827785469, "mean_processing_ms": 0.09842864533078184, "mean_inference_ms": 0.5688261882004716}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1964160, "num_steps_sampled": 1980000, "sample_time_ms": 4137.978, "load_time_ms": 2.273, "grad_time_ms": 5129.837, "update_time_ms": 7.061, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2934.49169921875, "policy_loss": -0.0467720553278923, "vf_loss": 2934.53564453125, "vf_explained_var": 0.4597698748111725, "kl": 0.010301484726369381, "entropy": 0.4493204951286316, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1980000, "episodes_total": 1978, "training_iteration": 495, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-32", "timestamp": 1565600312, "time_this_iter_s": 9.156281232833862, "time_total_s": 5485.235332727432, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5485.235332727432, "timesteps_since_restore": 1980000, "iterations_since_restore": 495, "perf": {"cpu_util_percent": 19.076923076923077, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -736.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1022.07, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4956527620773359, "mean_processing_ms": 0.09839296911977861, "mean_inference_ms": 0.5686899935718082}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1968128, "num_steps_sampled": 1984000, "sample_time_ms": 4127.394, "load_time_ms": 2.161, "grad_time_ms": 5128.181, "update_time_ms": 7.141, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1359.65966796875, "policy_loss": -0.026452522724866867, "vf_loss": 1359.6839599609375, "vf_explained_var": 0.23438672721385956, "kl": 0.0071938843466341496, "entropy": 0.42979106307029724, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1984000, "episodes_total": 1982, "training_iteration": 496, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-42", "timestamp": 1565600322, "time_this_iter_s": 9.289760112762451, "time_total_s": 5494.525092840195, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5494.525092840195, "timesteps_since_restore": 1984000, "iterations_since_restore": 496, "perf": {"cpu_util_percent": 19.19230769230769, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -736.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1031.98, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49551487234668906, "mean_processing_ms": 0.09835746427437925, "mean_inference_ms": 0.5685551856437082}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1972096, "num_steps_sampled": 1988000, "sample_time_ms": 4133.584, "load_time_ms": 2.03, "grad_time_ms": 5112.924, "update_time_ms": 7.121, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2270.31201171875, "policy_loss": -0.041520312428474426, "vf_loss": 2270.349853515625, "vf_explained_var": 0.49486759305000305, "kl": 0.012739012017846107, "entropy": 0.4867830276489258, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1988000, "episodes_total": 1986, "training_iteration": 497, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-58-51", "timestamp": 1565600331, "time_this_iter_s": 9.18045711517334, "time_total_s": 5503.705549955368, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5503.705549955368, "timesteps_since_restore": 1988000, "iterations_since_restore": 497, "perf": {"cpu_util_percent": 19.384615384615383, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1024.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49537642255787395, "mean_processing_ms": 0.09832193302053095, "mean_inference_ms": 0.5684198110750615}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1976064, "num_steps_sampled": 1992000, "sample_time_ms": 4077.014, "load_time_ms": 2.037, "grad_time_ms": 5113.812, "update_time_ms": 6.915, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1684.2001953125, "policy_loss": -0.04237636551260948, "vf_loss": 1684.2396240234375, "vf_explained_var": 0.45381960272789, "kl": 0.008714287541806698, "entropy": 0.4346490800380707, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1992000, "episodes_total": 1990, "training_iteration": 498, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-00", "timestamp": 1565600340, "time_this_iter_s": 9.267396211624146, "time_total_s": 5512.972946166992, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5512.972946166992, "timesteps_since_restore": 1992000, "iterations_since_restore": 498, "perf": {"cpu_util_percent": 19.323076923076922, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1037.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4952374097628844, "mean_processing_ms": 0.0982867265364871, "mean_inference_ms": 0.5682837347512142}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1980032, "num_steps_sampled": 1996000, "sample_time_ms": 4079.441, "load_time_ms": 2.091, "grad_time_ms": 5123.997, "update_time_ms": 6.833, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4671.6435546875, "policy_loss": -0.052012261003255844, "vf_loss": 4671.69287109375, "vf_explained_var": 0.4687190651893616, "kl": 0.010855555534362793, "entropy": 0.48825782537460327, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 1996000, "episodes_total": 1994, "training_iteration": 499, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-09", "timestamp": 1565600349, "time_this_iter_s": 9.248813390731812, "time_total_s": 5522.221759557724, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5522.221759557724, "timesteps_since_restore": 1996000, "iterations_since_restore": 499, "perf": {"cpu_util_percent": 19.192857142857143, "ram_util_percent": 6.35}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1047.81, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4950971255006537, "mean_processing_ms": 0.09825131318985494, "mean_inference_ms": 0.5681474125041133}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1984000, "num_steps_sampled": 2000000, "sample_time_ms": 4078.742, "load_time_ms": 2.087, "grad_time_ms": 5128.437, "update_time_ms": 6.872, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2327.404296875, "policy_loss": -0.04140771925449371, "vf_loss": 2327.44189453125, "vf_explained_var": 0.46404361724853516, "kl": 0.012006944976747036, "entropy": 0.4908573627471924, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2000000, "episodes_total": 1998, "training_iteration": 500, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-19", "timestamp": 1565600359, "time_this_iter_s": 9.167762994766235, "time_total_s": 5531.38952255249, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5531.38952255249, "timesteps_since_restore": 2000000, "iterations_since_restore": 500, "perf": {"cpu_util_percent": 19.207692307692305, "ram_util_percent": 6.299999999999999}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1050.37, "episode_len_mean": 1001.0, "episodes_this_iter": 3, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49499241634210395, "mean_processing_ms": 0.09822501272180309, "mean_inference_ms": 0.5680463900144335}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1987968, "num_steps_sampled": 2004000, "sample_time_ms": 4088.04, "load_time_ms": 2.067, "grad_time_ms": 5137.509, "update_time_ms": 7.189, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1822.92626953125, "policy_loss": -0.03958715498447418, "vf_loss": 1822.9632568359375, "vf_explained_var": 0.4612644910812378, "kl": 0.009112752042710781, "entropy": 0.45162099599838257, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2004000, "episodes_total": 2001, "training_iteration": 501, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-28", "timestamp": 1565600368, "time_this_iter_s": 9.309446573257446, "time_total_s": 5540.698969125748, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5540.698969125748, "timesteps_since_restore": 2004000, "iterations_since_restore": 501, "perf": {"cpu_util_percent": 19.453846153846154, "ram_util_percent": 6.392307692307693}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1043.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4948506643740359, "mean_processing_ms": 0.09818997712365726, "mean_inference_ms": 0.5679121052040148}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1991936, "num_steps_sampled": 2008000, "sample_time_ms": 4067.185, "load_time_ms": 2.086, "grad_time_ms": 5142.294, "update_time_ms": 7.09, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1355.601806640625, "policy_loss": -0.03914060816168785, "vf_loss": 1355.637939453125, "vf_explained_var": 0.5684784054756165, "kl": 0.009826259687542915, "entropy": 0.4356261193752289, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2008000, "episodes_total": 2005, "training_iteration": 502, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-37", "timestamp": 1565600377, "time_this_iter_s": 9.098479270935059, "time_total_s": 5549.797448396683, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5549.797448396683, "timesteps_since_restore": 2008000, "iterations_since_restore": 502, "perf": {"cpu_util_percent": 19.23076923076923, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1037.7, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4947099954560986, "mean_processing_ms": 0.09815523698361389, "mean_inference_ms": 0.5677764572935261}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1995904, "num_steps_sampled": 2012000, "sample_time_ms": 4051.621, "load_time_ms": 2.088, "grad_time_ms": 5145.529, "update_time_ms": 7.347, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2192.062255859375, "policy_loss": -0.04079120233654976, "vf_loss": 2192.100341796875, "vf_explained_var": 0.45099493861198425, "kl": 0.009284021332859993, "entropy": 0.4574381411075592, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2012000, "episodes_total": 2009, "training_iteration": 503, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-46", "timestamp": 1565600386, "time_this_iter_s": 9.172744274139404, "time_total_s": 5558.970192670822, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5558.970192670822, "timesteps_since_restore": 2012000, "iterations_since_restore": 503, "perf": {"cpu_util_percent": 19.176923076923078, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -1866.0, "episode_reward_mean": -1038.42, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.494569842198522, "mean_processing_ms": 0.09812074979038218, "mean_inference_ms": 0.5676413170757766}, "off_policy_estimator": {}, "info": {"num_steps_trained": 1999872, "num_steps_sampled": 2016000, "sample_time_ms": 4050.483, "load_time_ms": 2.1, "grad_time_ms": 5140.793, "update_time_ms": 7.383, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2430.11669921875, "policy_loss": -0.03844686970114708, "vf_loss": 2430.152587890625, "vf_explained_var": 0.4552404582500458, "kl": 0.008232573047280312, "entropy": 0.44092532992362976, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2016000, "episodes_total": 2013, "training_iteration": 504, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_16-59-55", "timestamp": 1565600395, "time_this_iter_s": 9.205671072006226, "time_total_s": 5568.175863742828, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5568.175863742828, "timesteps_since_restore": 2016000, "iterations_since_restore": 504, "perf": {"cpu_util_percent": 19.623076923076926, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2080.0, "episode_reward_mean": -1060.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49443017593300737, "mean_processing_ms": 0.0980866686516908, "mean_inference_ms": 0.5675070282764864}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2003840, "num_steps_sampled": 2020000, "sample_time_ms": 4060.703, "load_time_ms": 2.247, "grad_time_ms": 5141.865, "update_time_ms": 7.023, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 8749.00390625, "policy_loss": -0.0473756343126297, "vf_loss": 8749.048828125, "vf_explained_var": 0.3862237334251404, "kl": 0.012096652761101723, "entropy": 0.5276222825050354, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2020000, "episodes_total": 2017, "training_iteration": 505, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-05", "timestamp": 1565600405, "time_this_iter_s": 9.266940832138062, "time_total_s": 5577.442804574966, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5577.442804574966, "timesteps_since_restore": 2020000, "iterations_since_restore": 505, "perf": {"cpu_util_percent": 18.69230769230769, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2080.0, "episode_reward_mean": -1069.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4942890374058173, "mean_processing_ms": 0.09805259064303748, "mean_inference_ms": 0.567371840171884}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2007808, "num_steps_sampled": 2024000, "sample_time_ms": 4044.526, "load_time_ms": 2.365, "grad_time_ms": 5141.497, "update_time_ms": 7.125, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1886.11767578125, "policy_loss": -0.02928994409739971, "vf_loss": 1886.144287109375, "vf_explained_var": 0.31863540410995483, "kl": 0.008275981061160564, "entropy": 0.43552467226982117, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2024000, "episodes_total": 2021, "training_iteration": 506, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-14", "timestamp": 1565600414, "time_this_iter_s": 9.126426935195923, "time_total_s": 5586.569231510162, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5586.569231510162, "timesteps_since_restore": 2024000, "iterations_since_restore": 506, "perf": {"cpu_util_percent": 19.13076923076923, "ram_util_percent": 6.36153846153846}}
{"episode_reward_max": -475.0, "episode_reward_min": -2080.0, "episode_reward_mean": -1076.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49414783801406925, "mean_processing_ms": 0.09801843873591037, "mean_inference_ms": 0.5672354362200341}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2011776, "num_steps_sampled": 2028000, "sample_time_ms": 4046.13, "load_time_ms": 2.496, "grad_time_ms": 5129.61, "update_time_ms": 7.45, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3000.84228515625, "policy_loss": -0.038909662514925, "vf_loss": 3000.877685546875, "vf_explained_var": 0.49610158801078796, "kl": 0.009981218725442886, "entropy": 0.4974961578845978, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2028000, "episodes_total": 2025, "training_iteration": 507, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-23", "timestamp": 1565600423, "time_this_iter_s": 9.083783864974976, "time_total_s": 5595.653015375137, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5595.653015375137, "timesteps_since_restore": 2028000, "iterations_since_restore": 507, "perf": {"cpu_util_percent": 20.23846153846154, "ram_util_percent": 6.330769230769231}}
{"episode_reward_max": -475.0, "episode_reward_min": -2080.0, "episode_reward_mean": -1084.79, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49400693061142503, "mean_processing_ms": 0.09798454922185398, "mean_inference_ms": 0.5670993925522105}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2015744, "num_steps_sampled": 2032000, "sample_time_ms": 4042.945, "load_time_ms": 2.49, "grad_time_ms": 5125.995, "update_time_ms": 7.553, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2702.801513671875, "policy_loss": -0.03570139780640602, "vf_loss": 2702.833984375, "vf_explained_var": 0.34673720598220825, "kl": 0.009410290978848934, "entropy": 0.4671512246131897, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2032000, "episodes_total": 2029, "training_iteration": 508, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-32", "timestamp": 1565600432, "time_this_iter_s": 9.200716972351074, "time_total_s": 5604.853732347488, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5604.853732347488, "timesteps_since_restore": 2032000, "iterations_since_restore": 508, "perf": {"cpu_util_percent": 19.321428571428573, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2080.0, "episode_reward_mean": -1090.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.493868136093691, "mean_processing_ms": 0.0979511813908352, "mean_inference_ms": 0.5669672514241072}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2019712, "num_steps_sampled": 2036000, "sample_time_ms": 4063.818, "load_time_ms": 2.338, "grad_time_ms": 5084.988, "update_time_ms": 7.607, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3208.718017578125, "policy_loss": -0.04148758202791214, "vf_loss": 3208.75634765625, "vf_explained_var": 0.41633427143096924, "kl": 0.011218750849366188, "entropy": 0.505126416683197, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2036000, "episodes_total": 2033, "training_iteration": 509, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-41", "timestamp": 1565600441, "time_this_iter_s": 9.04710340499878, "time_total_s": 5613.900835752487, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5613.900835752487, "timesteps_since_restore": 2036000, "iterations_since_restore": 509, "perf": {"cpu_util_percent": 18.883333333333333, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1104.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49373008643293403, "mean_processing_ms": 0.09791782489392681, "mean_inference_ms": 0.5668355168009644}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2023680, "num_steps_sampled": 2040000, "sample_time_ms": 4092.53, "load_time_ms": 2.34, "grad_time_ms": 5072.184, "update_time_ms": 7.598, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 6748.1318359375, "policy_loss": -0.048243388533592224, "vf_loss": 6748.17724609375, "vf_explained_var": 0.3362356424331665, "kl": 0.00953404325991869, "entropy": 0.5049555897712708, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2040000, "episodes_total": 2037, "training_iteration": 510, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-00-51", "timestamp": 1565600451, "time_this_iter_s": 9.326873064041138, "time_total_s": 5623.227708816528, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5623.227708816528, "timesteps_since_restore": 2040000, "iterations_since_restore": 510, "perf": {"cpu_util_percent": 19.928571428571427, "ram_util_percent": 6.378571428571429}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1107.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49358993487815306, "mean_processing_ms": 0.09788433211291396, "mean_inference_ms": 0.5667024425225428}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2027648, "num_steps_sampled": 2044000, "sample_time_ms": 4081.289, "load_time_ms": 2.34, "grad_time_ms": 5070.33, "update_time_ms": 7.4, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3593.3681640625, "policy_loss": -0.03467689827084541, "vf_loss": 3593.400634765625, "vf_explained_var": 0.42651376128196716, "kl": 0.007829985581338406, "entropy": 0.4997588098049164, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2044000, "episodes_total": 2041, "training_iteration": 511, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-00", "timestamp": 1565600460, "time_this_iter_s": 9.17703366279602, "time_total_s": 5632.404742479324, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5632.404742479324, "timesteps_since_restore": 2044000, "iterations_since_restore": 511, "perf": {"cpu_util_percent": 19.553846153846152, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1109.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4934478983194641, "mean_processing_ms": 0.09785065005236643, "mean_inference_ms": 0.5665666028387725}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2031616, "num_steps_sampled": 2048000, "sample_time_ms": 4067.742, "load_time_ms": 2.328, "grad_time_ms": 5056.238, "update_time_ms": 7.364, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2114.4833984375, "policy_loss": -0.03225604444742203, "vf_loss": 2114.51318359375, "vf_explained_var": 0.19567087292671204, "kl": 0.008753777481615543, "entropy": 0.516370952129364, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2048000, "episodes_total": 2045, "training_iteration": 512, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-09", "timestamp": 1565600469, "time_this_iter_s": 8.821374893188477, "time_total_s": 5641.226117372513, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5641.226117372513, "timesteps_since_restore": 2048000, "iterations_since_restore": 512, "perf": {"cpu_util_percent": 18.958333333333332, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1104.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4933022047296341, "mean_processing_ms": 0.09781585666249619, "mean_inference_ms": 0.5664265408712361}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2035584, "num_steps_sampled": 2052000, "sample_time_ms": 4068.077, "load_time_ms": 2.327, "grad_time_ms": 5052.472, "update_time_ms": 7.444, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2096.38671875, "policy_loss": -0.03100758232176304, "vf_loss": 2096.41455078125, "vf_explained_var": 0.19593869149684906, "kl": 0.009438136592507362, "entropy": 0.5111962556838989, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2052000, "episodes_total": 2049, "training_iteration": 513, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-18", "timestamp": 1565600478, "time_this_iter_s": 9.13931941986084, "time_total_s": 5650.365436792374, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5650.365436792374, "timesteps_since_restore": 2052000, "iterations_since_restore": 513, "perf": {"cpu_util_percent": 19.407142857142855, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1106.73, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49315555128373445, "mean_processing_ms": 0.09778112809513914, "mean_inference_ms": 0.5662876593281497}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2039552, "num_steps_sampled": 2056000, "sample_time_ms": 4065.16, "load_time_ms": 2.32, "grad_time_ms": 5062.435, "update_time_ms": 7.185, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2151.293701171875, "policy_loss": -0.027755601331591606, "vf_loss": 2151.31884765625, "vf_explained_var": 0.29869845509529114, "kl": 0.008510497398674488, "entropy": 0.5384159684181213, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2056000, "episodes_total": 2053, "training_iteration": 514, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-27", "timestamp": 1565600487, "time_this_iter_s": 9.27327013015747, "time_total_s": 5659.638706922531, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5659.638706922531, "timesteps_since_restore": 2056000, "iterations_since_restore": 514, "perf": {"cpu_util_percent": 19.03846153846154, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1121.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4930090203606422, "mean_processing_ms": 0.09774687788354125, "mean_inference_ms": 0.5661474028066585}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2043520, "num_steps_sampled": 2060000, "sample_time_ms": 4044.206, "load_time_ms": 2.297, "grad_time_ms": 5060.374, "update_time_ms": 7.243, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3777.879150390625, "policy_loss": -0.03601349517703056, "vf_loss": 3777.911865234375, "vf_explained_var": 0.26531416177749634, "kl": 0.011507322080433369, "entropy": 0.5431649088859558, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2060000, "episodes_total": 2057, "training_iteration": 515, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-36", "timestamp": 1565600496, "time_this_iter_s": 9.03712773323059, "time_total_s": 5668.675834655762, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5668.675834655762, "timesteps_since_restore": 2060000, "iterations_since_restore": 515, "perf": {"cpu_util_percent": 19.407692307692308, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1126.13, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49286332031783914, "mean_processing_ms": 0.09771275903149032, "mean_inference_ms": 0.566009886547544}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2047488, "num_steps_sampled": 2064000, "sample_time_ms": 4063.71, "load_time_ms": 2.3, "grad_time_ms": 5053.466, "update_time_ms": 7.102, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2580.6748046875, "policy_loss": -0.032831449061632156, "vf_loss": 2580.704345703125, "vf_explained_var": 0.30726128816604614, "kl": 0.011164985597133636, "entropy": 0.5316571593284607, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2064000, "episodes_total": 2061, "training_iteration": 516, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-45", "timestamp": 1565600505, "time_this_iter_s": 9.251811265945435, "time_total_s": 5677.927645921707, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5677.927645921707, "timesteps_since_restore": 2064000, "iterations_since_restore": 516, "perf": {"cpu_util_percent": 18.484615384615385, "ram_util_percent": 6.3538461538461535}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1129.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4927169451442614, "mean_processing_ms": 0.09767859490320095, "mean_inference_ms": 0.5658718345247581}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2051456, "num_steps_sampled": 2068000, "sample_time_ms": 4050.042, "load_time_ms": 2.302, "grad_time_ms": 5058.467, "update_time_ms": 6.749, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2792.5400390625, "policy_loss": -0.028268130496144295, "vf_loss": 2792.564453125, "vf_explained_var": 0.33336856961250305, "kl": 0.010736419819295406, "entropy": 0.544389009475708, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2068000, "episodes_total": 2065, "training_iteration": 517, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-01-54", "timestamp": 1565600514, "time_this_iter_s": 8.993913173675537, "time_total_s": 5686.921559095383, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5686.921559095383, "timesteps_since_restore": 2068000, "iterations_since_restore": 517, "perf": {"cpu_util_percent": 20.123076923076926, "ram_util_percent": 6.353846153846154}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1136.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49257014880595434, "mean_processing_ms": 0.09764449973262732, "mean_inference_ms": 0.5657339208188215}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2055424, "num_steps_sampled": 2072000, "sample_time_ms": 4049.661, "load_time_ms": 2.311, "grad_time_ms": 5058.218, "update_time_ms": 6.741, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2544.94091796875, "policy_loss": -0.02638154663145542, "vf_loss": 2544.965087890625, "vf_explained_var": 0.2695568799972534, "kl": 0.008419258520007133, "entropy": 0.5106449127197266, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2072000, "episodes_total": 2069, "training_iteration": 518, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-04", "timestamp": 1565600524, "time_this_iter_s": 9.194167375564575, "time_total_s": 5696.115726470947, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5696.115726470947, "timesteps_since_restore": 2072000, "iterations_since_restore": 518, "perf": {"cpu_util_percent": 18.523076923076925, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1142.25, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49242186891235745, "mean_processing_ms": 0.09761051846177615, "mean_inference_ms": 0.5655935730079443}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2059392, "num_steps_sampled": 2076000, "sample_time_ms": 4015.108, "load_time_ms": 2.427, "grad_time_ms": 5098.716, "update_time_ms": 6.739, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2484.491455078125, "policy_loss": -0.030107367783784866, "vf_loss": 2484.51904296875, "vf_explained_var": 0.2713819146156311, "kl": 0.00914835650473833, "entropy": 0.512805700302124, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2076000, "episodes_total": 2073, "training_iteration": 519, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-13", "timestamp": 1565600533, "time_this_iter_s": 9.106901168823242, "time_total_s": 5705.2226276397705, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5705.2226276397705, "timesteps_since_restore": 2076000, "iterations_since_restore": 519, "perf": {"cpu_util_percent": 19.16923076923077, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1145.81, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4922735008505378, "mean_processing_ms": 0.09757664891996408, "mean_inference_ms": 0.5654518938707583}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2063360, "num_steps_sampled": 2080000, "sample_time_ms": 3980.973, "load_time_ms": 2.417, "grad_time_ms": 5102.78, "update_time_ms": 6.745, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3578.046875, "policy_loss": -0.0345689095556736, "vf_loss": 3578.078369140625, "vf_explained_var": 0.3027525544166565, "kl": 0.010476558469235897, "entropy": 0.5060186982154846, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2080000, "episodes_total": 2077, "training_iteration": 520, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-22", "timestamp": 1565600542, "time_this_iter_s": 9.023353338241577, "time_total_s": 5714.245980978012, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5714.245980978012, "timesteps_since_restore": 2080000, "iterations_since_restore": 520, "perf": {"cpu_util_percent": 19.792307692307695, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1151.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4921286289386185, "mean_processing_ms": 0.09754374671063556, "mean_inference_ms": 0.5653146922772078}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2067328, "num_steps_sampled": 2084000, "sample_time_ms": 4029.263, "load_time_ms": 2.381, "grad_time_ms": 5102.263, "update_time_ms": 6.806, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2602.822998046875, "policy_loss": -0.030463388189673424, "vf_loss": 2602.850341796875, "vf_explained_var": 0.3608715832233429, "kl": 0.010117760859429836, "entropy": 0.47854647040367126, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2084000, "episodes_total": 2081, "training_iteration": 521, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-31", "timestamp": 1565600551, "time_this_iter_s": 9.655091047286987, "time_total_s": 5723.901072025299, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5723.901072025299, "timesteps_since_restore": 2084000, "iterations_since_restore": 521, "perf": {"cpu_util_percent": 20.03846153846154, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -475.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1149.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49198403671188523, "mean_processing_ms": 0.0975109928801979, "mean_inference_ms": 0.56517896254521}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2071296, "num_steps_sampled": 2088000, "sample_time_ms": 4066.954, "load_time_ms": 2.414, "grad_time_ms": 5113.864, "update_time_ms": 7.053, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 4479.71044921875, "policy_loss": -0.04303251951932907, "vf_loss": 4479.75, "vf_explained_var": 0.38414743542671204, "kl": 0.011680318973958492, "entropy": 0.5175395607948303, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2088000, "episodes_total": 2085, "training_iteration": 522, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-41", "timestamp": 1565600561, "time_this_iter_s": 9.31586503982544, "time_total_s": 5733.2169370651245, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5733.2169370651245, "timesteps_since_restore": 2088000, "iterations_since_restore": 522, "perf": {"cpu_util_percent": 21.014285714285716, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -565.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1162.73, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49184021479854506, "mean_processing_ms": 0.09747854364312872, "mean_inference_ms": 0.5650431146655631}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2075264, "num_steps_sampled": 2092000, "sample_time_ms": 4075.741, "load_time_ms": 2.427, "grad_time_ms": 5114.935, "update_time_ms": 6.873, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2403.323974609375, "policy_loss": -0.03439898416399956, "vf_loss": 2403.355712890625, "vf_explained_var": 0.21465608477592468, "kl": 0.009965931996703148, "entropy": 0.49570873379707336, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2092000, "episodes_total": 2089, "training_iteration": 523, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-50", "timestamp": 1565600570, "time_this_iter_s": 9.23643183708191, "time_total_s": 5742.453368902206, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5742.453368902206, "timesteps_since_restore": 2092000, "iterations_since_restore": 523, "perf": {"cpu_util_percent": 20.915384615384617, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -565.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1152.31, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4916968771843685, "mean_processing_ms": 0.0974462777948199, "mean_inference_ms": 0.5649083577174014}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2079232, "num_steps_sampled": 2096000, "sample_time_ms": 4070.59, "load_time_ms": 2.427, "grad_time_ms": 5125.984, "update_time_ms": 7.171, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1938.1690673828125, "policy_loss": -0.026415495201945305, "vf_loss": 1938.1934814453125, "vf_explained_var": 0.2149381786584854, "kl": 0.007630135864019394, "entropy": 0.44035372138023376, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2096000, "episodes_total": 2093, "training_iteration": 524, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-02-59", "timestamp": 1565600579, "time_this_iter_s": 9.335784435272217, "time_total_s": 5751.789153337479, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5751.789153337479, "timesteps_since_restore": 2096000, "iterations_since_restore": 524, "perf": {"cpu_util_percent": 19.815384615384616, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -565.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1142.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4915564460640478, "mean_processing_ms": 0.09741442103711108, "mean_inference_ms": 0.5647765720656532}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2083200, "num_steps_sampled": 2100000, "sample_time_ms": 4107.736, "load_time_ms": 2.432, "grad_time_ms": 5133.127, "update_time_ms": 7.351, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 2963.8349609375, "policy_loss": -0.031620584428310394, "vf_loss": 2963.864013671875, "vf_explained_var": 0.3165057599544525, "kl": 0.00926048494875431, "entropy": 0.4593298137187958, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2100000, "episodes_total": 2097, "training_iteration": 525, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-03-09", "timestamp": 1565600589, "time_this_iter_s": 9.482001543045044, "time_total_s": 5761.271154880524, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5761.271154880524, "timesteps_since_restore": 2100000, "iterations_since_restore": 525, "perf": {"cpu_util_percent": 20.228571428571428, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -565.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1128.8, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49141629679235704, "mean_processing_ms": 0.09738245232446147, "mean_inference_ms": 0.5646441013169503}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2087168, "num_steps_sampled": 2104000, "sample_time_ms": 4092.951, "load_time_ms": 2.3, "grad_time_ms": 5143.117, "update_time_ms": 7.299, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 1926.6207275390625, "policy_loss": -0.027146656066179276, "vf_loss": 1926.6453857421875, "vf_explained_var": 0.22088176012039185, "kl": 0.007775329519063234, "entropy": 0.4207623600959778, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2104000, "episodes_total": 2101, "training_iteration": 526, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-03-18", "timestamp": 1565600598, "time_this_iter_s": 9.200917720794678, "time_total_s": 5770.472072601318, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5770.472072601318, "timesteps_since_restore": 2104000, "iterations_since_restore": 526, "perf": {"cpu_util_percent": 20.115384615384617, "ram_util_percent": 6.400000000000001}}
{"episode_reward_max": -565.0, "episode_reward_min": -2123.0, "episode_reward_mean": -1130.53, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4912827375406449, "mean_processing_ms": 0.09735118942124071, "mean_inference_ms": 0.564514890333258}, "off_policy_estimator": {}, "info": {"num_steps_trained": 2091136, "num_steps_sampled": 2108000, "sample_time_ms": 4119.227, "load_time_ms": 2.174, "grad_time_ms": 5160.295, "update_time_ms": 7.51, "learner": {"default_policy": {"cur_kl_coeff": 0.30000001192092896, "cur_lr": 4.999999873689376e-05, "total_loss": 3077.52197265625, "policy_loss": -0.03477029129862785, "vf_loss": 3077.553955078125, "vf_explained_var": 0.34240955114364624, "kl": 0.010302792303264141, "entropy": 0.455026775598526, "entropy_coeff": 0.0}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 2108000, "episodes_total": 2105, "training_iteration": 527, "experiment_id": "cc540e0d422c4c14948f334a84dba876", "date": "2019-08-12_17-03-27", "timestamp": 1565600607, "time_this_iter_s": 9.428798913955688, "time_total_s": 5779.900871515274, "pid": 68841, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "log_sys_usage": true, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "state_shape": null, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "shuffle_sequences": true, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false}, "time_since_restore": 5779.900871515274, "timesteps_since_restore": 2108000, "iterations_since_restore": 527, "perf": {"cpu_util_percent": 19.97692307692308, "ram_util_percent": 6.400000000000001}}
