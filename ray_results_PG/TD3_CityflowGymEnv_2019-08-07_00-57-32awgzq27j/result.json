{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 1000, "num_steps_trained": 0, "num_steps_sampled": 1000, "sample_time_ms": 17.376, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 13.208, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 1000, "episodes_total": 0, "training_iteration": 1, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_00-58-11", "timestamp": 1565139491, "time_this_iter_s": 34.30554795265198, "time_total_s": 34.30554795265198, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 34.30554795265198, "timesteps_since_restore": 1000, "iterations_since_restore": 1}
{"episode_reward_max": -8352.0, "episode_reward_min": -8352.0, "episode_reward_mean": -8352.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1628456554193605, "mean_processing_ms": 0.47047289534248987, "mean_inference_ms": 1.2836938855172633}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 2000, "num_steps_trained": 0, "num_steps_sampled": 2000, "sample_time_ms": 13.547, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 10.487, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 2000, "episodes_total": 1, "training_iteration": 2, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_00-58-41", "timestamp": 1565139521, "time_this_iter_s": 29.56393003463745, "time_total_s": 63.86947798728943, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 63.86947798728943, "timesteps_since_restore": 2000, "iterations_since_restore": 2}
{"episode_reward_max": -5284.0, "episode_reward_min": -8352.0, "episode_reward_mean": -6818.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1602021890697163, "mean_processing_ms": 0.46984839331450623, "mean_inference_ms": 1.270354663988091}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 3000, "num_steps_trained": 0, "num_steps_sampled": 3000, "sample_time_ms": 14.96, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 12.54, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 3000, "episodes_total": 2, "training_iteration": 3, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_00-59-09", "timestamp": 1565139549, "time_this_iter_s": 28.61020040512085, "time_total_s": 92.47967839241028, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 92.47967839241028, "timesteps_since_restore": 3000, "iterations_since_restore": 3}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8501.666666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1629139541150644, "mean_processing_ms": 0.4703500462478532, "mean_inference_ms": 1.2584668898153097}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 4000, "num_steps_trained": 0, "num_steps_sampled": 4000, "sample_time_ms": 14.056, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 12.946, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 4000, "episodes_total": 3, "training_iteration": 4, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_00-59-37", "timestamp": 1565139577, "time_this_iter_s": 27.91009211540222, "time_total_s": 120.3897705078125, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 120.3897705078125, "timesteps_since_restore": 4000, "iterations_since_restore": 4}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8697.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1554941571461734, "mean_processing_ms": 0.4686894568759148, "mean_inference_ms": 1.2485005552999469}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 5000, "num_steps_trained": 0, "num_steps_sampled": 5000, "sample_time_ms": 12.137, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 12.713, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 5000, "episodes_total": 4, "training_iteration": 5, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-00-04", "timestamp": 1565139604, "time_this_iter_s": 26.989075183868408, "time_total_s": 147.3788456916809, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 147.3788456916809, "timesteps_since_restore": 5000, "iterations_since_restore": 5}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8572.8, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.170034723532452, "mean_processing_ms": 0.4725570090219858, "mean_inference_ms": 1.2530852255499043}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 6000, "num_steps_trained": 0, "num_steps_sampled": 6000, "sample_time_ms": 15.764, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 13.393, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 6000, "episodes_total": 5, "training_iteration": 6, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-00-41", "timestamp": 1565139641, "time_this_iter_s": 36.93948221206665, "time_total_s": 184.31832790374756, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 184.31832790374756, "timesteps_since_restore": 6000, "iterations_since_restore": 6}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8123.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1805246981133277, "mean_processing_ms": 0.4757034672438887, "mean_inference_ms": 1.2574814196487238}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 7000, "num_steps_trained": 0, "num_steps_sampled": 7000, "sample_time_ms": 11.276, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 8.539, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 7000, "episodes_total": 6, "training_iteration": 7, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-01-12", "timestamp": 1565139672, "time_this_iter_s": 30.455432653427124, "time_total_s": 214.77376055717468, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 214.77376055717468, "timesteps_since_restore": 7000, "iterations_since_restore": 7}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8444.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.186608820425237, "mean_processing_ms": 0.47741829612529624, "mean_inference_ms": 1.2596199754032933}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 8000, "num_steps_trained": 0, "num_steps_sampled": 8000, "sample_time_ms": 15.434, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 13.045, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 8000, "episodes_total": 7, "training_iteration": 8, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-01-40", "timestamp": 1565139700, "time_this_iter_s": 28.003498077392578, "time_total_s": 242.77725863456726, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 242.77725863456726, "timesteps_since_restore": 8000, "iterations_since_restore": 8}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8361.375, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1898114910278412, "mean_processing_ms": 0.4786358616810231, "mean_inference_ms": 1.261104939138101}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 9000, "num_steps_trained": 0, "num_steps_sampled": 9000, "sample_time_ms": 13.474, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 13.141, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 9000, "episodes_total": 8, "training_iteration": 9, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-02-09", "timestamp": 1565139729, "time_this_iter_s": 29.279961347579956, "time_total_s": 272.0572199821472, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 272.0572199821472, "timesteps_since_restore": 9000, "iterations_since_restore": 9}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8269.333333333334, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1910744594853835, "mean_processing_ms": 0.4792860021831767, "mean_inference_ms": 1.2616079696164664}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 10000, "num_steps_trained": 0, "num_steps_sampled": 10000, "sample_time_ms": 15.429, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 10.934, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 10000, "episodes_total": 9, "training_iteration": 10, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-02-37", "timestamp": 1565139757, "time_this_iter_s": 28.24374747276306, "time_total_s": 300.3009674549103, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 300.3009674549103, "timesteps_since_restore": 10000, "iterations_since_restore": 10}
{"episode_reward_max": -5284.0, "episode_reward_min": -11869.0, "episode_reward_mean": -8483.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.192022045796569, "mean_processing_ms": 0.4791645922121067, "mean_inference_ms": 1.2601374346502945}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 11000, "num_steps_trained": 100000, "num_steps_sampled": 11000, "sample_time_ms": 12.828, "replay_time_ms": 19.572, "grad_time_ms": 10.29, "update_time_ms": 10.909, "opt_peak_throughput": 9718.486, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -82.40185546875, "max_q": -1.4522056579589844, "min_q": -487.53314208984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 11000, "episodes_total": 10, "training_iteration": 11, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-03-32", "timestamp": 1565139812, "time_this_iter_s": 55.019131660461426, "time_total_s": 355.3200991153717, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 355.3200991153717, "timesteps_since_restore": 11000, "iterations_since_restore": 11}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -12920.818181818182, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1925134143963922, "mean_processing_ms": 0.4787813168839485, "mean_inference_ms": 1.257575139389673}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 12000, "num_steps_trained": 200000, "num_steps_sampled": 12000, "sample_time_ms": 11.995, "replay_time_ms": 16.461, "grad_time_ms": 10.08, "update_time_ms": 11.533, "opt_peak_throughput": 9921.03, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -172.81417846679688, "max_q": -3.9410054683685303, "min_q": -821.3486328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 12000, "episodes_total": 11, "training_iteration": 12, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-04-28", "timestamp": 1565139868, "time_this_iter_s": 55.26367783546448, "time_total_s": 410.5837769508362, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 410.5837769508362, "timesteps_since_restore": 12000, "iterations_since_restore": 12}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -16618.583333333332, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.193353473789744, "mean_processing_ms": 0.47820134524895025, "mean_inference_ms": 1.2546004906997223}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 13000, "num_steps_trained": 300000, "num_steps_sampled": 13000, "sample_time_ms": 11.1, "replay_time_ms": 16.152, "grad_time_ms": 9.306, "update_time_ms": 11.078, "opt_peak_throughput": 10745.23, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -263.06488037109375, "max_q": -7.316979885101318, "min_q": -1150.5897216796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 13000, "episodes_total": 12, "training_iteration": 13, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-05-24", "timestamp": 1565139924, "time_this_iter_s": 55.85765981674194, "time_total_s": 466.4414367675781, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 466.4414367675781, "timesteps_since_restore": 13000, "iterations_since_restore": 13}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -19747.46153846154, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.194100935912059, "mean_processing_ms": 0.47746696219584817, "mean_inference_ms": 1.2512585186011367}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 14000, "num_steps_trained": 400000, "num_steps_sampled": 14000, "sample_time_ms": 12.679, "replay_time_ms": 16.933, "grad_time_ms": 9.861, "update_time_ms": 12.287, "opt_peak_throughput": 10141.261, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -422.1532287597656, "max_q": -13.231409072875977, "min_q": -1452.0294189453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 14000, "episodes_total": 13, "training_iteration": 14, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-06-19", "timestamp": 1565139979, "time_this_iter_s": 55.306498527526855, "time_total_s": 521.747935295105, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 521.747935295105, "timesteps_since_restore": 14000, "iterations_since_restore": 14}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -22429.35714285714, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.195644020334648, "mean_processing_ms": 0.4768913201995186, "mean_inference_ms": 1.248323429270174}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 15000, "num_steps_trained": 500000, "num_steps_sampled": 15000, "sample_time_ms": 11.617, "replay_time_ms": 16.337, "grad_time_ms": 8.951, "update_time_ms": 9.89, "opt_peak_throughput": 11171.792, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -558.49853515625, "max_q": -19.858806610107422, "min_q": -1769.1929931640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 15000, "episodes_total": 14, "training_iteration": 15, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-07-19", "timestamp": 1565140039, "time_this_iter_s": 60.37468504905701, "time_total_s": 582.122620344162, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 582.122620344162, "timesteps_since_restore": 15000, "iterations_since_restore": 15}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -24753.666666666668, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.197075312430765, "mean_processing_ms": 0.47637459316172354, "mean_inference_ms": 1.2456920008936385}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 16000, "num_steps_trained": 600000, "num_steps_sampled": 16000, "sample_time_ms": 19.246, "replay_time_ms": 31.272, "grad_time_ms": 11.466, "update_time_ms": 16.535, "opt_peak_throughput": 8721.562, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -669.4091186523438, "max_q": -28.01280975341797, "min_q": -2012.0333251953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 16000, "episodes_total": 15, "training_iteration": 16, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-08-20", "timestamp": 1565140100, "time_this_iter_s": 61.165436029434204, "time_total_s": 643.2880563735962, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 643.2880563735962, "timesteps_since_restore": 16000, "iterations_since_restore": 16}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -24902.1875, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1980201365804883, "mean_processing_ms": 0.4759127082577873, "mean_inference_ms": 1.24333025683607}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 17000, "num_steps_trained": 700000, "num_steps_sampled": 17000, "sample_time_ms": 10.358, "replay_time_ms": 17.747, "grad_time_ms": 9.007, "update_time_ms": 10.801, "opt_peak_throughput": 11102.269, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -704.2239990234375, "max_q": -39.12733840942383, "min_q": -2170.295166015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 17000, "episodes_total": 16, "training_iteration": 17, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-09-21", "timestamp": 1565140161, "time_this_iter_s": 60.74799585342407, "time_total_s": 704.0360522270203, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 704.0360522270203, "timesteps_since_restore": 17000, "iterations_since_restore": 17}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -23804.41176470588, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.198029188284437, "mean_processing_ms": 0.47548351828429625, "mean_inference_ms": 1.2410761147995737}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 18000, "num_steps_trained": 800000, "num_steps_sampled": 18000, "sample_time_ms": 15.035, "replay_time_ms": 27.144, "grad_time_ms": 11.932, "update_time_ms": 15.996, "opt_peak_throughput": 8380.864, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -758.3074340820312, "max_q": -37.58870315551758, "min_q": -2417.626953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 18000, "episodes_total": 17, "training_iteration": 18, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-10-21", "timestamp": 1565140221, "time_this_iter_s": 60.237616539001465, "time_total_s": 764.2736687660217, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 764.2736687660217, "timesteps_since_restore": 18000, "iterations_since_restore": 18}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -22916.444444444445, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.197720266407716, "mean_processing_ms": 0.4751109033528345, "mean_inference_ms": 1.23906109713024}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 19000, "num_steps_trained": 900000, "num_steps_sampled": 19000, "sample_time_ms": 13.278, "replay_time_ms": 18.316, "grad_time_ms": 11.597, "update_time_ms": 11.423, "opt_peak_throughput": 8623.247, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -781.2286987304688, "max_q": -46.12684631347656, "min_q": -2509.666259765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 19000, "episodes_total": 18, "training_iteration": 19, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-11-25", "timestamp": 1565140285, "time_this_iter_s": 63.52950859069824, "time_total_s": 827.80317735672, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 827.80317735672, "timesteps_since_restore": 19000, "iterations_since_restore": 19}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -21995.736842105263, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.197231983225114, "mean_processing_ms": 0.47483106223970933, "mean_inference_ms": 1.2374476710843176}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 20000, "num_steps_trained": 1000000, "num_steps_sampled": 20000, "sample_time_ms": 14.9, "replay_time_ms": 24.976, "grad_time_ms": 11.42, "update_time_ms": 13.621, "opt_peak_throughput": 8756.193, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -826.1306762695312, "max_q": -62.21962356567383, "min_q": -2687.083984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 20000, "episodes_total": 19, "training_iteration": 20, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-12-30", "timestamp": 1565140350, "time_this_iter_s": 65.32061886787415, "time_total_s": 893.1237962245941, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 893.1237962245941, "timesteps_since_restore": 20000, "iterations_since_restore": 20}
{"episode_reward_max": -5284.0, "episode_reward_min": -57294.0, "episode_reward_mean": -21294.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1960603078205265, "mean_processing_ms": 0.4745526855405937, "mean_inference_ms": 1.2358363162164248}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 21000, "num_steps_trained": 1100000, "num_steps_sampled": 21000, "sample_time_ms": 9.26, "replay_time_ms": 16.366, "grad_time_ms": 10.492, "update_time_ms": 12.464, "opt_peak_throughput": 9531.166, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -783.8096923828125, "max_q": -73.219970703125, "min_q": -2721.121826171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 21000, "episodes_total": 20, "training_iteration": 21, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-13-29", "timestamp": 1565140409, "time_this_iter_s": 59.124268531799316, "time_total_s": 952.2480647563934, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 952.2480647563934, "timesteps_since_restore": 21000, "iterations_since_restore": 21}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -20529.333333333332, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1955330718446473, "mean_processing_ms": 0.47438917012476883, "mean_inference_ms": 1.2348473627293766}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 22000, "num_steps_trained": 1200000, "num_steps_sampled": 22000, "sample_time_ms": 23.817, "replay_time_ms": 40.247, "grad_time_ms": 16.176, "update_time_ms": 19.042, "opt_peak_throughput": 6181.913, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -718.7227172851562, "max_q": -94.88050842285156, "min_q": -2776.99560546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 22000, "episodes_total": 21, "training_iteration": 22, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-14-39", "timestamp": 1565140479, "time_this_iter_s": 69.34770894050598, "time_total_s": 1021.5957736968994, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1021.5957736968994, "timesteps_since_restore": 22000, "iterations_since_restore": 22}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -20009.863636363636, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1949857732441647, "mean_processing_ms": 0.4743123655570995, "mean_inference_ms": 1.2341895357229666}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 23000, "num_steps_trained": 1300000, "num_steps_sampled": 23000, "sample_time_ms": 11.179, "replay_time_ms": 18.618, "grad_time_ms": 12.476, "update_time_ms": 14.12, "opt_peak_throughput": 8015.15, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -860.65087890625, "max_q": -95.31881713867188, "min_q": -2867.498779296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 23000, "episodes_total": 22, "training_iteration": 23, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-15-46", "timestamp": 1565140546, "time_this_iter_s": 66.86602354049683, "time_total_s": 1088.4617972373962, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1088.4617972373962, "timesteps_since_restore": 23000, "iterations_since_restore": 23}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -19465.434782608696, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1942466563233918, "mean_processing_ms": 0.4743330213940917, "mean_inference_ms": 1.233647201352008}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 24000, "num_steps_trained": 1400000, "num_steps_sampled": 24000, "sample_time_ms": 17.396, "replay_time_ms": 22.431, "grad_time_ms": 14.208, "update_time_ms": 14.481, "opt_peak_throughput": 7038.131, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -820.59326171875, "max_q": -114.42369079589844, "min_q": -2833.227294921875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 24000, "episodes_total": 23, "training_iteration": 24, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-16-49", "timestamp": 1565140609, "time_this_iter_s": 62.84656858444214, "time_total_s": 1151.3083658218384, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1151.3083658218384, "timesteps_since_restore": 24000, "iterations_since_restore": 24}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -18934.958333333332, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1931198014686886, "mean_processing_ms": 0.47432125283989696, "mean_inference_ms": 1.2331199668776989}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 25000, "num_steps_trained": 1500000, "num_steps_sampled": 25000, "sample_time_ms": 13.948, "replay_time_ms": 23.579, "grad_time_ms": 12.768, "update_time_ms": 14.65, "opt_peak_throughput": 7832.135, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -783.5462646484375, "max_q": -124.14655303955078, "min_q": -2906.732177734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 25000, "episodes_total": 24, "training_iteration": 25, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-17-50", "timestamp": 1565140670, "time_this_iter_s": 61.32256031036377, "time_total_s": 1212.6309261322021, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1212.6309261322021, "timesteps_since_restore": 25000, "iterations_since_restore": 25}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -18470.8, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.191820695149464, "mean_processing_ms": 0.47427171570094373, "mean_inference_ms": 1.23264826787198}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 26000, "num_steps_trained": 1600000, "num_steps_sampled": 26000, "sample_time_ms": 13.312, "replay_time_ms": 22.821, "grad_time_ms": 11.426, "update_time_ms": 15.189, "opt_peak_throughput": 8751.991, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -878.608642578125, "max_q": -134.35130310058594, "min_q": -2964.3935546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 26000, "episodes_total": 25, "training_iteration": 26, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-18-49", "timestamp": 1565140729, "time_this_iter_s": 59.092387199401855, "time_total_s": 1271.723313331604, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1271.723313331604, "timesteps_since_restore": 26000, "iterations_since_restore": 26}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -17961.80769230769, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1900798786118054, "mean_processing_ms": 0.4741463727586904, "mean_inference_ms": 1.2320460135210518}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 27000, "num_steps_trained": 1700000, "num_steps_sampled": 27000, "sample_time_ms": 10.823, "replay_time_ms": 16.729, "grad_time_ms": 11.233, "update_time_ms": 11.874, "opt_peak_throughput": 8902.25, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -764.576904296875, "max_q": -142.06781005859375, "min_q": -2922.976318359375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 27000, "episodes_total": 26, "training_iteration": 27, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-19-46", "timestamp": 1565140786, "time_this_iter_s": 57.34777641296387, "time_total_s": 1329.0710897445679, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1329.0710897445679, "timesteps_since_restore": 27000, "iterations_since_restore": 27}
{"episode_reward_max": -5218.0, "episode_reward_min": -57294.0, "episode_reward_mean": -17505.777777777777, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1882466275350483, "mean_processing_ms": 0.4740391363236328, "mean_inference_ms": 1.2314807725199093}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 28000, "num_steps_trained": 1800000, "num_steps_sampled": 28000, "sample_time_ms": 12.937, "replay_time_ms": 23.075, "grad_time_ms": 13.101, "update_time_ms": 13.466, "opt_peak_throughput": 7633.224, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -713.9097900390625, "max_q": -154.34146118164062, "min_q": -2917.341064453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 28000, "episodes_total": 27, "training_iteration": 28, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-20-47", "timestamp": 1565140847, "time_this_iter_s": 60.643786907196045, "time_total_s": 1389.714876651764, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1389.714876651764, "timesteps_since_restore": 28000, "iterations_since_restore": 28}
{"episode_reward_max": -2496.0, "episode_reward_min": -57294.0, "episode_reward_mean": -16969.714285714286, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.186612079638978, "mean_processing_ms": 0.4739826769962436, "mean_inference_ms": 1.2310900322189855}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 29000, "num_steps_trained": 1900000, "num_steps_sampled": 29000, "sample_time_ms": 10.761, "replay_time_ms": 16.262, "grad_time_ms": 9.743, "update_time_ms": 12.031, "opt_peak_throughput": 10263.278, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -700.5357666015625, "max_q": -155.1045684814453, "min_q": -2977.538330078125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 29000, "episodes_total": 28, "training_iteration": 29, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-21-57", "timestamp": 1565140917, "time_this_iter_s": 70.07897663116455, "time_total_s": 1459.7938532829285, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1459.7938532829285, "timesteps_since_restore": 29000, "iterations_since_restore": 29}
{"episode_reward_max": -2496.0, "episode_reward_min": -57294.0, "episode_reward_mean": -16545.655172413793, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1848716266482664, "mean_processing_ms": 0.4738920946114688, "mean_inference_ms": 1.2306220962832108}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 30000, "num_steps_trained": 2000000, "num_steps_sampled": 30000, "sample_time_ms": 11.72, "replay_time_ms": 19.74, "grad_time_ms": 13.31, "update_time_ms": 16.054, "opt_peak_throughput": 7513.025, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -667.6666259765625, "max_q": -160.21804809570312, "min_q": -2960.3818359375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 30000, "episodes_total": 29, "training_iteration": 30, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-22-56", "timestamp": 1565140976, "time_this_iter_s": 58.76350688934326, "time_total_s": 1518.5573601722717, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1518.5573601722717, "timesteps_since_restore": 30000, "iterations_since_restore": 30}
{"episode_reward_max": -2496.0, "episode_reward_min": -57294.0, "episode_reward_mean": -16092.966666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1830410732611734, "mean_processing_ms": 0.47375546943332725, "mean_inference_ms": 1.2300849972578118}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 31000, "num_steps_trained": 2100000, "num_steps_sampled": 31000, "sample_time_ms": 13.132, "replay_time_ms": 21.585, "grad_time_ms": 11.817, "update_time_ms": 14.573, "opt_peak_throughput": 8462.588, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -592.616455078125, "max_q": -170.16287231445312, "min_q": -3056.22412109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 31000, "episodes_total": 30, "training_iteration": 31, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-23-57", "timestamp": 1565141037, "time_this_iter_s": 60.8529372215271, "time_total_s": 1579.4102973937988, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1579.4102973937988, "timesteps_since_restore": 31000, "iterations_since_restore": 31}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -15651.354838709678, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1810970049112086, "mean_processing_ms": 0.4736070061587234, "mean_inference_ms": 1.2295223611906494}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 32000, "num_steps_trained": 2200000, "num_steps_sampled": 32000, "sample_time_ms": 10.89, "replay_time_ms": 19.863, "grad_time_ms": 10.613, "update_time_ms": 14.118, "opt_peak_throughput": 9422.734, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -704.9334106445312, "max_q": -182.6709442138672, "min_q": -3087.107421875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 32000, "episodes_total": 31, "training_iteration": 32, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-24-57", "timestamp": 1565141097, "time_this_iter_s": 60.10675382614136, "time_total_s": 1639.5170512199402, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1639.5170512199402, "timesteps_since_restore": 32000, "iterations_since_restore": 32}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -15283.71875, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1790078792199306, "mean_processing_ms": 0.4734430192108459, "mean_inference_ms": 1.2289401971488032}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 33000, "num_steps_trained": 2300000, "num_steps_sampled": 33000, "sample_time_ms": 12.832, "replay_time_ms": 19.319, "grad_time_ms": 10.347, "update_time_ms": 15.168, "opt_peak_throughput": 9664.918, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -709.1182861328125, "max_q": -193.5918731689453, "min_q": -3089.183349609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 33000, "episodes_total": 32, "training_iteration": 33, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-25-56", "timestamp": 1565141156, "time_this_iter_s": 59.00116443634033, "time_total_s": 1698.5182156562805, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1698.5182156562805, "timesteps_since_restore": 33000, "iterations_since_restore": 33}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -14919.181818181818, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.176775264710488, "mean_processing_ms": 0.4732697061053005, "mean_inference_ms": 1.228400583116885}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 34000, "num_steps_trained": 2400000, "num_steps_sampled": 34000, "sample_time_ms": 11.001, "replay_time_ms": 16.234, "grad_time_ms": 10.297, "update_time_ms": 10.855, "opt_peak_throughput": 9711.825, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -644.5151977539062, "max_q": -194.3524932861328, "min_q": -3119.538330078125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 34000, "episodes_total": 33, "training_iteration": 34, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-26-55", "timestamp": 1565141215, "time_this_iter_s": 59.451411962509155, "time_total_s": 1757.9696276187897, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1757.9696276187897, "timesteps_since_restore": 34000, "iterations_since_restore": 34}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -14561.441176470587, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.174507922512592, "mean_processing_ms": 0.47309592741029244, "mean_inference_ms": 1.2278595837296988}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 35000, "num_steps_trained": 2500000, "num_steps_sampled": 35000, "sample_time_ms": 17.419, "replay_time_ms": 27.998, "grad_time_ms": 12.426, "update_time_ms": 14.425, "opt_peak_throughput": 8047.337, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -623.174560546875, "max_q": -207.12918090820312, "min_q": -3143.885986328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 35000, "episodes_total": 34, "training_iteration": 35, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-27-55", "timestamp": 1565141275, "time_this_iter_s": 59.5822639465332, "time_total_s": 1817.5518915653229, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1817.5518915653229, "timesteps_since_restore": 35000, "iterations_since_restore": 35}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -14351.485714285714, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1723081993570825, "mean_processing_ms": 0.4729370062812394, "mean_inference_ms": 1.2274112085879392}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 36000, "num_steps_trained": 2600000, "num_steps_sampled": 36000, "sample_time_ms": 15.321, "replay_time_ms": 29.482, "grad_time_ms": 13.18, "update_time_ms": 15.728, "opt_peak_throughput": 7587.024, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -803.87841796875, "max_q": -217.9869384765625, "min_q": -3118.029541015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 36000, "episodes_total": 35, "training_iteration": 36, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-28-58", "timestamp": 1565141338, "time_this_iter_s": 63.177146673202515, "time_total_s": 1880.7290382385254, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1880.7290382385254, "timesteps_since_restore": 36000, "iterations_since_restore": 36}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -14028.055555555555, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.169969704356287, "mean_processing_ms": 0.47277129875018986, "mean_inference_ms": 1.226949414737315}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 37000, "num_steps_trained": 2700000, "num_steps_sampled": 37000, "sample_time_ms": 13.075, "replay_time_ms": 18.718, "grad_time_ms": 12.837, "update_time_ms": 12.963, "opt_peak_throughput": 7790.269, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -700.2706298828125, "max_q": -217.70423889160156, "min_q": -2988.73974609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 37000, "episodes_total": 36, "training_iteration": 37, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-29-56", "timestamp": 1565141396, "time_this_iter_s": 58.19775986671448, "time_total_s": 1938.9267981052399, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1938.9267981052399, "timesteps_since_restore": 37000, "iterations_since_restore": 37}
{"episode_reward_max": -2403.0, "episode_reward_min": -57294.0, "episode_reward_mean": -14035.27027027027, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1676578458851097, "mean_processing_ms": 0.47264514017858134, "mean_inference_ms": 1.226607041942157}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 38000, "num_steps_trained": 2800000, "num_steps_sampled": 38000, "sample_time_ms": 12.338, "replay_time_ms": 18.833, "grad_time_ms": 12.962, "update_time_ms": 16.548, "opt_peak_throughput": 7714.939, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -781.2078857421875, "max_q": -224.77442932128906, "min_q": -3141.831298828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 38000, "episodes_total": 37, "training_iteration": 38, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-31-04", "timestamp": 1565141464, "time_this_iter_s": 67.64177370071411, "time_total_s": 2006.568571805954, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2006.568571805954, "timesteps_since_restore": 38000, "iterations_since_restore": 38}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -13705.394736842105, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1654015891687797, "mean_processing_ms": 0.47256570119372615, "mean_inference_ms": 1.226408665422315}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 39000, "num_steps_trained": 2900000, "num_steps_sampled": 39000, "sample_time_ms": 16.359, "replay_time_ms": 27.372, "grad_time_ms": 14.576, "update_time_ms": 15.898, "opt_peak_throughput": 6860.713, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -665.7545166015625, "max_q": -234.77574157714844, "min_q": -3135.72607421875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 39000, "episodes_total": 38, "training_iteration": 39, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-32-15", "timestamp": 1565141535, "time_this_iter_s": 70.55300712585449, "time_total_s": 2077.1215789318085, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2077.1215789318085, "timesteps_since_restore": 39000, "iterations_since_restore": 39}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -13574.23076923077, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1634567944360694, "mean_processing_ms": 0.47258587372625155, "mean_inference_ms": 1.2264703695467383}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 40000, "num_steps_trained": 3000000, "num_steps_sampled": 40000, "sample_time_ms": 14.901, "replay_time_ms": 24.419, "grad_time_ms": 12.865, "update_time_ms": 14.836, "opt_peak_throughput": 7773.059, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -800.5030517578125, "max_q": -228.6739501953125, "min_q": -3229.685302734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 40000, "episodes_total": 39, "training_iteration": 40, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-33-35", "timestamp": 1565141615, "time_this_iter_s": 79.93347907066345, "time_total_s": 2157.055058002472, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2157.055058002472, "timesteps_since_restore": 40000, "iterations_since_restore": 40}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -13346.775, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.161783883594051, "mean_processing_ms": 0.47268487857929475, "mean_inference_ms": 1.2267646751536747}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 41000, "num_steps_trained": 3100000, "num_steps_sampled": 41000, "sample_time_ms": 17.842, "replay_time_ms": 30.138, "grad_time_ms": 16.582, "update_time_ms": 16.358, "opt_peak_throughput": 6030.475, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -590.5374755859375, "max_q": -232.1837158203125, "min_q": -3281.715576171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 41000, "episodes_total": 40, "training_iteration": 41, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-34-52", "timestamp": 1565141692, "time_this_iter_s": 77.86502575874329, "time_total_s": 2234.920083761215, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2234.920083761215, "timesteps_since_restore": 41000, "iterations_since_restore": 41}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -13120.463414634147, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.160073014140739, "mean_processing_ms": 0.4728042902406131, "mean_inference_ms": 1.2271185144094923}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 42000, "num_steps_trained": 3200000, "num_steps_sampled": 42000, "sample_time_ms": 9.511, "replay_time_ms": 16.468, "grad_time_ms": 12.629, "update_time_ms": 13.951, "opt_peak_throughput": 7918.159, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -754.1246948242188, "max_q": -245.63052368164062, "min_q": -3351.34228515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 42000, "episodes_total": 41, "training_iteration": 42, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-36-00", "timestamp": 1565141760, "time_this_iter_s": 67.6093475818634, "time_total_s": 2302.5294313430786, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2302.5294313430786, "timesteps_since_restore": 42000, "iterations_since_restore": 42}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -12864.833333333334, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1583027288455563, "mean_processing_ms": 0.4728921655237395, "mean_inference_ms": 1.2274052295913305}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 43000, "num_steps_trained": 3300000, "num_steps_sampled": 43000, "sample_time_ms": 8.622, "replay_time_ms": 15.937, "grad_time_ms": 10.078, "update_time_ms": 12.189, "opt_peak_throughput": 9922.697, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -663.5387573242188, "max_q": -246.80355834960938, "min_q": -3021.6962890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 43000, "episodes_total": 42, "training_iteration": 43, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-37-00", "timestamp": 1565141820, "time_this_iter_s": 59.64582872390747, "time_total_s": 2362.175260066986, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2362.175260066986, "timesteps_since_restore": 43000, "iterations_since_restore": 43}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -12630.139534883721, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1565815197246905, "mean_processing_ms": 0.47298711665018983, "mean_inference_ms": 1.227721748096585}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 44000, "num_steps_trained": 3400000, "num_steps_sampled": 44000, "sample_time_ms": 14.686, "replay_time_ms": 22.385, "grad_time_ms": 10.809, "update_time_ms": 10.929, "opt_peak_throughput": 9251.699, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -684.4048461914062, "max_q": -256.9549560546875, "min_q": -3417.886962890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 44000, "episodes_total": 43, "training_iteration": 44, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-38-03", "timestamp": 1565141883, "time_this_iter_s": 63.638667821884155, "time_total_s": 2425.8139278888702, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2425.8139278888702, "timesteps_since_restore": 44000, "iterations_since_restore": 44}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -12436.045454545454, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1548633560507295, "mean_processing_ms": 0.47308389596517214, "mean_inference_ms": 1.2280973689204295}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 45000, "num_steps_trained": 3500000, "num_steps_sampled": 45000, "sample_time_ms": 10.912, "replay_time_ms": 18.778, "grad_time_ms": 10.373, "update_time_ms": 12.067, "opt_peak_throughput": 9640.35, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -580.1242065429688, "max_q": -262.06304931640625, "min_q": -3121.0224609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 45000, "episodes_total": 44, "training_iteration": 45, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-39-07", "timestamp": 1565141947, "time_this_iter_s": 63.66815423965454, "time_total_s": 2489.482082128525, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2489.482082128525, "timesteps_since_restore": 45000, "iterations_since_restore": 45}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -12214.155555555555, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.15313747170138, "mean_processing_ms": 0.47316495762463734, "mean_inference_ms": 1.2284206734341623}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 46000, "num_steps_trained": 3600000, "num_steps_sampled": 46000, "sample_time_ms": 13.979, "replay_time_ms": 18.653, "grad_time_ms": 10.696, "update_time_ms": 11.807, "opt_peak_throughput": 9349.034, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -683.5711059570312, "max_q": -262.8255615234375, "min_q": -3466.469482421875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 46000, "episodes_total": 45, "training_iteration": 46, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-40-06", "timestamp": 1565142006, "time_this_iter_s": 58.84854316711426, "time_total_s": 2548.330625295639, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2548.330625295639, "timesteps_since_restore": 46000, "iterations_since_restore": 46}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11997.804347826086, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.151433058827056, "mean_processing_ms": 0.4732417351219834, "mean_inference_ms": 1.2287295019231261}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 47000, "num_steps_trained": 3700000, "num_steps_sampled": 47000, "sample_time_ms": 12.254, "replay_time_ms": 18.392, "grad_time_ms": 11.939, "update_time_ms": 13.047, "opt_peak_throughput": 8376.194, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -730.4866943359375, "max_q": -272.3328857421875, "min_q": -3493.27001953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 47000, "episodes_total": 46, "training_iteration": 47, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-41-08", "timestamp": 1565142068, "time_this_iter_s": 62.55230236053467, "time_total_s": 2610.8829276561737, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2610.8829276561737, "timesteps_since_restore": 47000, "iterations_since_restore": 47}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11794.382978723404, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1497907438683184, "mean_processing_ms": 0.4733169717743678, "mean_inference_ms": 1.2290530966420785}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 48000, "num_steps_trained": 3800000, "num_steps_sampled": 48000, "sample_time_ms": 15.441, "replay_time_ms": 21.914, "grad_time_ms": 12.286, "update_time_ms": 15.412, "opt_peak_throughput": 8139.017, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -528.5621948242188, "max_q": -268.6861267089844, "min_q": -2802.8115234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 48000, "episodes_total": 47, "training_iteration": 48, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-42-11", "timestamp": 1565142131, "time_this_iter_s": 62.9250693321228, "time_total_s": 2673.8079969882965, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2673.8079969882965, "timesteps_since_restore": 48000, "iterations_since_restore": 48}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11598.708333333334, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1481540769306022, "mean_processing_ms": 0.4733854815194005, "mean_inference_ms": 1.2293748584846689}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 49000, "num_steps_trained": 3900000, "num_steps_sampled": 49000, "sample_time_ms": 14.288, "replay_time_ms": 19.583, "grad_time_ms": 11.485, "update_time_ms": 13.48, "opt_peak_throughput": 8707.078, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -656.251220703125, "max_q": -266.428955078125, "min_q": -3641.394775390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 49000, "episodes_total": 48, "training_iteration": 49, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-43-15", "timestamp": 1565142195, "time_this_iter_s": 63.18892240524292, "time_total_s": 2736.9969193935394, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2736.9969193935394, "timesteps_since_restore": 49000, "iterations_since_restore": 49}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11401.34693877551, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.146555799701781, "mean_processing_ms": 0.473455229094738, "mean_inference_ms": 1.2296757417066102}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 50000, "num_steps_trained": 4000000, "num_steps_sampled": 50000, "sample_time_ms": 11.796, "replay_time_ms": 21.403, "grad_time_ms": 11.866, "update_time_ms": 15.013, "opt_peak_throughput": 8427.205, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -648.3642578125, "max_q": -277.7158508300781, "min_q": -3009.43310546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 50000, "episodes_total": 49, "training_iteration": 50, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-44-16", "timestamp": 1565142256, "time_this_iter_s": 61.680235624313354, "time_total_s": 2798.677155017853, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2798.677155017853, "timesteps_since_restore": 50000, "iterations_since_restore": 50}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11216.34, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1449211204017895, "mean_processing_ms": 0.47351337955147904, "mean_inference_ms": 1.2299478841079527}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 51000, "num_steps_trained": 4100000, "num_steps_sampled": 51000, "sample_time_ms": 11.081, "replay_time_ms": 17.318, "grad_time_ms": 9.855, "update_time_ms": 11.56, "opt_peak_throughput": 10146.659, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -675.5960693359375, "max_q": -280.08184814453125, "min_q": -3562.568359375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 51000, "episodes_total": 50, "training_iteration": 51, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-45-16", "timestamp": 1565142316, "time_this_iter_s": 59.56559944152832, "time_total_s": 2858.242754459381, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2858.242754459381, "timesteps_since_restore": 51000, "iterations_since_restore": 51}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -11030.960784313726, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1432935444177343, "mean_processing_ms": 0.47356790081540084, "mean_inference_ms": 1.230210062912371}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 52000, "num_steps_trained": 4200000, "num_steps_sampled": 52000, "sample_time_ms": 11.568, "replay_time_ms": 16.508, "grad_time_ms": 8.855, "update_time_ms": 10.45, "opt_peak_throughput": 11293.134, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -592.9652099609375, "max_q": -273.39666748046875, "min_q": -3367.31591796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 52000, "episodes_total": 51, "training_iteration": 52, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-46-16", "timestamp": 1565142376, "time_this_iter_s": 60.38866090774536, "time_total_s": 2918.6314153671265, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2918.6314153671265, "timesteps_since_restore": 52000, "iterations_since_restore": 52}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10861.73076923077, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.141663814534295, "mean_processing_ms": 0.473621585460104, "mean_inference_ms": 1.2304502518437233}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 53000, "num_steps_trained": 4300000, "num_steps_sampled": 53000, "sample_time_ms": 13.493, "replay_time_ms": 21.776, "grad_time_ms": 11.992, "update_time_ms": 15.96, "opt_peak_throughput": 8339.124, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -581.4019165039062, "max_q": -283.90545654296875, "min_q": -3681.57958984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 53000, "episodes_total": 52, "training_iteration": 53, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-47-18", "timestamp": 1565142438, "time_this_iter_s": 61.380621910095215, "time_total_s": 2980.0120372772217, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2980.0120372772217, "timesteps_since_restore": 53000, "iterations_since_restore": 53}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10690.905660377359, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.140082478827197, "mean_processing_ms": 0.47368822624470613, "mean_inference_ms": 1.2307107646190847}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 54000, "num_steps_trained": 4400000, "num_steps_sampled": 54000, "sample_time_ms": 14.521, "replay_time_ms": 32.588, "grad_time_ms": 17.564, "update_time_ms": 21.69, "opt_peak_throughput": 5693.337, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -763.921142578125, "max_q": -281.4669494628906, "min_q": -3678.99462890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 54000, "episodes_total": 53, "training_iteration": 54, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-48-21", "timestamp": 1565142501, "time_this_iter_s": 62.88951015472412, "time_total_s": 3042.901547431946, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3042.901547431946, "timesteps_since_restore": 54000, "iterations_since_restore": 54}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10528.296296296296, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.138553682426845, "mean_processing_ms": 0.4737597772486928, "mean_inference_ms": 1.231002610342552}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 55000, "num_steps_trained": 4500000, "num_steps_sampled": 55000, "sample_time_ms": 11.008, "replay_time_ms": 16.178, "grad_time_ms": 10.901, "update_time_ms": 13.208, "opt_peak_throughput": 9173.753, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -679.2291259765625, "max_q": -279.7044372558594, "min_q": -3686.09716796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 55000, "episodes_total": 54, "training_iteration": 55, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-49-25", "timestamp": 1565142565, "time_this_iter_s": 64.47359275817871, "time_total_s": 3107.3751401901245, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3107.3751401901245, "timesteps_since_restore": 55000, "iterations_since_restore": 55}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10366.781818181818, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1370296693795896, "mean_processing_ms": 0.47382349713732064, "mean_inference_ms": 1.2312795393474139}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 56000, "num_steps_trained": 4600000, "num_steps_sampled": 56000, "sample_time_ms": 11.235, "replay_time_ms": 19.231, "grad_time_ms": 11.952, "update_time_ms": 15.007, "opt_peak_throughput": 8366.671, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -729.2069702148438, "max_q": -285.2838134765625, "min_q": -3764.73583984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 56000, "episodes_total": 55, "training_iteration": 56, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-50-25", "timestamp": 1565142625, "time_this_iter_s": 60.21112942695618, "time_total_s": 3167.5862696170807, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3167.5862696170807, "timesteps_since_restore": 56000, "iterations_since_restore": 56}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10213.267857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1354750694480207, "mean_processing_ms": 0.4738788563064654, "mean_inference_ms": 1.2315609183715672}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 57000, "num_steps_trained": 4700000, "num_steps_sampled": 57000, "sample_time_ms": 12.092, "replay_time_ms": 19.9, "grad_time_ms": 15.294, "update_time_ms": 18.505, "opt_peak_throughput": 6538.429, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -800.3811645507812, "max_q": -282.1531677246094, "min_q": -3712.629638671875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 57000, "episodes_total": 56, "training_iteration": 57, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-51-28", "timestamp": 1565142688, "time_this_iter_s": 62.8941969871521, "time_total_s": 3230.480466604233, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3230.480466604233, "timesteps_since_restore": 57000, "iterations_since_restore": 57}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -10072.350877192983, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1339556105457067, "mean_processing_ms": 0.47393113876924003, "mean_inference_ms": 1.2318328798371447}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 58000, "num_steps_trained": 4800000, "num_steps_sampled": 58000, "sample_time_ms": 13.631, "replay_time_ms": 23.589, "grad_time_ms": 11.119, "update_time_ms": 14.87, "opt_peak_throughput": 8993.589, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -691.7136840820312, "max_q": -283.2903747558594, "min_q": -3736.942138671875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 58000, "episodes_total": 57, "training_iteration": 58, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-52-29", "timestamp": 1565142749, "time_this_iter_s": 60.73113512992859, "time_total_s": 3291.2116017341614, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3291.2116017341614, "timesteps_since_restore": 58000, "iterations_since_restore": 58}
{"episode_reward_max": -1500.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9932.137931034482, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.132417869652715, "mean_processing_ms": 0.4739766250997723, "mean_inference_ms": 1.2320936005830159}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 59000, "num_steps_trained": 4900000, "num_steps_sampled": 59000, "sample_time_ms": 14.232, "replay_time_ms": 26.427, "grad_time_ms": 12.45, "update_time_ms": 15.658, "opt_peak_throughput": 8032.126, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -743.1860961914062, "max_q": -281.2489013671875, "min_q": -3729.537109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 59000, "episodes_total": 58, "training_iteration": 59, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-53-30", "timestamp": 1565142810, "time_this_iter_s": 60.64455270767212, "time_total_s": 3351.8561544418335, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3351.8561544418335, "timesteps_since_restore": 59000, "iterations_since_restore": 59}
{"episode_reward_max": -1475.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9788.796610169491, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1308563012633255, "mean_processing_ms": 0.47401274940630117, "mean_inference_ms": 1.232328687903057}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 60000, "num_steps_trained": 5000000, "num_steps_sampled": 60000, "sample_time_ms": 18.144, "replay_time_ms": 28.805, "grad_time_ms": 12.401, "update_time_ms": 15.834, "opt_peak_throughput": 8064.031, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -716.30322265625, "max_q": -282.3958740234375, "min_q": -3725.361083984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 60000, "episodes_total": 59, "training_iteration": 60, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-54-27", "timestamp": 1565142867, "time_this_iter_s": 57.69147777557373, "time_total_s": 3409.547632217407, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3409.547632217407, "timesteps_since_restore": 60000, "iterations_since_restore": 60}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9648.116666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.129345843549798, "mean_processing_ms": 0.4740524090368186, "mean_inference_ms": 1.232563633079707}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 61000, "num_steps_trained": 5100000, "num_steps_sampled": 61000, "sample_time_ms": 16.166, "replay_time_ms": 27.854, "grad_time_ms": 11.932, "update_time_ms": 13.506, "opt_peak_throughput": 8380.814, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -614.51513671875, "max_q": -281.3614501953125, "min_q": -3551.177978515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 61000, "episodes_total": 60, "training_iteration": 61, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-55-30", "timestamp": 1565142930, "time_this_iter_s": 62.891660928726196, "time_total_s": 3472.4392931461334, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3472.4392931461334, "timesteps_since_restore": 61000, "iterations_since_restore": 61}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9528.180327868853, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.127862604845028, "mean_processing_ms": 0.4740830127969687, "mean_inference_ms": 1.2327977758596071}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 62000, "num_steps_trained": 5200000, "num_steps_sampled": 62000, "sample_time_ms": 11.3, "replay_time_ms": 19.552, "grad_time_ms": 10.376, "update_time_ms": 12.824, "opt_peak_throughput": 9637.581, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -793.8037719726562, "max_q": -274.62518310546875, "min_q": -3794.36328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 62000, "episodes_total": 61, "training_iteration": 62, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-56-32", "timestamp": 1565142992, "time_this_iter_s": 61.828357219696045, "time_total_s": 3534.2676503658295, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3534.2676503658295, "timesteps_since_restore": 62000, "iterations_since_restore": 62}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9403.58064516129, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1264250138118834, "mean_processing_ms": 0.4741095942219473, "mean_inference_ms": 1.2330166025409055}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 63000, "num_steps_trained": 5300000, "num_steps_sampled": 63000, "sample_time_ms": 12.67, "replay_time_ms": 16.881, "grad_time_ms": 11.228, "update_time_ms": 12.51, "opt_peak_throughput": 8905.974, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -603.787353515625, "max_q": -285.227294921875, "min_q": -3374.776123046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 63000, "episodes_total": 62, "training_iteration": 63, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-57-34", "timestamp": 1565143054, "time_this_iter_s": 61.508848428726196, "time_total_s": 3595.7764987945557, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3595.7764987945557, "timesteps_since_restore": 63000, "iterations_since_restore": 63}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9283.920634920634, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.124969088738585, "mean_processing_ms": 0.4741279491098986, "mean_inference_ms": 1.2332140507451592}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 64000, "num_steps_trained": 5400000, "num_steps_sampled": 64000, "sample_time_ms": 12.62, "replay_time_ms": 17.999, "grad_time_ms": 9.609, "update_time_ms": 12.165, "opt_peak_throughput": 10407.031, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -501.1421813964844, "max_q": -283.8009338378906, "min_q": -2578.6171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 64000, "episodes_total": 63, "training_iteration": 64, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-58-33", "timestamp": 1565143113, "time_this_iter_s": 58.915420055389404, "time_total_s": 3654.691918849945, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3654.691918849945, "timesteps_since_restore": 64000, "iterations_since_restore": 64}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9165.015625, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.123472768591163, "mean_processing_ms": 0.47413357818843116, "mean_inference_ms": 1.233393635965598}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 65000, "num_steps_trained": 5500000, "num_steps_sampled": 65000, "sample_time_ms": 11.504, "replay_time_ms": 17.067, "grad_time_ms": 9.792, "update_time_ms": 10.878, "opt_peak_throughput": 10212.773, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -638.56298828125, "max_q": -291.416015625, "min_q": -4019.3388671875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 65000, "episodes_total": 64, "training_iteration": 65, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_01-59-28", "timestamp": 1565143168, "time_this_iter_s": 55.81539440155029, "time_total_s": 3710.5073132514954, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3710.5073132514954, "timesteps_since_restore": 65000, "iterations_since_restore": 65}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -9051.538461538461, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.12193284553813, "mean_processing_ms": 0.4741240929043674, "mean_inference_ms": 1.2335370455664827}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 66000, "num_steps_trained": 5600000, "num_steps_sampled": 66000, "sample_time_ms": 11.842, "replay_time_ms": 16.555, "grad_time_ms": 10.14, "update_time_ms": 11.712, "opt_peak_throughput": 9862.128, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -681.6353759765625, "max_q": -274.2523498535156, "min_q": -3936.849365234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 66000, "episodes_total": 65, "training_iteration": 66, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-00-22", "timestamp": 1565143222, "time_this_iter_s": 53.90889596939087, "time_total_s": 3764.4162092208862, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3764.4162092208862, "timesteps_since_restore": 66000, "iterations_since_restore": 66}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8951.287878787878, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.120347415719977, "mean_processing_ms": 0.47409780899957044, "mean_inference_ms": 1.2336465165976143}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 67000, "num_steps_trained": 5700000, "num_steps_sampled": 67000, "sample_time_ms": 10.538, "replay_time_ms": 16.063, "grad_time_ms": 10.169, "update_time_ms": 11.538, "opt_peak_throughput": 9833.988, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -573.829833984375, "max_q": -284.7044677734375, "min_q": -3985.05126953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 67000, "episodes_total": 66, "training_iteration": 67, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-01-14", "timestamp": 1565143274, "time_this_iter_s": 51.9281587600708, "time_total_s": 3816.344367980957, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3816.344367980957, "timesteps_since_restore": 67000, "iterations_since_restore": 67}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8846.865671641792, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.118733165483626, "mean_processing_ms": 0.47405872455307735, "mean_inference_ms": 1.2337259038146635}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 68000, "num_steps_trained": 5800000, "num_steps_sampled": 68000, "sample_time_ms": 13.292, "replay_time_ms": 19.226, "grad_time_ms": 10.711, "update_time_ms": 13.18, "opt_peak_throughput": 9336.174, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -754.271728515625, "max_q": -275.02764892578125, "min_q": -3956.292724609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 68000, "episodes_total": 67, "training_iteration": 68, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-02-06", "timestamp": 1565143326, "time_this_iter_s": 51.98131442070007, "time_total_s": 3868.325682401657, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3868.325682401657, "timesteps_since_restore": 68000, "iterations_since_restore": 68}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8750.441176470587, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.117075126865673, "mean_processing_ms": 0.47400520791543327, "mean_inference_ms": 1.2337597485662195}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 69000, "num_steps_trained": 5900000, "num_steps_sampled": 69000, "sample_time_ms": 15.458, "replay_time_ms": 19.918, "grad_time_ms": 9.873, "update_time_ms": 13.952, "opt_peak_throughput": 10128.869, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -614.0795288085938, "max_q": -281.548828125, "min_q": -4045.704833984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 69000, "episodes_total": 68, "training_iteration": 69, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-02-58", "timestamp": 1565143378, "time_this_iter_s": 51.47984027862549, "time_total_s": 3919.8055226802826, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3919.8055226802826, "timesteps_since_restore": 69000, "iterations_since_restore": 69}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8657.507246376812, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.11538775523737, "mean_processing_ms": 0.47393776515501657, "mean_inference_ms": 1.2337505428699287}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 70000, "num_steps_trained": 6000000, "num_steps_sampled": 70000, "sample_time_ms": 9.839, "replay_time_ms": 15.85, "grad_time_ms": 8.895, "update_time_ms": 10.602, "opt_peak_throughput": 11242.432, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -673.6356201171875, "max_q": -269.3918151855469, "min_q": -4107.05126953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 70000, "episodes_total": 69, "training_iteration": 70, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-03-49", "timestamp": 1565143429, "time_this_iter_s": 51.39750790596008, "time_total_s": 3971.2030305862427, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3971.2030305862427, "timesteps_since_restore": 70000, "iterations_since_restore": 70}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8563.92857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.113659319836824, "mean_processing_ms": 0.4738572699212911, "mean_inference_ms": 1.233709535013002}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 71000, "num_steps_trained": 6100000, "num_steps_sampled": 71000, "sample_time_ms": 12.152, "replay_time_ms": 16.815, "grad_time_ms": 10.784, "update_time_ms": 11.67, "opt_peak_throughput": 9273.135, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -496.60589599609375, "max_q": -277.95269775390625, "min_q": -3811.029541015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 71000, "episodes_total": 70, "training_iteration": 71, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-04-41", "timestamp": 1565143481, "time_this_iter_s": 51.68881702423096, "time_total_s": 4022.8918476104736, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4022.8918476104736, "timesteps_since_restore": 71000, "iterations_since_restore": 71}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8470.464788732394, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.111907216219857, "mean_processing_ms": 0.4737713923699917, "mean_inference_ms": 1.233648235105741}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 72000, "num_steps_trained": 6200000, "num_steps_sampled": 72000, "sample_time_ms": 11.354, "replay_time_ms": 18.862, "grad_time_ms": 13.576, "update_time_ms": 11.066, "opt_peak_throughput": 7365.781, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -639.450439453125, "max_q": -278.039794921875, "min_q": -3830.313720703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 72000, "episodes_total": 71, "training_iteration": 72, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-05-35", "timestamp": 1565143535, "time_this_iter_s": 53.78993320465088, "time_total_s": 4076.6817808151245, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4076.6817808151245, "timesteps_since_restore": 72000, "iterations_since_restore": 72}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8401.805555555555, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.110153877049925, "mean_processing_ms": 0.47368947488663704, "mean_inference_ms": 1.233578691619045}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 73000, "num_steps_trained": 6300000, "num_steps_sampled": 73000, "sample_time_ms": 9.849, "replay_time_ms": 16.12, "grad_time_ms": 11.015, "update_time_ms": 10.106, "opt_peak_throughput": 9078.482, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -600.0586547851562, "max_q": -281.313720703125, "min_q": -3903.44677734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 73000, "episodes_total": 72, "training_iteration": 73, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-06-32", "timestamp": 1565143592, "time_this_iter_s": 57.856364488601685, "time_total_s": 4134.538145303726, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4134.538145303726, "timesteps_since_restore": 73000, "iterations_since_restore": 73}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8316.452054794521, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.108368312044627, "mean_processing_ms": 0.4736001679193574, "mean_inference_ms": 1.2334836205600956}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 74000, "num_steps_trained": 6400000, "num_steps_sampled": 74000, "sample_time_ms": 13.422, "replay_time_ms": 20.021, "grad_time_ms": 11.341, "update_time_ms": 12.429, "opt_peak_throughput": 8817.546, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -648.9515380859375, "max_q": -273.7763671875, "min_q": -3792.4521484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 74000, "episodes_total": 73, "training_iteration": 74, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-07-26", "timestamp": 1565143646, "time_this_iter_s": 53.84769320487976, "time_total_s": 4188.385838508606, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4188.385838508606, "timesteps_since_restore": 74000, "iterations_since_restore": 74}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8226.472972972973, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.1065841039570077, "mean_processing_ms": 0.4735121442093094, "mean_inference_ms": 1.2333915914046076}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 75000, "num_steps_trained": 6500000, "num_steps_sampled": 75000, "sample_time_ms": 13.395, "replay_time_ms": 22.271, "grad_time_ms": 11.415, "update_time_ms": 11.995, "opt_peak_throughput": 8760.125, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -595.3866577148438, "max_q": -277.55145263671875, "min_q": -3757.195556640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 75000, "episodes_total": 74, "training_iteration": 75, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-08-26", "timestamp": 1565143706, "time_this_iter_s": 59.26212787628174, "time_total_s": 4247.647966384888, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4247.647966384888, "timesteps_since_restore": 75000, "iterations_since_restore": 75}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8135.106666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.10478901533461, "mean_processing_ms": 0.47341837140168885, "mean_inference_ms": 1.233280840157622}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 76000, "num_steps_trained": 6600000, "num_steps_sampled": 76000, "sample_time_ms": 9.999, "replay_time_ms": 17.042, "grad_time_ms": 10.951, "update_time_ms": 10.701, "opt_peak_throughput": 9131.949, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -597.9802856445312, "max_q": -279.8045349121094, "min_q": -3793.613525390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 76000, "episodes_total": 75, "training_iteration": 76, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-09-21", "timestamp": 1565143761, "time_this_iter_s": 54.87843728065491, "time_total_s": 4302.526403665543, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4302.526403665543, "timesteps_since_restore": 76000, "iterations_since_restore": 76}
{"episode_reward_max": -1348.0, "episode_reward_min": -57294.0, "episode_reward_mean": -8047.486842105263, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 2.103017016904481, "mean_processing_ms": 0.4733214481965161, "mean_inference_ms": 1.2331725181546251}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 77000, "num_steps_trained": 6700000, "num_steps_sampled": 77000, "sample_time_ms": 12.616, "replay_time_ms": 17.567, "grad_time_ms": 11.341, "update_time_ms": 12.233, "opt_peak_throughput": 8817.454, "opt_samples": 100.0, "learner": {"default_policy": {"mean_q": -605.8536376953125, "max_q": -280.5105895996094, "min_q": -3024.77001953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 77000, "episodes_total": 76, "training_iteration": 77, "experiment_id": "738540b542ba46aca44204244b8707a7", "date": "2019-08-07_02-10-16", "timestamp": 1565143816, "time_this_iter_s": 55.72016739845276, "time_total_s": 4358.246571063995, "pid": 125, "hostname": "2b9cf7cd8440", "node_ip": "172.17.0.2", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": false, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 100, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": true, "policy_delay": 2, "smooth_target_policy": true, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "gaussian", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 10000, "buffer_size": 1000000, "prioritized_replay": false, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.005, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 0.0, "grad_norm_clipping": null, "learning_starts": 10000, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4358.246571063995, "timesteps_since_restore": 77000, "iterations_since_restore": 77}
