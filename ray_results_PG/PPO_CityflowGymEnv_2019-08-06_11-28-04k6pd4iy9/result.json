{"episode_reward_max": -8962.0, "episode_reward_min": -11199.0, "episode_reward_mean": -10069.333333333334, "episode_len_mean": 1001.0, "episodes_this_iter": 3, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.5111240857960253, "mean_processing_ms": 0.09554775021607147, "mean_inference_ms": 0.6106340179023848}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 3968, "num_steps_sampled": 4000, "sample_time_ms": 4982.175, "load_time_ms": 32.048, "grad_time_ms": 5548.37, "update_time_ms": 273.91, "learner": {"default_policy": {"cur_kl_coeff": 0.19999995827674866, "cur_lr": 4.999999873689376e-05, "total_loss": 600784.6875, "policy_loss": -0.03300458565354347, "vf_loss": 600784.8125, "vf_explained_var": 0.0003977860033046454, "kl": 0.022149356082081795, "entropy": 2.057398557662964}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 4000, "episodes_total": 3, "training_iteration": 1, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-28-20", "timestamp": 1565062100, "time_this_iter_s": 10.888367891311646, "time_total_s": 10.888367891311646, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 10.888367891311646, "timesteps_since_restore": 4000, "iterations_since_restore": 1}
{"episode_reward_max": -7210.0, "episode_reward_min": -11199.0, "episode_reward_mean": -9250.142857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49817958880370455, "mean_processing_ms": 0.09021325221417174, "mean_inference_ms": 0.5792973390726672}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 7936, "num_steps_sampled": 8000, "sample_time_ms": 4606.56, "load_time_ms": 16.653, "grad_time_ms": 5407.632, "update_time_ms": 140.43, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 393888.75, "policy_loss": -0.024990800768136978, "vf_loss": 393888.78125, "vf_explained_var": 0.00038922217208892107, "kl": 0.01599310152232647, "entropy": 2.039170503616333}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 8000, "episodes_total": 7, "training_iteration": 2, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-28-29", "timestamp": 1565062109, "time_this_iter_s": 9.515720844268799, "time_total_s": 20.404088735580444, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 20.404088735580444, "timesteps_since_restore": 8000, "iterations_since_restore": 2}
{"episode_reward_max": -5838.0, "episode_reward_min": -11199.0, "episode_reward_mean": -8619.545454545454, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.49197173530129595, "mean_processing_ms": 0.08774985637624177, "mean_inference_ms": 0.5639674890850014}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 11904, "num_steps_sampled": 12000, "sample_time_ms": 4485.648, "load_time_ms": 11.512, "grad_time_ms": 5377.069, "update_time_ms": 96.165, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 238462.65625, "policy_loss": -0.02366277016699314, "vf_loss": 238462.640625, "vf_explained_var": 0.0003065793716814369, "kl": 0.0116806011646986, "entropy": 2.028097629547119}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 12000, "episodes_total": 11, "training_iteration": 3, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-28-39", "timestamp": 1565062119, "time_this_iter_s": 9.577374458312988, "time_total_s": 29.981463193893433, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 29.981463193893433, "timesteps_since_restore": 12000, "iterations_since_restore": 3}
{"episode_reward_max": -5316.0, "episode_reward_min": -11199.0, "episode_reward_mean": -7999.266666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.48720513285258626, "mean_processing_ms": 0.0860878957475498, "mean_inference_ms": 0.5542641455500354}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 15872, "num_steps_sampled": 16000, "sample_time_ms": 4408.297, "load_time_ms": 8.948, "grad_time_ms": 5360.15, "update_time_ms": 74.117, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 161707.875, "policy_loss": -0.02973148599267006, "vf_loss": 161707.90625, "vf_explained_var": 0.00020180210412945598, "kl": 0.01519716065376997, "entropy": 2.009312868118286}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 16000, "episodes_total": 15, "training_iteration": 4, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-28-48", "timestamp": 1565062128, "time_this_iter_s": 9.504791498184204, "time_total_s": 39.48625469207764, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 39.48625469207764, "timesteps_since_restore": 16000, "iterations_since_restore": 4}
{"episode_reward_max": -5316.0, "episode_reward_min": -11199.0, "episode_reward_mean": -7867.0526315789475, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4832591682850777, "mean_processing_ms": 0.08492597399639161, "mean_inference_ms": 0.5470357254037586}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 19840, "num_steps_sampled": 20000, "sample_time_ms": 4349.391, "load_time_ms": 7.425, "grad_time_ms": 5350.938, "update_time_ms": 60.737, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 307006.96875, "policy_loss": -0.024506622925400734, "vf_loss": 307006.96875, "vf_explained_var": 8.943003922468051e-05, "kl": 0.009888258762657642, "entropy": 1.9916107654571533}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 20000, "episodes_total": 19, "training_iteration": 5, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-28-58", "timestamp": 1565062138, "time_this_iter_s": 9.446188688278198, "time_total_s": 48.932443380355835, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 48.932443380355835, "timesteps_since_restore": 20000, "iterations_since_restore": 5}
{"episode_reward_max": -5316.0, "episode_reward_min": -11281.0, "episode_reward_mean": -8260.260869565218, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4809470334951255, "mean_processing_ms": 0.08415420260198438, "mean_inference_ms": 0.5420363452026877}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 23808, "num_steps_sampled": 24000, "sample_time_ms": 4347.304, "load_time_ms": 6.401, "grad_time_ms": 5341.51, "update_time_ms": 51.844, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 424208.46875, "policy_loss": -0.030799761414527893, "vf_loss": 424208.5625, "vf_explained_var": 5.670901373378001e-05, "kl": 0.01386289857327938, "entropy": 1.9747166633605957}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 24000, "episodes_total": 23, "training_iteration": 6, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-08", "timestamp": 1565062148, "time_this_iter_s": 9.649685144424438, "time_total_s": 58.58212852478027, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 58.58212852478027, "timesteps_since_restore": 24000, "iterations_since_restore": 6}
{"episode_reward_max": -5316.0, "episode_reward_min": -11281.0, "episode_reward_mean": -7885.222222222223, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.47896821343968826, "mean_processing_ms": 0.08355300733715504, "mean_inference_ms": 0.5382848866879919}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 27776, "num_steps_sampled": 28000, "sample_time_ms": 4328.856, "load_time_ms": 5.666, "grad_time_ms": 5340.679, "update_time_ms": 45.669, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 166898.125, "policy_loss": -0.031633295118808746, "vf_loss": 166898.140625, "vf_explained_var": 9.801310807233676e-05, "kl": 0.01790005899965763, "entropy": 1.9484574794769287}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 28000, "episodes_total": 27, "training_iteration": 7, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-17", "timestamp": 1565062157, "time_this_iter_s": 9.57380485534668, "time_total_s": 68.15593338012695, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 68.15593338012695, "timesteps_since_restore": 28000, "iterations_since_restore": 7}
{"episode_reward_max": -4611.0, "episode_reward_min": -11281.0, "episode_reward_mean": -7707.225806451613, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.47689008425292384, "mean_processing_ms": 0.08313243543694923, "mean_inference_ms": 0.5354221196474931}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 31744, "num_steps_sampled": 32000, "sample_time_ms": 4307.525, "load_time_ms": 5.111, "grad_time_ms": 5342.396, "update_time_ms": 40.794, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 142531.71875, "policy_loss": -0.0364251434803009, "vf_loss": 142531.765625, "vf_explained_var": 5.299621989252046e-05, "kl": 0.01821124739944935, "entropy": 1.9057533740997314}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 32000, "episodes_total": 31, "training_iteration": 8, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-27", "timestamp": 1565062167, "time_this_iter_s": 9.53079605102539, "time_total_s": 77.68672943115234, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 77.68672943115234, "timesteps_since_restore": 32000, "iterations_since_restore": 8}
{"episode_reward_max": -3811.0, "episode_reward_min": -11281.0, "episode_reward_mean": -7349.942857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.47489287339459757, "mean_processing_ms": 0.08275753292584447, "mean_inference_ms": 0.5329242119619703}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 35712, "num_steps_sampled": 36000, "sample_time_ms": 4281.518, "load_time_ms": 4.706, "grad_time_ms": 5341.094, "update_time_ms": 36.981, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 68419.7265625, "policy_loss": -0.03417046368122101, "vf_loss": 68419.75, "vf_explained_var": 1.513765710114967e-05, "kl": 0.017070965841412544, "entropy": 1.8927686214447021}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 36000, "episodes_total": 35, "training_iteration": 9, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-36", "timestamp": 1565062176, "time_this_iter_s": 9.422278642654419, "time_total_s": 87.10900807380676, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 87.10900807380676, "timesteps_since_restore": 36000, "iterations_since_restore": 9}
{"episode_reward_max": -3811.0, "episode_reward_min": -11281.0, "episode_reward_mean": -7070.076923076923, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4732256949198252, "mean_processing_ms": 0.08246158084863306, "mean_inference_ms": 0.5309087166734685}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 39680, "num_steps_sampled": 40000, "sample_time_ms": 4276.991, "load_time_ms": 4.359, "grad_time_ms": 5337.544, "update_time_ms": 33.853, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 65018.19140625, "policy_loss": -0.02913987636566162, "vf_loss": 65018.22265625, "vf_explained_var": 2.1409603505162522e-05, "kl": 0.013544856570661068, "entropy": 1.8902465105056763}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 40000, "episodes_total": 39, "training_iteration": 10, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-46", "timestamp": 1565062186, "time_this_iter_s": 9.558753252029419, "time_total_s": 96.66776132583618, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 96.66776132583618, "timesteps_since_restore": 40000, "iterations_since_restore": 10}
{"episode_reward_max": -3167.0, "episode_reward_min": -11281.0, "episode_reward_mean": -6770.418604651163, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.47178566352351364, "mean_processing_ms": 0.08218798982186477, "mean_inference_ms": 0.5292865161448159}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 43648, "num_steps_sampled": 44000, "sample_time_ms": 4201.241, "load_time_ms": 1.278, "grad_time_ms": 5315.683, "update_time_ms": 7.239, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 89532.0234375, "policy_loss": -0.029899366199970245, "vf_loss": 89532.03125, "vf_explained_var": 8.410022928728722e-06, "kl": 0.013792184181511402, "entropy": 1.861273169517517}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 44000, "episodes_total": 43, "training_iteration": 11, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-29-55", "timestamp": 1565062195, "time_this_iter_s": 9.573637962341309, "time_total_s": 106.24139928817749, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 106.24139928817749, "timesteps_since_restore": 44000, "iterations_since_restore": 11}
{"episode_reward_max": -3167.0, "episode_reward_min": -11281.0, "episode_reward_mean": -6676.106382978724, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4704628481679443, "mean_processing_ms": 0.08194497211500981, "mean_inference_ms": 0.527759492398576}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 47616, "num_steps_sampled": 48000, "sample_time_ms": 4186.527, "load_time_ms": 1.28, "grad_time_ms": 5322.286, "update_time_ms": 7.558, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 117281.078125, "policy_loss": -0.038577236235141754, "vf_loss": 117281.109375, "vf_explained_var": 3.7877789509366266e-06, "kl": 0.015368573367595673, "entropy": 1.8452116250991821}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 48000, "episodes_total": 47, "training_iteration": 12, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-05", "timestamp": 1565062205, "time_this_iter_s": 9.437978029251099, "time_total_s": 115.67937731742859, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 115.67937731742859, "timesteps_since_restore": 48000, "iterations_since_restore": 12}
{"episode_reward_max": -3167.0, "episode_reward_min": -11281.0, "episode_reward_mean": -6492.078431372549, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.46935495596716925, "mean_processing_ms": 0.08174811833072555, "mean_inference_ms": 0.5265480873100229}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 51584, "num_steps_sampled": 52000, "sample_time_ms": 4193.774, "load_time_ms": 1.282, "grad_time_ms": 5323.657, "update_time_ms": 7.533, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 47211.43359375, "policy_loss": -0.032073065638542175, "vf_loss": 47211.45703125, "vf_explained_var": 4.814517069462454e-06, "kl": 0.014586585573852062, "entropy": 1.8096487522125244}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 52000, "episodes_total": 51, "training_iteration": 13, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-14", "timestamp": 1565062214, "time_this_iter_s": 9.66456127166748, "time_total_s": 125.34393858909607, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 125.34393858909607, "timesteps_since_restore": 52000, "iterations_since_restore": 13}
{"episode_reward_max": -2724.0, "episode_reward_min": -11281.0, "episode_reward_mean": -6270.636363636364, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4683548951118417, "mean_processing_ms": 0.08158296048774162, "mean_inference_ms": 0.5255026456382454}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 55552, "num_steps_sampled": 56000, "sample_time_ms": 4197.349, "load_time_ms": 1.278, "grad_time_ms": 5323.707, "update_time_ms": 7.52, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 36776.3203125, "policy_loss": -0.03449606895446777, "vf_loss": 36776.34765625, "vf_explained_var": 1.1184522918483708e-05, "kl": 0.01600344106554985, "entropy": 1.8118010759353638}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 56000, "episodes_total": 55, "training_iteration": 14, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-24", "timestamp": 1565062224, "time_this_iter_s": 9.54033875465393, "time_total_s": 134.88427734375, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 134.88427734375, "timesteps_since_restore": 56000, "iterations_since_restore": 14}
{"episode_reward_max": -2724.0, "episode_reward_min": -11281.0, "episode_reward_mean": -6093.35593220339, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4674901249224104, "mean_processing_ms": 0.08144918822550255, "mean_inference_ms": 0.5246547869881394}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 59520, "num_steps_sampled": 60000, "sample_time_ms": 4216.627, "load_time_ms": 1.215, "grad_time_ms": 5323.117, "update_time_ms": 7.469, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 35839.48828125, "policy_loss": -0.04016665369272232, "vf_loss": 35839.5234375, "vf_explained_var": 8.25235929369228e-06, "kl": 0.013477133587002754, "entropy": 1.7885737419128418}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 60000, "episodes_total": 59, "training_iteration": 15, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-34", "timestamp": 1565062234, "time_this_iter_s": 9.631862163543701, "time_total_s": 144.5161395072937, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 144.5161395072937, "timesteps_since_restore": 60000, "iterations_since_restore": 15}
{"episode_reward_max": -2724.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5928.571428571428, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4666833523177984, "mean_processing_ms": 0.08132174753781257, "mean_inference_ms": 0.5238166824865383}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 63488, "num_steps_sampled": 64000, "sample_time_ms": 4192.761, "load_time_ms": 1.212, "grad_time_ms": 5323.903, "update_time_ms": 7.374, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 32489.806640625, "policy_loss": -0.033147525042295456, "vf_loss": 32489.833984375, "vf_explained_var": 6.056600796000566e-06, "kl": 0.011618354357779026, "entropy": 1.7737720012664795}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 64000, "episodes_total": 63, "training_iteration": 16, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-43", "timestamp": 1565062243, "time_this_iter_s": 9.418168783187866, "time_total_s": 153.93430829048157, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 153.93430829048157, "timesteps_since_restore": 64000, "iterations_since_restore": 16}
{"episode_reward_max": -2458.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5761.537313432836, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4659354337041212, "mean_processing_ms": 0.08120941091960998, "mean_inference_ms": 0.5229773696017782}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 67456, "num_steps_sampled": 68000, "sample_time_ms": 4180.003, "load_time_ms": 1.224, "grad_time_ms": 5323.685, "update_time_ms": 7.321, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 20875.380859375, "policy_loss": -0.03378445282578468, "vf_loss": 20875.4140625, "vf_explained_var": 6.339242190733785e-06, "kl": 0.014735955744981766, "entropy": 1.7448514699935913}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 68000, "episodes_total": 67, "training_iteration": 17, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-30-52", "timestamp": 1565062252, "time_this_iter_s": 9.444883584976196, "time_total_s": 163.37919187545776, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 163.37919187545776, "timesteps_since_restore": 68000, "iterations_since_restore": 17}
{"episode_reward_max": -2458.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5632.7464788732395, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.46522118340310387, "mean_processing_ms": 0.08110780226407445, "mean_inference_ms": 0.5222009059588915}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 71424, "num_steps_sampled": 72000, "sample_time_ms": 4177.336, "load_time_ms": 1.236, "grad_time_ms": 5318.064, "update_time_ms": 7.282, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 22616.984375, "policy_loss": -0.032139748334884644, "vf_loss": 22617.01171875, "vf_explained_var": 6.429610493796645e-06, "kl": 0.013035391457378864, "entropy": 1.7204067707061768}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 72000, "episodes_total": 71, "training_iteration": 18, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-02", "timestamp": 1565062262, "time_this_iter_s": 9.44719648361206, "time_total_s": 172.82638835906982, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 172.82638835906982, "timesteps_since_restore": 72000, "iterations_since_restore": 18}
{"episode_reward_max": -1995.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5493.026666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.46454932255853465, "mean_processing_ms": 0.08101276193335034, "mean_inference_ms": 0.5214927110801075}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 75392, "num_steps_sampled": 76000, "sample_time_ms": 4185.766, "load_time_ms": 1.229, "grad_time_ms": 5314.193, "update_time_ms": 7.224, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 16766.560546875, "policy_loss": -0.03696547821164131, "vf_loss": 16766.591796875, "vf_explained_var": 0.038129836320877075, "kl": 0.014314195141196251, "entropy": 1.7064852714538574}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 76000, "episodes_total": 75, "training_iteration": 19, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-11", "timestamp": 1565062271, "time_this_iter_s": 9.467009782791138, "time_total_s": 182.29339814186096, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 182.29339814186096, "timesteps_since_restore": 76000, "iterations_since_restore": 19}
{"episode_reward_max": -1995.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5378.0759493670885, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4638890032443744, "mean_processing_ms": 0.08092454968483836, "mean_inference_ms": 0.5208325914891316}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 79360, "num_steps_sampled": 80000, "sample_time_ms": 4171.115, "load_time_ms": 1.17, "grad_time_ms": 5314.599, "update_time_ms": 7.268, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 23358.767578125, "policy_loss": -0.03874509781599045, "vf_loss": 23358.80078125, "vf_explained_var": 0.05697426572442055, "kl": 0.018508363515138626, "entropy": 1.7179969549179077}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 80000, "episodes_total": 79, "training_iteration": 20, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-21", "timestamp": 1565062281, "time_this_iter_s": 9.41569209098816, "time_total_s": 191.70909023284912, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 191.70909023284912, "timesteps_since_restore": 80000, "iterations_since_restore": 20}
{"episode_reward_max": -1995.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5244.8674698795185, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4632290352558862, "mean_processing_ms": 0.0808391381597903, "mean_inference_ms": 0.5202038832766177}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 83328, "num_steps_sampled": 84000, "sample_time_ms": 4153.311, "load_time_ms": 1.168, "grad_time_ms": 5312.421, "update_time_ms": 7.163, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 10264.4658203125, "policy_loss": -0.03271954879164696, "vf_loss": 10264.4912109375, "vf_explained_var": 0.0743902176618576, "kl": 0.013159428723156452, "entropy": 1.7013828754425049}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 84000, "episodes_total": 83, "training_iteration": 21, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-30", "timestamp": 1565062290, "time_this_iter_s": 9.372390508651733, "time_total_s": 201.08148074150085, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 201.08148074150085, "timesteps_since_restore": 84000, "iterations_since_restore": 21}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5128.597701149425, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.46259047350971627, "mean_processing_ms": 0.08076105520962143, "mean_inference_ms": 0.5195933653815319}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 87296, "num_steps_sampled": 88000, "sample_time_ms": 4151.101, "load_time_ms": 1.168, "grad_time_ms": 5310.317, "update_time_ms": 6.715, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 9062.5732421875, "policy_loss": -0.030404014512896538, "vf_loss": 9062.6005859375, "vf_explained_var": 0.09366041421890259, "kl": 0.01197676919400692, "entropy": 1.6667768955230713}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 88000, "episodes_total": 87, "training_iteration": 22, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-40", "timestamp": 1565062300, "time_this_iter_s": 9.390895366668701, "time_total_s": 210.47237610816956, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 210.47237610816956, "timesteps_since_restore": 88000, "iterations_since_restore": 22}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -5003.274725274725, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.46200137346232767, "mean_processing_ms": 0.0806923437798403, "mean_inference_ms": 0.5190491751184166}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 91264, "num_steps_sampled": 92000, "sample_time_ms": 4142.159, "load_time_ms": 1.171, "grad_time_ms": 5310.198, "update_time_ms": 6.657, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 6400.755859375, "policy_loss": -0.030924102291464806, "vf_loss": 6400.78271484375, "vf_explained_var": 0.0811966136097908, "kl": 0.013233385980129242, "entropy": 1.646353006362915}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 92000, "episodes_total": 91, "training_iteration": 23, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-49", "timestamp": 1565062309, "time_this_iter_s": 9.57380485534668, "time_total_s": 220.04618096351624, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 220.04618096351624, "timesteps_since_restore": 92000, "iterations_since_restore": 23}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -4894.042105263158, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4614436392852721, "mean_processing_ms": 0.08063260270897314, "mean_inference_ms": 0.5185794164541979}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 95232, "num_steps_sampled": 96000, "sample_time_ms": 4144.989, "load_time_ms": 1.186, "grad_time_ms": 5311.939, "update_time_ms": 6.527, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 6144.43212890625, "policy_loss": -0.028626956045627594, "vf_loss": 6144.45751953125, "vf_explained_var": 0.10653852671384811, "kl": 0.010671338066458702, "entropy": 1.6415214538574219}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 96000, "episodes_total": 95, "training_iteration": 24, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-31-59", "timestamp": 1565062319, "time_this_iter_s": 9.585964918136597, "time_total_s": 229.63214588165283, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 229.63214588165283, "timesteps_since_restore": 96000, "iterations_since_restore": 24}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -4788.79797979798, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4609083992973654, "mean_processing_ms": 0.08057595925909228, "mean_inference_ms": 0.5181089545301285}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 99200, "num_steps_sampled": 100000, "sample_time_ms": 4120.003, "load_time_ms": 1.236, "grad_time_ms": 5311.87, "update_time_ms": 6.474, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 7120.46435546875, "policy_loss": -0.027560876682400703, "vf_loss": 7120.4892578125, "vf_explained_var": 0.11846892535686493, "kl": 0.010452991351485252, "entropy": 1.6457420587539673}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 100000, "episodes_total": 99, "training_iteration": 25, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-08", "timestamp": 1565062328, "time_this_iter_s": 9.381594181060791, "time_total_s": 239.01374006271362, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 239.01374006271362, "timesteps_since_restore": 100000, "iterations_since_restore": 25}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -4544.43, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4588674225653287, "mean_processing_ms": 0.08007234299256431, "mean_inference_ms": 0.5148541049184557}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 103168, "num_steps_sampled": 104000, "sample_time_ms": 4115.129, "load_time_ms": 1.235, "grad_time_ms": 5316.041, "update_time_ms": 6.699, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 9857.5380859375, "policy_loss": -0.03278133273124695, "vf_loss": 9857.5673828125, "vf_explained_var": 0.1270187795162201, "kl": 0.013408701866865158, "entropy": 1.6267694234848022}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 104000, "episodes_total": 103, "training_iteration": 26, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-18", "timestamp": 1565062338, "time_this_iter_s": 9.414128065109253, "time_total_s": 248.42786812782288, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 248.42786812782288, "timesteps_since_restore": 104000, "iterations_since_restore": 26}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -4308.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.45719664906384344, "mean_processing_ms": 0.07978770709180182, "mean_inference_ms": 0.5128389401776918}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 107136, "num_steps_sampled": 108000, "sample_time_ms": 4107.767, "load_time_ms": 1.233, "grad_time_ms": 5314.551, "update_time_ms": 6.713, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 8490.462890625, "policy_loss": -0.02844405546784401, "vf_loss": 8490.4873046875, "vf_explained_var": 0.18666718900203705, "kl": 0.011885915882885456, "entropy": 1.6036980152130127}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 108000, "episodes_total": 107, "training_iteration": 27, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-27", "timestamp": 1565062347, "time_this_iter_s": 9.355740070343018, "time_total_s": 257.7836081981659, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 257.7836081981659, "timesteps_since_restore": 108000, "iterations_since_restore": 27}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -4097.9, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4558209969257945, "mean_processing_ms": 0.07961466511910022, "mean_inference_ms": 0.5115731807212828}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 111104, "num_steps_sampled": 112000, "sample_time_ms": 4115.141, "load_time_ms": 1.236, "grad_time_ms": 5317.005, "update_time_ms": 6.808, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 8135.14794921875, "policy_loss": -0.029081065207719803, "vf_loss": 8135.17333984375, "vf_explained_var": 0.21040257811546326, "kl": 0.010309983976185322, "entropy": 1.6019712686538696}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 112000, "episodes_total": 111, "training_iteration": 28, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-37", "timestamp": 1565062357, "time_this_iter_s": 9.547277927398682, "time_total_s": 267.3308861255646, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 267.3308861255646, "timesteps_since_restore": 112000, "iterations_since_restore": 28}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -3955.26, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.45472386735971254, "mean_processing_ms": 0.07952779186660798, "mean_inference_ms": 0.5106815668994923}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 115072, "num_steps_sampled": 116000, "sample_time_ms": 4118.563, "load_time_ms": 1.225, "grad_time_ms": 5318.64, "update_time_ms": 6.889, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 8514.6787109375, "policy_loss": -0.03378136083483696, "vf_loss": 8514.708984375, "vf_explained_var": 0.31701478362083435, "kl": 0.013627491891384125, "entropy": 1.549623966217041}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 116000, "episodes_total": 115, "training_iteration": 29, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-46", "timestamp": 1565062366, "time_this_iter_s": 9.518261194229126, "time_total_s": 276.8491473197937, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 276.8491473197937, "timesteps_since_restore": 116000, "iterations_since_restore": 29}
{"episode_reward_max": -1978.0, "episode_reward_min": -11281.0, "episode_reward_mean": -3760.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4538449350838418, "mean_processing_ms": 0.0794790139497198, "mean_inference_ms": 0.5101025760757587}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 119040, "num_steps_sampled": 120000, "sample_time_ms": 4128.437, "load_time_ms": 1.23, "grad_time_ms": 5320.619, "update_time_ms": 6.904, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 8301.4111328125, "policy_loss": -0.029706960543990135, "vf_loss": 8301.4365234375, "vf_explained_var": 0.27255553007125854, "kl": 0.01052901428192854, "entropy": 1.5494318008422852}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 120000, "episodes_total": 119, "training_iteration": 30, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-32-56", "timestamp": 1565062376, "time_this_iter_s": 9.53429627418518, "time_total_s": 286.3834435939789, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 286.3834435939789, "timesteps_since_restore": 120000, "iterations_since_restore": 30}
{"episode_reward_max": -1978.0, "episode_reward_min": -8403.0, "episode_reward_mean": -3446.07, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4528923029217414, "mean_processing_ms": 0.07943030227111608, "mean_inference_ms": 0.5095809779665359}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 123008, "num_steps_sampled": 124000, "sample_time_ms": 4135.039, "load_time_ms": 1.24, "grad_time_ms": 5322.55, "update_time_ms": 7.036, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5956.06494140625, "policy_loss": -0.026885708793997765, "vf_loss": 5956.08837890625, "vf_explained_var": 0.3101411759853363, "kl": 0.010827128775417805, "entropy": 1.5260469913482666}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 124000, "episodes_total": 123, "training_iteration": 31, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-05", "timestamp": 1565062385, "time_this_iter_s": 9.459821701049805, "time_total_s": 295.8432652950287, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 295.8432652950287, "timesteps_since_restore": 124000, "iterations_since_restore": 31}
{"episode_reward_max": -1836.0, "episode_reward_min": -8403.0, "episode_reward_mean": -3304.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.45201038079058875, "mean_processing_ms": 0.07939496163019426, "mean_inference_ms": 0.5090696922897848}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 126976, "num_steps_sampled": 128000, "sample_time_ms": 4122.458, "load_time_ms": 1.236, "grad_time_ms": 5322.529, "update_time_ms": 7.015, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5930.69384765625, "policy_loss": -0.026714930310845375, "vf_loss": 5930.71875, "vf_explained_var": 0.2770068943500519, "kl": 0.010601275600492954, "entropy": 1.5418177843093872}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 128000, "episodes_total": 127, "training_iteration": 32, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-14", "timestamp": 1565062394, "time_this_iter_s": 9.264338254928589, "time_total_s": 305.1076035499573, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 305.1076035499573, "timesteps_since_restore": 128000, "iterations_since_restore": 32}
{"episode_reward_max": -1786.0, "episode_reward_min": -6658.0, "episode_reward_mean": -3131.85, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.45129379277018045, "mean_processing_ms": 0.07935207642573365, "mean_inference_ms": 0.5085757664996029}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 130944, "num_steps_sampled": 132000, "sample_time_ms": 4107.859, "load_time_ms": 1.243, "grad_time_ms": 5320.425, "update_time_ms": 6.944, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 6048.39892578125, "policy_loss": -0.027528466656804085, "vf_loss": 6048.42138671875, "vf_explained_var": 0.3141421377658844, "kl": 0.012277930043637753, "entropy": 1.5125302076339722}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 132000, "episodes_total": 131, "training_iteration": 33, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-24", "timestamp": 1565062404, "time_this_iter_s": 9.40551471710205, "time_total_s": 314.5131182670593, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 314.5131182670593, "timesteps_since_restore": 132000, "iterations_since_restore": 33}
{"episode_reward_max": -1786.0, "episode_reward_min": -6658.0, "episode_reward_mean": -3031.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4507366395755946, "mean_processing_ms": 0.07932769448821105, "mean_inference_ms": 0.5081873880396326}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 134912, "num_steps_sampled": 136000, "sample_time_ms": 4110.562, "load_time_ms": 1.234, "grad_time_ms": 5320.736, "update_time_ms": 6.897, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5553.20751953125, "policy_loss": -0.025438597425818443, "vf_loss": 5553.2314453125, "vf_explained_var": 0.2701680362224579, "kl": 0.009571357630193233, "entropy": 1.5259279012680054}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 136000, "episodes_total": 135, "training_iteration": 34, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-33", "timestamp": 1565062413, "time_this_iter_s": 9.61514139175415, "time_total_s": 324.1282596588135, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 324.1282596588135, "timesteps_since_restore": 136000, "iterations_since_restore": 34}
{"episode_reward_max": -1550.0, "episode_reward_min": -6658.0, "episode_reward_mean": -2934.78, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.45017914920115715, "mean_processing_ms": 0.07930120099313288, "mean_inference_ms": 0.5077929801484647}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 138880, "num_steps_sampled": 140000, "sample_time_ms": 4105.25, "load_time_ms": 1.171, "grad_time_ms": 5293.582, "update_time_ms": 7.171, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 6146.177734375, "policy_loss": -0.028588712215423584, "vf_loss": 6146.2041015625, "vf_explained_var": 0.3577979803085327, "kl": 0.010584763251245022, "entropy": 1.469110369682312}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 140000, "episodes_total": 139, "training_iteration": 35, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-43", "timestamp": 1565062423, "time_this_iter_s": 9.057882070541382, "time_total_s": 333.18614172935486, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 333.18614172935486, "timesteps_since_restore": 140000, "iterations_since_restore": 35}
{"episode_reward_max": -1550.0, "episode_reward_min": -6658.0, "episode_reward_mean": -2876.54, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44963444849645057, "mean_processing_ms": 0.07928988747389462, "mean_inference_ms": 0.507382429513081}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 142848, "num_steps_sampled": 144000, "sample_time_ms": 4107.423, "load_time_ms": 1.17, "grad_time_ms": 5282.934, "update_time_ms": 6.917, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 7627.32421875, "policy_loss": -0.02770216576755047, "vf_loss": 7627.34814453125, "vf_explained_var": 0.39405855536460876, "kl": 0.012221184559166431, "entropy": 1.4478625059127808}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 144000, "episodes_total": 143, "training_iteration": 36, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-33-52", "timestamp": 1565062432, "time_this_iter_s": 9.326406002044678, "time_total_s": 342.51254773139954, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 342.51254773139954, "timesteps_since_restore": 144000, "iterations_since_restore": 36}
{"episode_reward_max": -1550.0, "episode_reward_min": -5058.0, "episode_reward_mean": -2732.08, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44917455768611786, "mean_processing_ms": 0.0792996294146974, "mean_inference_ms": 0.507098797085334}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 146816, "num_steps_sampled": 148000, "sample_time_ms": 4153.458, "load_time_ms": 1.167, "grad_time_ms": 5293.583, "update_time_ms": 6.778, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4993.79052734375, "policy_loss": -0.027861258015036583, "vf_loss": 4993.814453125, "vf_explained_var": 0.40195128321647644, "kl": 0.011517479084432125, "entropy": 1.4604097604751587}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 148000, "episodes_total": 147, "training_iteration": 37, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-02", "timestamp": 1565062442, "time_this_iter_s": 9.921574115753174, "time_total_s": 352.4341218471527, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 352.4341218471527, "timesteps_since_restore": 148000, "iterations_since_restore": 37}
{"episode_reward_max": -1550.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2633.81, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44868238844360375, "mean_processing_ms": 0.07930282652103936, "mean_inference_ms": 0.5067634877492796}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 150784, "num_steps_sampled": 152000, "sample_time_ms": 4134.52, "load_time_ms": 1.161, "grad_time_ms": 5300.386, "update_time_ms": 6.794, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4717.96728515625, "policy_loss": -0.028603538870811462, "vf_loss": 4717.9931640625, "vf_explained_var": 0.3011780083179474, "kl": 0.011509310454130173, "entropy": 1.4534296989440918}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 152000, "episodes_total": 151, "training_iteration": 38, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-11", "timestamp": 1565062451, "time_this_iter_s": 9.425753831863403, "time_total_s": 361.8598756790161, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 361.8598756790161, "timesteps_since_restore": 152000, "iterations_since_restore": 38}
{"episode_reward_max": -1550.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2569.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44822070727634283, "mean_processing_ms": 0.07930834942489648, "mean_inference_ms": 0.50645483137715}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 154752, "num_steps_sampled": 156000, "sample_time_ms": 4143.845, "load_time_ms": 1.159, "grad_time_ms": 5268.292, "update_time_ms": 6.923, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4563.03515625, "policy_loss": -0.024262282997369766, "vf_loss": 4563.05712890625, "vf_explained_var": 0.2937624752521515, "kl": 0.009618223644793034, "entropy": 1.4338668584823608}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 156000, "episodes_total": 155, "training_iteration": 39, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-21", "timestamp": 1565062461, "time_this_iter_s": 9.291364669799805, "time_total_s": 371.1512403488159, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 371.1512403488159, "timesteps_since_restore": 156000, "iterations_since_restore": 39}
{"episode_reward_max": -1463.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2493.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44775681794654615, "mean_processing_ms": 0.0793092785072635, "mean_inference_ms": 0.5061186988121952}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 158720, "num_steps_sampled": 160000, "sample_time_ms": 4144.756, "load_time_ms": 1.238, "grad_time_ms": 5251.101, "update_time_ms": 6.885, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4297.10595703125, "policy_loss": -0.02310284599661827, "vf_loss": 4297.126953125, "vf_explained_var": 0.30360251665115356, "kl": 0.008691936731338501, "entropy": 1.3869587182998657}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 160000, "episodes_total": 159, "training_iteration": 40, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-30", "timestamp": 1565062470, "time_this_iter_s": 9.372875928878784, "time_total_s": 380.5241162776947, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 380.5241162776947, "timesteps_since_restore": 160000, "iterations_since_restore": 40}
{"episode_reward_max": -1463.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2423.65, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44730364019719104, "mean_processing_ms": 0.07931775867039953, "mean_inference_ms": 0.5058371273327433}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 162688, "num_steps_sampled": 164000, "sample_time_ms": 4140.026, "load_time_ms": 1.234, "grad_time_ms": 5225.421, "update_time_ms": 6.648, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3865.852294921875, "policy_loss": -0.018986018374562263, "vf_loss": 3865.868896484375, "vf_explained_var": 0.2710692584514618, "kl": 0.008540800772607327, "entropy": 1.4197838306427002}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 164000, "episodes_total": 163, "training_iteration": 41, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-39", "timestamp": 1565062479, "time_this_iter_s": 9.152048349380493, "time_total_s": 389.6761646270752, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 389.6761646270752, "timesteps_since_restore": 164000, "iterations_since_restore": 41}
{"episode_reward_max": -1448.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2365.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4468795520164551, "mean_processing_ms": 0.0793324064093012, "mean_inference_ms": 0.5056373786413141}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 166656, "num_steps_sampled": 168000, "sample_time_ms": 4174.777, "load_time_ms": 1.233, "grad_time_ms": 5232.318, "update_time_ms": 6.634, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3688.069091796875, "policy_loss": -0.022349026054143906, "vf_loss": 3688.087646484375, "vf_explained_var": 0.20894846320152283, "kl": 0.012334446422755718, "entropy": 1.3982187509536743}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 168000, "episodes_total": 167, "training_iteration": 42, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-49", "timestamp": 1565062489, "time_this_iter_s": 9.681251049041748, "time_total_s": 399.35741567611694, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 399.35741567611694, "timesteps_since_restore": 168000, "iterations_since_restore": 42}
{"episode_reward_max": -1448.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2299.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4464800087311016, "mean_processing_ms": 0.07935005019738407, "mean_inference_ms": 0.5054619713297568}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 170624, "num_steps_sampled": 172000, "sample_time_ms": 4181.62, "load_time_ms": 1.228, "grad_time_ms": 5224.369, "update_time_ms": 6.607, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4299.5126953125, "policy_loss": -0.025564929470419884, "vf_loss": 4299.53515625, "vf_explained_var": 0.3716560900211334, "kl": 0.010409564711153507, "entropy": 1.3812607526779175}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 172000, "episodes_total": 171, "training_iteration": 43, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-34-58", "timestamp": 1565062498, "time_this_iter_s": 9.394851684570312, "time_total_s": 408.75226736068726, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 408.75226736068726, "timesteps_since_restore": 172000, "iterations_since_restore": 43}
{"episode_reward_max": -1359.0, "episode_reward_min": -4471.0, "episode_reward_mean": -2248.18, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4460979263608078, "mean_processing_ms": 0.07937155936637628, "mean_inference_ms": 0.5052941149444515}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 174592, "num_steps_sampled": 176000, "sample_time_ms": 4168.576, "load_time_ms": 1.224, "grad_time_ms": 5226.082, "update_time_ms": 6.653, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3139.842529296875, "policy_loss": -0.022404059767723083, "vf_loss": 3139.861328125, "vf_explained_var": 0.22139984369277954, "kl": 0.009964697062969208, "entropy": 1.38713538646698}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 176000, "episodes_total": 175, "training_iteration": 44, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-08", "timestamp": 1565062508, "time_this_iter_s": 9.502483129501343, "time_total_s": 418.2547504901886, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 418.2547504901886, "timesteps_since_restore": 176000, "iterations_since_restore": 44}
{"episode_reward_max": -1359.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2188.55, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4457726353265113, "mean_processing_ms": 0.07940345080570958, "mean_inference_ms": 0.5051665883905829}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 178560, "num_steps_sampled": 180000, "sample_time_ms": 4205.525, "load_time_ms": 1.288, "grad_time_ms": 5243.27, "update_time_ms": 6.431, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3658.781494140625, "policy_loss": -0.024970563128590584, "vf_loss": 3658.80322265625, "vf_explained_var": 0.2905631363391876, "kl": 0.010984284803271294, "entropy": 1.4176772832870483}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 180000, "episodes_total": 179, "training_iteration": 45, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-17", "timestamp": 1565062517, "time_this_iter_s": 9.599332809448242, "time_total_s": 427.85408329963684, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 427.85408329963684, "timesteps_since_restore": 180000, "iterations_since_restore": 45}
{"episode_reward_max": -1359.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2156.74, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4454871959632659, "mean_processing_ms": 0.07943992599123165, "mean_inference_ms": 0.5050713649454958}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 182528, "num_steps_sampled": 184000, "sample_time_ms": 4213.267, "load_time_ms": 1.313, "grad_time_ms": 5247.593, "update_time_ms": 6.402, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3239.547119140625, "policy_loss": -0.02351527474820614, "vf_loss": 3239.568115234375, "vf_explained_var": 0.34916844964027405, "kl": 0.010828790254890919, "entropy": 1.3958977460861206}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 184000, "episodes_total": 183, "training_iteration": 46, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-27", "timestamp": 1565062527, "time_this_iter_s": 9.446300983428955, "time_total_s": 437.3003842830658, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 437.3003842830658, "timesteps_since_restore": 184000, "iterations_since_restore": 46}
{"episode_reward_max": -1359.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2112.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4452346388819543, "mean_processing_ms": 0.07947861682632686, "mean_inference_ms": 0.5050140697930686}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 186496, "num_steps_sampled": 188000, "sample_time_ms": 4185.229, "load_time_ms": 1.308, "grad_time_ms": 5236.962, "update_time_ms": 6.436, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2876.13623046875, "policy_loss": -0.023355301469564438, "vf_loss": 2876.15576171875, "vf_explained_var": 0.2738116979598999, "kl": 0.012246760539710522, "entropy": 1.411628007888794}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 188000, "episodes_total": 187, "training_iteration": 47, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-36", "timestamp": 1565062536, "time_this_iter_s": 9.534470558166504, "time_total_s": 446.8348548412323, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 446.8348548412323, "timesteps_since_restore": 188000, "iterations_since_restore": 47}
{"episode_reward_max": -1261.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2081.45, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44498427310171623, "mean_processing_ms": 0.07951630696307126, "mean_inference_ms": 0.5049395153530493}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 190464, "num_steps_sampled": 192000, "sample_time_ms": 4197.942, "load_time_ms": 1.301, "grad_time_ms": 5229.268, "update_time_ms": 6.261, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2741.51025390625, "policy_loss": -0.024238383397459984, "vf_loss": 2741.53076171875, "vf_explained_var": 0.2498990297317505, "kl": 0.011279243044555187, "entropy": 1.3951917886734009}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 192000, "episodes_total": 191, "training_iteration": 48, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-46", "timestamp": 1565062546, "time_this_iter_s": 9.474394798278809, "time_total_s": 456.3092496395111, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 456.3092496395111, "timesteps_since_restore": 192000, "iterations_since_restore": 48}
{"episode_reward_max": -1261.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2044.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44474015199367495, "mean_processing_ms": 0.07955171252415033, "mean_inference_ms": 0.5048172223120604}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 194432, "num_steps_sampled": 196000, "sample_time_ms": 4172.478, "load_time_ms": 1.292, "grad_time_ms": 5260.515, "update_time_ms": 6.213, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2504.876220703125, "policy_loss": -0.0243512075394392, "vf_loss": 2504.8974609375, "vf_explained_var": 0.36057910323143005, "kl": 0.010107926093041897, "entropy": 1.358561635017395}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 196000, "episodes_total": 195, "training_iteration": 49, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-35-55", "timestamp": 1565062555, "time_this_iter_s": 9.349504709243774, "time_total_s": 465.6587543487549, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 465.6587543487549, "timesteps_since_restore": 196000, "iterations_since_restore": 49}
{"episode_reward_max": -1261.0, "episode_reward_min": -3375.0, "episode_reward_mean": -2028.17, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44455091600672647, "mean_processing_ms": 0.07959725517161001, "mean_inference_ms": 0.5047782121369297}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 198400, "num_steps_sampled": 200000, "sample_time_ms": 4214.159, "load_time_ms": 1.26, "grad_time_ms": 5276.956, "update_time_ms": 6.264, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5495.765625, "policy_loss": -0.027014950290322304, "vf_loss": 5495.7900390625, "vf_explained_var": 0.4784323275089264, "kl": 0.009896102361381054, "entropy": 1.3664522171020508}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 200000, "episodes_total": 199, "training_iteration": 50, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-05", "timestamp": 1565062565, "time_this_iter_s": 9.95410966873169, "time_total_s": 475.6128640174866, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 475.6128640174866, "timesteps_since_restore": 200000, "iterations_since_restore": 50}
{"episode_reward_max": -1261.0, "episode_reward_min": -3375.0, "episode_reward_mean": -1996.83, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4443918115975352, "mean_processing_ms": 0.07964484619813363, "mean_inference_ms": 0.5047786712805591}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 202368, "num_steps_sampled": 204000, "sample_time_ms": 4233.346, "load_time_ms": 1.272, "grad_time_ms": 5235.783, "update_time_ms": 6.19, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3456.661865234375, "policy_loss": -0.0251774899661541, "vf_loss": 3456.682861328125, "vf_explained_var": 0.4778525233268738, "kl": 0.011961985379457474, "entropy": 1.342283844947815}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 204000, "episodes_total": 203, "training_iteration": 51, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-14", "timestamp": 1565062574, "time_this_iter_s": 8.93232536315918, "time_total_s": 484.54518938064575, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 484.54518938064575, "timesteps_since_restore": 204000, "iterations_since_restore": 51}
{"episode_reward_max": -1258.0, "episode_reward_min": -3375.0, "episode_reward_mean": -1947.4, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4442661563676426, "mean_processing_ms": 0.07969924467751487, "mean_inference_ms": 0.5048217597749123}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 206336, "num_steps_sampled": 208000, "sample_time_ms": 4232.168, "load_time_ms": 1.269, "grad_time_ms": 5229.278, "update_time_ms": 6.385, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2115.92138671875, "policy_loss": -0.024543466046452522, "vf_loss": 2115.9423828125, "vf_explained_var": 0.3746451735496521, "kl": 0.012340775690972805, "entropy": 1.3819254636764526}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 208000, "episodes_total": 207, "training_iteration": 52, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-24", "timestamp": 1565062584, "time_this_iter_s": 9.605702877044678, "time_total_s": 494.15089225769043, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 494.15089225769043, "timesteps_since_restore": 208000, "iterations_since_restore": 52}
{"episode_reward_max": -1258.0, "episode_reward_min": -3375.0, "episode_reward_mean": -1920.29, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44410302645668137, "mean_processing_ms": 0.07975401329025271, "mean_inference_ms": 0.5048486491832498}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 210304, "num_steps_sampled": 212000, "sample_time_ms": 4210.616, "load_time_ms": 1.319, "grad_time_ms": 5231.567, "update_time_ms": 6.571, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2300.597412109375, "policy_loss": -0.020843015983700752, "vf_loss": 2300.615478515625, "vf_explained_var": 0.5033785700798035, "kl": 0.009980065748095512, "entropy": 1.347761631011963}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 212000, "episodes_total": 211, "training_iteration": 53, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-33", "timestamp": 1565062593, "time_this_iter_s": 9.205290794372559, "time_total_s": 503.356183052063, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 503.356183052063, "timesteps_since_restore": 212000, "iterations_since_restore": 53}
{"episode_reward_max": -1212.0, "episode_reward_min": -2772.0, "episode_reward_mean": -1863.35, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44392959791997993, "mean_processing_ms": 0.07979914257291983, "mean_inference_ms": 0.5048764493116562}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 214272, "num_steps_sampled": 216000, "sample_time_ms": 4204.528, "load_time_ms": 1.27, "grad_time_ms": 5216.133, "update_time_ms": 6.745, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 1856.866455078125, "policy_loss": -0.024305855855345726, "vf_loss": 1856.8870849609375, "vf_explained_var": 0.3054056167602539, "kl": 0.011966885067522526, "entropy": 1.3086951971054077}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 216000, "episodes_total": 215, "training_iteration": 54, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-42", "timestamp": 1565062602, "time_this_iter_s": 9.287579774856567, "time_total_s": 512.6437628269196, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 512.6437628269196, "timesteps_since_restore": 216000, "iterations_since_restore": 54}
{"episode_reward_max": -1185.0, "episode_reward_min": -2597.0, "episode_reward_mean": -1821.39, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44376536711717995, "mean_processing_ms": 0.07984577153751324, "mean_inference_ms": 0.5048959713923984}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 218240, "num_steps_sampled": 220000, "sample_time_ms": 4186.873, "load_time_ms": 1.276, "grad_time_ms": 5226.034, "update_time_ms": 6.829, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2230.207275390625, "policy_loss": -0.025834349915385246, "vf_loss": 2230.229248046875, "vf_explained_var": 0.3987230062484741, "kl": 0.01214799378067255, "entropy": 1.3009432554244995}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 220000, "episodes_total": 219, "training_iteration": 55, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-36-52", "timestamp": 1565062612, "time_this_iter_s": 9.522011041641235, "time_total_s": 522.1657738685608, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 522.1657738685608, "timesteps_since_restore": 220000, "iterations_since_restore": 55}
{"episode_reward_max": -1185.0, "episode_reward_min": -2597.0, "episode_reward_mean": -1788.96, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44359957676201034, "mean_processing_ms": 0.07989461664206204, "mean_inference_ms": 0.5049165880652512}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 222208, "num_steps_sampled": 224000, "sample_time_ms": 4177.386, "load_time_ms": 1.258, "grad_time_ms": 5220.597, "update_time_ms": 6.828, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2173.65478515625, "policy_loss": -0.02280692383646965, "vf_loss": 2173.674072265625, "vf_explained_var": 0.4003334045410156, "kl": 0.01190210785716772, "entropy": 1.2620930671691895}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 224000, "episodes_total": 223, "training_iteration": 56, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-01", "timestamp": 1565062621, "time_this_iter_s": 9.297335147857666, "time_total_s": 531.4631090164185, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 531.4631090164185, "timesteps_since_restore": 224000, "iterations_since_restore": 56}
{"episode_reward_max": -967.0, "episode_reward_min": -2597.0, "episode_reward_mean": -1750.98, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44343722466359337, "mean_processing_ms": 0.07994289296014453, "mean_inference_ms": 0.5049763858218044}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 226176, "num_steps_sampled": 228000, "sample_time_ms": 4154.081, "load_time_ms": 1.268, "grad_time_ms": 5218.283, "update_time_ms": 6.729, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 1834.171142578125, "policy_loss": -0.020550932735204697, "vf_loss": 1834.1884765625, "vf_explained_var": 0.3006231188774109, "kl": 0.010285932570695877, "entropy": 1.3250097036361694}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 228000, "episodes_total": 227, "training_iteration": 57, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-10", "timestamp": 1565062630, "time_this_iter_s": 9.277183532714844, "time_total_s": 540.7402925491333, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 540.7402925491333, "timesteps_since_restore": 228000, "iterations_since_restore": 57}
{"episode_reward_max": -967.0, "episode_reward_min": -2597.0, "episode_reward_mean": -1711.54, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4432896106752787, "mean_processing_ms": 0.07999250702101754, "mean_inference_ms": 0.5050440752478486}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 230144, "num_steps_sampled": 232000, "sample_time_ms": 4153.73, "load_time_ms": 1.28, "grad_time_ms": 5217.109, "update_time_ms": 6.966, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2322.03173828125, "policy_loss": -0.02200312353670597, "vf_loss": 2322.051513671875, "vf_explained_var": 0.3372124433517456, "kl": 0.008756760507822037, "entropy": 1.263349175453186}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 232000, "episodes_total": 231, "training_iteration": 58, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-20", "timestamp": 1565062640, "time_this_iter_s": 9.461082220077515, "time_total_s": 550.2013747692108, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 550.2013747692108, "timesteps_since_restore": 232000, "iterations_since_restore": 58}
{"episode_reward_max": -967.0, "episode_reward_min": -2597.0, "episode_reward_mean": -1681.11, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4431017903937504, "mean_processing_ms": 0.08003943114295292, "mean_inference_ms": 0.5050922851666076}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 234112, "num_steps_sampled": 236000, "sample_time_ms": 4147.16, "load_time_ms": 1.293, "grad_time_ms": 5215.82, "update_time_ms": 6.816, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3319.90185546875, "policy_loss": -0.024751020595431328, "vf_loss": 3319.923583984375, "vf_explained_var": 0.3566085398197174, "kl": 0.010288652032613754, "entropy": 1.2601507902145386}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 236000, "episodes_total": 235, "training_iteration": 59, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-29", "timestamp": 1565062649, "time_this_iter_s": 9.269580602645874, "time_total_s": 559.4709553718567, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 559.4709553718567, "timesteps_since_restore": 236000, "iterations_since_restore": 59}
{"episode_reward_max": -967.0, "episode_reward_min": -2569.0, "episode_reward_mean": -1645.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44293934160882004, "mean_processing_ms": 0.08008852630874502, "mean_inference_ms": 0.5051638353191161}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 238080, "num_steps_sampled": 240000, "sample_time_ms": 4102.993, "load_time_ms": 1.306, "grad_time_ms": 5210.027, "update_time_ms": 6.964, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 1773.4609375, "policy_loss": -0.02142953686416149, "vf_loss": 1773.479248046875, "vf_explained_var": 0.2555493116378784, "kl": 0.011392869055271149, "entropy": 1.2412863969802856}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 240000, "episodes_total": 239, "training_iteration": 60, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-39", "timestamp": 1565062659, "time_this_iter_s": 9.455474138259888, "time_total_s": 568.9264295101166, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 568.9264295101166, "timesteps_since_restore": 240000, "iterations_since_restore": 60}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1597.52, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44279559254288003, "mean_processing_ms": 0.08013787516595997, "mean_inference_ms": 0.5052382193972162}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 242048, "num_steps_sampled": 244000, "sample_time_ms": 4090.067, "load_time_ms": 1.299, "grad_time_ms": 5277.661, "update_time_ms": 7.114, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2689.8447265625, "policy_loss": -0.017485499382019043, "vf_loss": 2689.859375, "vf_explained_var": 0.3400724530220032, "kl": 0.009572247043251991, "entropy": 1.1778620481491089}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 244000, "episodes_total": 243, "training_iteration": 61, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-48", "timestamp": 1565062668, "time_this_iter_s": 9.48025918006897, "time_total_s": 578.4066886901855, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 578.4066886901855, "timesteps_since_restore": 244000, "iterations_since_restore": 61}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1568.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4426388070231683, "mean_processing_ms": 0.08017746098182708, "mean_inference_ms": 0.5052890142901917}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 246016, "num_steps_sampled": 248000, "sample_time_ms": 4101.555, "load_time_ms": 1.31, "grad_time_ms": 5275.766, "update_time_ms": 6.929, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2951.78662109375, "policy_loss": -0.01772313006222248, "vf_loss": 2951.802490234375, "vf_explained_var": 0.3398740291595459, "kl": 0.007532958406955004, "entropy": 1.1732017993927002}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 248000, "episodes_total": 247, "training_iteration": 62, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-37-58", "timestamp": 1565062678, "time_this_iter_s": 9.70007061958313, "time_total_s": 588.1067593097687, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 588.1067593097687, "timesteps_since_restore": 248000, "iterations_since_restore": 62}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1547.38, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44250255387173554, "mean_processing_ms": 0.08022116678882601, "mean_inference_ms": 0.5053478740317694}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 249984, "num_steps_sampled": 252000, "sample_time_ms": 4119.036, "load_time_ms": 1.261, "grad_time_ms": 5275.948, "update_time_ms": 6.874, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3223.511474609375, "policy_loss": -0.027543557807803154, "vf_loss": 3223.533935546875, "vf_explained_var": 0.3585663437843323, "kl": 0.017334531992673874, "entropy": 1.168562889099121}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 252000, "episodes_total": 251, "training_iteration": 63, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-07", "timestamp": 1565062687, "time_this_iter_s": 9.379640340805054, "time_total_s": 597.4863996505737, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 597.4863996505737, "timesteps_since_restore": 252000, "iterations_since_restore": 63}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1525.05, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4423599868222199, "mean_processing_ms": 0.08025991558767501, "mean_inference_ms": 0.5053871752258434}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 253952, "num_steps_sampled": 256000, "sample_time_ms": 4126.104, "load_time_ms": 1.309, "grad_time_ms": 5290.126, "update_time_ms": 6.729, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2814.48291015625, "policy_loss": -0.01749882847070694, "vf_loss": 2814.498046875, "vf_explained_var": 0.3683710992336273, "kl": 0.008374374359846115, "entropy": 1.1728744506835938}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 256000, "episodes_total": 255, "training_iteration": 64, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-17", "timestamp": 1565062697, "time_this_iter_s": 9.499090194702148, "time_total_s": 606.9854898452759, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 606.9854898452759, "timesteps_since_restore": 256000, "iterations_since_restore": 64}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1508.69, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44220648392313566, "mean_processing_ms": 0.08029614195487877, "mean_inference_ms": 0.5054079544442424}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 257920, "num_steps_sampled": 260000, "sample_time_ms": 4105.282, "load_time_ms": 1.305, "grad_time_ms": 5291.398, "update_time_ms": 6.737, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3192.452392578125, "policy_loss": -0.019000276923179626, "vf_loss": 3192.468994140625, "vf_explained_var": 0.3146969676017761, "kl": 0.0068490649573504925, "entropy": 1.1208263635635376}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 260000, "episodes_total": 259, "training_iteration": 65, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-26", "timestamp": 1565062706, "time_this_iter_s": 9.329196691513062, "time_total_s": 616.3146865367889, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 616.3146865367889, "timesteps_since_restore": 260000, "iterations_since_restore": 65}
{"episode_reward_max": -959.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1495.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4420706413010892, "mean_processing_ms": 0.08033251843428481, "mean_inference_ms": 0.5054350985951472}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 261888, "num_steps_sampled": 264000, "sample_time_ms": 4114.184, "load_time_ms": 1.247, "grad_time_ms": 5298.751, "update_time_ms": 6.934, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4743.6630859375, "policy_loss": -0.020554224029183388, "vf_loss": 4743.68115234375, "vf_explained_var": 0.4338766634464264, "kl": 0.008798421360552311, "entropy": 1.1076146364212036}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 264000, "episodes_total": 263, "training_iteration": 66, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-36", "timestamp": 1565062716, "time_this_iter_s": 9.459141969680786, "time_total_s": 625.7738285064697, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 625.7738285064697, "timesteps_since_restore": 264000, "iterations_since_restore": 66}
{"episode_reward_max": -897.0, "episode_reward_min": -2424.0, "episode_reward_mean": -1475.78, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4419278879071234, "mean_processing_ms": 0.08036370697511157, "mean_inference_ms": 0.5054501163689972}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 265856, "num_steps_sampled": 268000, "sample_time_ms": 4135.137, "load_time_ms": 1.241, "grad_time_ms": 5301.541, "update_time_ms": 6.888, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2622.754638671875, "policy_loss": -0.02512858249247074, "vf_loss": 2622.776123046875, "vf_explained_var": 0.2935904562473297, "kl": 0.01088882889598608, "entropy": 1.0690281391143799}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 268000, "episodes_total": 267, "training_iteration": 67, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-45", "timestamp": 1565062725, "time_this_iter_s": 9.514424085617065, "time_total_s": 635.2882525920868, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 635.2882525920868, "timesteps_since_restore": 268000, "iterations_since_restore": 67}
{"episode_reward_max": -897.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1455.3, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.441800309342962, "mean_processing_ms": 0.08039662919876424, "mean_inference_ms": 0.5054694442171389}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 269824, "num_steps_sampled": 272000, "sample_time_ms": 4147.775, "load_time_ms": 1.236, "grad_time_ms": 5307.491, "update_time_ms": 6.66, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3449.091796875, "policy_loss": -0.02048659883439541, "vf_loss": 3449.1103515625, "vf_explained_var": 0.3833616077899933, "kl": 0.007202931214123964, "entropy": 1.0789711475372314}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 272000, "episodes_total": 271, "training_iteration": 68, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-38-55", "timestamp": 1565062735, "time_this_iter_s": 9.644331455230713, "time_total_s": 644.9325840473175, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 644.9325840473175, "timesteps_since_restore": 272000, "iterations_since_restore": 68}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1433.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.441661636086171, "mean_processing_ms": 0.08042809144465257, "mean_inference_ms": 0.5054823064746294}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 273792, "num_steps_sampled": 276000, "sample_time_ms": 4148.336, "load_time_ms": 1.237, "grad_time_ms": 5314.45, "update_time_ms": 6.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2793.165283203125, "policy_loss": -0.01745408959686756, "vf_loss": 2793.1806640625, "vf_explained_var": 0.26590555906295776, "kl": 0.008115611970424652, "entropy": 1.0534956455230713}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 276000, "episodes_total": 275, "training_iteration": 69, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-04", "timestamp": 1565062744, "time_this_iter_s": 9.34604811668396, "time_total_s": 654.2786321640015, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 654.2786321640015, "timesteps_since_restore": 276000, "iterations_since_restore": 69}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1414.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44150974222676254, "mean_processing_ms": 0.08045179303212154, "mean_inference_ms": 0.5054754953010567}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 277760, "num_steps_sampled": 280000, "sample_time_ms": 4149.071, "load_time_ms": 1.233, "grad_time_ms": 5322.617, "update_time_ms": 6.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3734.38623046875, "policy_loss": -0.01914110966026783, "vf_loss": 3734.403076171875, "vf_explained_var": 0.39234235882759094, "kl": 0.007552399765700102, "entropy": 1.0459208488464355}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 280000, "episodes_total": 279, "training_iteration": 70, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-14", "timestamp": 1565062754, "time_this_iter_s": 9.54489278793335, "time_total_s": 663.8235249519348, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 663.8235249519348, "timesteps_since_restore": 280000, "iterations_since_restore": 70}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1401.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4413673780648125, "mean_processing_ms": 0.08047869530608263, "mean_inference_ms": 0.5054707611727831}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 281728, "num_steps_sampled": 284000, "sample_time_ms": 4158.83, "load_time_ms": 1.173, "grad_time_ms": 5321.918, "update_time_ms": 6.817, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4740.76806640625, "policy_loss": -0.022759852930903435, "vf_loss": 4740.78857421875, "vf_explained_var": 0.35489314794540405, "kl": 0.007656074594706297, "entropy": 1.0425710678100586}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 284000, "episodes_total": 283, "training_iteration": 71, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-23", "timestamp": 1565062763, "time_this_iter_s": 9.571284770965576, "time_total_s": 673.3948097229004, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 673.3948097229004, "timesteps_since_restore": 284000, "iterations_since_restore": 71}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1395.82, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44121822755977996, "mean_processing_ms": 0.08050338017044205, "mean_inference_ms": 0.5054559978078855}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 285696, "num_steps_sampled": 288000, "sample_time_ms": 4126.762, "load_time_ms": 1.164, "grad_time_ms": 5328.008, "update_time_ms": 7.046, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4635.16748046875, "policy_loss": -0.02113407291471958, "vf_loss": 4635.18603515625, "vf_explained_var": 0.38679519295692444, "kl": 0.008105694316327572, "entropy": 1.0305469036102295}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 288000, "episodes_total": 287, "training_iteration": 72, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-33", "timestamp": 1565062773, "time_this_iter_s": 9.442423105239868, "time_total_s": 682.8372328281403, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 682.8372328281403, "timesteps_since_restore": 288000, "iterations_since_restore": 72}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1394.57, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4410639502768857, "mean_processing_ms": 0.080526274902428, "mean_inference_ms": 0.5054384324940132}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 289664, "num_steps_sampled": 292000, "sample_time_ms": 4119.934, "load_time_ms": 1.154, "grad_time_ms": 5336.973, "update_time_ms": 7.318, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4687.70068359375, "policy_loss": -0.023455578833818436, "vf_loss": 4687.72216796875, "vf_explained_var": 0.32449761033058167, "kl": 0.008166233077645302, "entropy": 1.0046812295913696}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 292000, "episodes_total": 291, "training_iteration": 73, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-42", "timestamp": 1565062782, "time_this_iter_s": 9.404034852981567, "time_total_s": 692.2412676811218, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 692.2412676811218, "timesteps_since_restore": 292000, "iterations_since_restore": 73}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1392.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4409102479077322, "mean_processing_ms": 0.08054749803944038, "mean_inference_ms": 0.5054341540586568}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 293632, "num_steps_sampled": 296000, "sample_time_ms": 4108.502, "load_time_ms": 1.172, "grad_time_ms": 5338.59, "update_time_ms": 7.393, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4760.61767578125, "policy_loss": -0.025348303839564323, "vf_loss": 4760.64013671875, "vf_explained_var": 0.3810789883136749, "kl": 0.010751497000455856, "entropy": 1.0390516519546509}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 296000, "episodes_total": 295, "training_iteration": 74, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-39-51", "timestamp": 1565062791, "time_this_iter_s": 9.40259337425232, "time_total_s": 701.6438610553741, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 701.6438610553741, "timesteps_since_restore": 296000, "iterations_since_restore": 74}
{"episode_reward_max": -862.0, "episode_reward_min": -2405.0, "episode_reward_mean": -1363.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4407191011225637, "mean_processing_ms": 0.08056032806483335, "mean_inference_ms": 0.5053882650112671}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 297600, "num_steps_sampled": 300000, "sample_time_ms": 4125.453, "load_time_ms": 1.168, "grad_time_ms": 5338.367, "update_time_ms": 7.389, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3320.005859375, "policy_loss": -0.018889058381319046, "vf_loss": 3320.0224609375, "vf_explained_var": 0.207396999001503, "kl": 0.007500048261135817, "entropy": 1.0503720045089722}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 300000, "episodes_total": 299, "training_iteration": 75, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-01", "timestamp": 1565062801, "time_this_iter_s": 9.494507074356079, "time_total_s": 711.1383681297302, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 711.1383681297302, "timesteps_since_restore": 300000, "iterations_since_restore": 75}
{"episode_reward_max": -862.0, "episode_reward_min": -1847.0, "episode_reward_mean": -1342.37, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.44051873127672436, "mean_processing_ms": 0.08057254917891593, "mean_inference_ms": 0.5053339839643942}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 301568, "num_steps_sampled": 304000, "sample_time_ms": 4123.648, "load_time_ms": 1.227, "grad_time_ms": 5342.552, "update_time_ms": 7.379, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3575.68701171875, "policy_loss": -0.02537638694047928, "vf_loss": 3575.708740234375, "vf_explained_var": 0.31631872057914734, "kl": 0.010415426455438137, "entropy": 1.06544029712677}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 304000, "episodes_total": 303, "training_iteration": 76, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-10", "timestamp": 1565062810, "time_this_iter_s": 9.485474348068237, "time_total_s": 720.6238424777985, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 720.6238424777985, "timesteps_since_restore": 304000, "iterations_since_restore": 76}
{"episode_reward_max": -862.0, "episode_reward_min": -1847.0, "episode_reward_mean": -1337.68, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.440299902590539, "mean_processing_ms": 0.08058105468318091, "mean_inference_ms": 0.5052502232186055}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 305536, "num_steps_sampled": 308000, "sample_time_ms": 4095.374, "load_time_ms": 1.231, "grad_time_ms": 5342.905, "update_time_ms": 7.69, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3470.2392578125, "policy_loss": -0.024559253826737404, "vf_loss": 3470.260009765625, "vf_explained_var": 0.300518661737442, "kl": 0.010686028748750687, "entropy": 1.050184726715088}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 308000, "episodes_total": 307, "training_iteration": 77, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-20", "timestamp": 1565062820, "time_this_iter_s": 9.238914012908936, "time_total_s": 729.8627564907074, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 729.8627564907074, "timesteps_since_restore": 308000, "iterations_since_restore": 77}
{"episode_reward_max": -862.0, "episode_reward_min": -1847.0, "episode_reward_mean": -1326.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4401095409999354, "mean_processing_ms": 0.08058873929084752, "mean_inference_ms": 0.5051748775773344}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 309504, "num_steps_sampled": 312000, "sample_time_ms": 4074.605, "load_time_ms": 1.167, "grad_time_ms": 5340.63, "update_time_ms": 7.899, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2726.590087890625, "policy_loss": -0.024801291525363922, "vf_loss": 2726.611572265625, "vf_explained_var": 0.3103994131088257, "kl": 0.010421765968203545, "entropy": 1.0676839351654053}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 312000, "episodes_total": 311, "training_iteration": 78, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-29", "timestamp": 1565062829, "time_this_iter_s": 9.414876222610474, "time_total_s": 739.2776327133179, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 739.2776327133179, "timesteps_since_restore": 312000, "iterations_since_restore": 78}
{"episode_reward_max": -862.0, "episode_reward_min": -1946.0, "episode_reward_mean": -1331.78, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43993901699671206, "mean_processing_ms": 0.08059870829251388, "mean_inference_ms": 0.505106035766383}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 313472, "num_steps_sampled": 316000, "sample_time_ms": 4100.727, "load_time_ms": 1.156, "grad_time_ms": 5338.73, "update_time_ms": 8.05, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5190.984375, "policy_loss": -0.028802938759326935, "vf_loss": 5191.009765625, "vf_explained_var": 0.3918450176715851, "kl": 0.010903868824243546, "entropy": 1.0780982971191406}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 316000, "episodes_total": 315, "training_iteration": 79, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-39", "timestamp": 1565062839, "time_this_iter_s": 9.589725255966187, "time_total_s": 748.8673579692841, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 748.8673579692841, "timesteps_since_restore": 316000, "iterations_since_restore": 79}
{"episode_reward_max": -862.0, "episode_reward_min": -1946.0, "episode_reward_mean": -1321.2, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43976664945712374, "mean_processing_ms": 0.08060810457918802, "mean_inference_ms": 0.505041050535379}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 317440, "num_steps_sampled": 320000, "sample_time_ms": 4101.743, "load_time_ms": 1.159, "grad_time_ms": 5339.881, "update_time_ms": 8.084, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3756.11474609375, "policy_loss": -0.023854782804846764, "vf_loss": 3756.135498046875, "vf_explained_var": 0.37048113346099854, "kl": 0.01002513337880373, "entropy": 1.0894771814346313}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 320000, "episodes_total": 319, "training_iteration": 80, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-48", "timestamp": 1565062848, "time_this_iter_s": 9.565221786499023, "time_total_s": 758.4325797557831, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 758.4325797557831, "timesteps_since_restore": 320000, "iterations_since_restore": 80}
{"episode_reward_max": -862.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1325.48, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43960354365005405, "mean_processing_ms": 0.08061909825834407, "mean_inference_ms": 0.5049794026335392}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 321408, "num_steps_sampled": 324000, "sample_time_ms": 4088.041, "load_time_ms": 1.152, "grad_time_ms": 5336.849, "update_time_ms": 7.95, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 5761.85791015625, "policy_loss": -0.027134578675031662, "vf_loss": 5761.88330078125, "vf_explained_var": 0.3811095356941223, "kl": 0.008844680152833462, "entropy": 1.1058388948440552}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 324000, "episodes_total": 323, "training_iteration": 81, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-40-58", "timestamp": 1565062858, "time_this_iter_s": 9.40056324005127, "time_total_s": 767.8331429958344, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 767.8331429958344, "timesteps_since_restore": 324000, "iterations_since_restore": 81}
{"episode_reward_max": -739.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1317.33, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.439467296511895, "mean_processing_ms": 0.08063583323872583, "mean_inference_ms": 0.5049337937395603}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 325376, "num_steps_sampled": 328000, "sample_time_ms": 4107.15, "load_time_ms": 1.158, "grad_time_ms": 5317.787, "update_time_ms": 7.808, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3141.115966796875, "policy_loss": -0.021237120032310486, "vf_loss": 3141.134521484375, "vf_explained_var": 0.23651710152626038, "kl": 0.009061635471880436, "entropy": 1.080747127532959}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 328000, "episodes_total": 327, "training_iteration": 82, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-07", "timestamp": 1565062867, "time_this_iter_s": 9.441500425338745, "time_total_s": 777.2746434211731, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 777.2746434211731, "timesteps_since_restore": 328000, "iterations_since_restore": 82}
{"episode_reward_max": -739.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1321.03, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43933230182895533, "mean_processing_ms": 0.08065026006149648, "mean_inference_ms": 0.5048741034783025}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 329344, "num_steps_sampled": 332000, "sample_time_ms": 4101.096, "load_time_ms": 1.157, "grad_time_ms": 5313.289, "update_time_ms": 7.465, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3867.818115234375, "policy_loss": -0.02188587561249733, "vf_loss": 3867.838134765625, "vf_explained_var": 0.36812517046928406, "kl": 0.007230181246995926, "entropy": 1.054914951324463}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 332000, "episodes_total": 331, "training_iteration": 83, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-17", "timestamp": 1565062877, "time_this_iter_s": 9.29429292678833, "time_total_s": 786.5689363479614, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 786.5689363479614, "timesteps_since_restore": 332000, "iterations_since_restore": 83}
{"episode_reward_max": -739.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1324.06, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.439214450232331, "mean_processing_ms": 0.08066557334693127, "mean_inference_ms": 0.5048273489689514}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 333312, "num_steps_sampled": 336000, "sample_time_ms": 4109.777, "load_time_ms": 1.145, "grad_time_ms": 5310.352, "update_time_ms": 7.33, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4163.75244140625, "policy_loss": -0.020861567929387093, "vf_loss": 4163.77099609375, "vf_explained_var": 0.3028339743614197, "kl": 0.007226689253002405, "entropy": 1.0576657056808472}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 336000, "episodes_total": 335, "training_iteration": 84, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-26", "timestamp": 1565062886, "time_this_iter_s": 9.457367658615112, "time_total_s": 796.0263040065765, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 796.0263040065765, "timesteps_since_restore": 336000, "iterations_since_restore": 84}
{"episode_reward_max": -739.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1320.86, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43909369478619553, "mean_processing_ms": 0.08068134175347616, "mean_inference_ms": 0.5047698089829054}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 337280, "num_steps_sampled": 340000, "sample_time_ms": 4099.169, "load_time_ms": 1.152, "grad_time_ms": 5310.599, "update_time_ms": 7.255, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3576.987548828125, "policy_loss": -0.017323153093457222, "vf_loss": 3577.003173828125, "vf_explained_var": 0.33170706033706665, "kl": 0.006046450696885586, "entropy": 1.066207766532898}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 340000, "episodes_total": 339, "training_iteration": 85, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-35", "timestamp": 1565062895, "time_this_iter_s": 9.389797687530518, "time_total_s": 805.416101694107, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 805.416101694107, "timesteps_since_restore": 340000, "iterations_since_restore": 85}
{"episode_reward_max": -739.0, "episode_reward_min": -1991.0, "episode_reward_mean": -1327.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4389725163093609, "mean_processing_ms": 0.0806940342891443, "mean_inference_ms": 0.5047099240313427}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 341248, "num_steps_sampled": 344000, "sample_time_ms": 4090.241, "load_time_ms": 1.151, "grad_time_ms": 5309.48, "update_time_ms": 7.501, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4020.096435546875, "policy_loss": -0.022255191579461098, "vf_loss": 4020.115234375, "vf_explained_var": 0.31951260566711426, "kl": 0.011866808868944645, "entropy": 1.0119636058807373}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 344000, "episodes_total": 343, "training_iteration": 86, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-45", "timestamp": 1565062905, "time_this_iter_s": 9.38758397102356, "time_total_s": 814.8036856651306, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 814.8036856651306, "timesteps_since_restore": 344000, "iterations_since_restore": 86}
{"episode_reward_max": -739.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1325.12, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4388369490138092, "mean_processing_ms": 0.08070166515393189, "mean_inference_ms": 0.5046306223333249}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 345216, "num_steps_sampled": 348000, "sample_time_ms": 4112.078, "load_time_ms": 1.131, "grad_time_ms": 5309.073, "update_time_ms": 7.208, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 4024.59814453125, "policy_loss": -0.026570593938231468, "vf_loss": 4024.621826171875, "vf_explained_var": 0.3114619851112366, "kl": 0.008475343696773052, "entropy": 1.054237961769104}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 348000, "episodes_total": 347, "training_iteration": 87, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-41-54", "timestamp": 1565062914, "time_this_iter_s": 9.4493408203125, "time_total_s": 824.2530264854431, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 824.2530264854431, "timesteps_since_restore": 348000, "iterations_since_restore": 87}
{"episode_reward_max": -739.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1316.91, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4387030091578643, "mean_processing_ms": 0.08070789469561085, "mean_inference_ms": 0.5045532871693554}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 349184, "num_steps_sampled": 352000, "sample_time_ms": 4114.072, "load_time_ms": 1.187, "grad_time_ms": 5304.955, "update_time_ms": 7.013, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3404.525146484375, "policy_loss": -0.018427884206175804, "vf_loss": 3404.5419921875, "vf_explained_var": 0.17413896322250366, "kl": 0.006474847439676523, "entropy": 1.0556674003601074}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 352000, "episodes_total": 351, "training_iteration": 88, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-04", "timestamp": 1565062924, "time_this_iter_s": 9.391109228134155, "time_total_s": 833.6441357135773, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 833.6441357135773, "timesteps_since_restore": 352000, "iterations_since_restore": 88}
{"episode_reward_max": -739.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1316.5, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4385631335714342, "mean_processing_ms": 0.08071427624849407, "mean_inference_ms": 0.5044697419342643}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 353152, "num_steps_sampled": 356000, "sample_time_ms": 4091.661, "load_time_ms": 1.195, "grad_time_ms": 5295.119, "update_time_ms": 6.71, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2392.2001953125, "policy_loss": -0.025714855641126633, "vf_loss": 2392.223388671875, "vf_explained_var": 0.2347947508096695, "kl": 0.009819469414651394, "entropy": 1.0321077108383179}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 356000, "episodes_total": 355, "training_iteration": 89, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-13", "timestamp": 1565062933, "time_this_iter_s": 9.264423847198486, "time_total_s": 842.9085595607758, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 842.9085595607758, "timesteps_since_restore": 356000, "iterations_since_restore": 89}
{"episode_reward_max": -739.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1315.47, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4384358820510862, "mean_processing_ms": 0.08072314951131415, "mean_inference_ms": 0.5044051922333891}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 357120, "num_steps_sampled": 360000, "sample_time_ms": 4093.542, "load_time_ms": 1.199, "grad_time_ms": 5293.357, "update_time_ms": 6.471, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2839.171630859375, "policy_loss": -0.024069786071777344, "vf_loss": 2839.193115234375, "vf_explained_var": 0.27858787775039673, "kl": 0.00808394979685545, "entropy": 1.005318284034729}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 360000, "episodes_total": 359, "training_iteration": 90, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-23", "timestamp": 1565062943, "time_this_iter_s": 9.56578254699707, "time_total_s": 852.4743421077728, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 852.4743421077728, "timesteps_since_restore": 360000, "iterations_since_restore": 90}
{"episode_reward_max": -739.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1306.11, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43830927351938453, "mean_processing_ms": 0.08073068286974246, "mean_inference_ms": 0.5043392057030643}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 361088, "num_steps_sampled": 364000, "sample_time_ms": 4094.495, "load_time_ms": 1.268, "grad_time_ms": 5295.054, "update_time_ms": 6.525, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2797.822021484375, "policy_loss": -0.017317187041044235, "vf_loss": 2797.837158203125, "vf_explained_var": 0.2682463824748993, "kl": 0.006876208353787661, "entropy": 0.9958154559135437}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 364000, "episodes_total": 363, "training_iteration": 91, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-32", "timestamp": 1565062952, "time_this_iter_s": 9.429282188415527, "time_total_s": 861.9036242961884, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 861.9036242961884, "timesteps_since_restore": 364000, "iterations_since_restore": 91}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1296.59, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4381841754567125, "mean_processing_ms": 0.08073822488412366, "mean_inference_ms": 0.5042762263323486}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 365056, "num_steps_sampled": 368000, "sample_time_ms": 4088.419, "load_time_ms": 1.272, "grad_time_ms": 5309.727, "update_time_ms": 6.475, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2193.593994140625, "policy_loss": -0.016680538654327393, "vf_loss": 2193.608642578125, "vf_explained_var": 0.2298232465982437, "kl": 0.007144121918827295, "entropy": 0.9972020983695984}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 368000, "episodes_total": 367, "training_iteration": 92, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-42", "timestamp": 1565062962, "time_this_iter_s": 9.527400016784668, "time_total_s": 871.431024312973, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 871.431024312973, "timesteps_since_restore": 368000, "iterations_since_restore": 92}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1290.34, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4380527263031958, "mean_processing_ms": 0.08074388452743066, "mean_inference_ms": 0.5042016457293778}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 369024, "num_steps_sampled": 372000, "sample_time_ms": 4100.003, "load_time_ms": 1.276, "grad_time_ms": 5311.091, "update_time_ms": 6.624, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2176.86865234375, "policy_loss": -0.015402507036924362, "vf_loss": 2176.8818359375, "vf_explained_var": 0.25921791791915894, "kl": 0.007162998430430889, "entropy": 0.9911917448043823}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 372000, "episodes_total": 371, "training_iteration": 93, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-42-51", "timestamp": 1565062971, "time_this_iter_s": 9.425747871398926, "time_total_s": 880.856772184372, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 880.856772184372, "timesteps_since_restore": 372000, "iterations_since_restore": 93}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1290.76, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.437932788460608, "mean_processing_ms": 0.08074978608387323, "mean_inference_ms": 0.5041300099255984}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 372992, "num_steps_sampled": 376000, "sample_time_ms": 4088.356, "load_time_ms": 1.212, "grad_time_ms": 5310.132, "update_time_ms": 6.748, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2709.343994140625, "policy_loss": -0.020934754982590675, "vf_loss": 2709.36279296875, "vf_explained_var": 0.38907915353775024, "kl": 0.00840967521071434, "entropy": 0.9831608533859253}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 376000, "episodes_total": 375, "training_iteration": 94, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-00", "timestamp": 1565062980, "time_this_iter_s": 9.332250356674194, "time_total_s": 890.1890225410461, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 890.1890225410461, "timesteps_since_restore": 376000, "iterations_since_restore": 94}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1288.22, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43780832463950686, "mean_processing_ms": 0.08075458518550555, "mean_inference_ms": 0.5040516433424921}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 376960, "num_steps_sampled": 380000, "sample_time_ms": 4088.025, "load_time_ms": 1.219, "grad_time_ms": 5310.258, "update_time_ms": 6.724, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2602.65869140625, "policy_loss": -0.018478719517588615, "vf_loss": 2602.67529296875, "vf_explained_var": 0.2677498757839203, "kl": 0.006432464811950922, "entropy": 1.0100979804992676}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 380000, "episodes_total": 379, "training_iteration": 95, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-10", "timestamp": 1565062990, "time_this_iter_s": 9.387431144714355, "time_total_s": 899.5764536857605, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 899.5764536857605, "timesteps_since_restore": 380000, "iterations_since_restore": 95}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1277.01, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4376850988550347, "mean_processing_ms": 0.08075745151253946, "mean_inference_ms": 0.5039672357655204}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 380928, "num_steps_sampled": 384000, "sample_time_ms": 4100.636, "load_time_ms": 1.22, "grad_time_ms": 5311.345, "update_time_ms": 6.497, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2306.043701171875, "policy_loss": -0.022262541577219963, "vf_loss": 2306.063720703125, "vf_explained_var": 0.2864554524421692, "kl": 0.007290942128747702, "entropy": 0.9736785292625427}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 384000, "episodes_total": 383, "training_iteration": 96, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-19", "timestamp": 1565062999, "time_this_iter_s": 9.522441148757935, "time_total_s": 909.0988948345184, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 909.0988948345184, "timesteps_since_restore": 384000, "iterations_since_restore": 96}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1272.23, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4375646562521895, "mean_processing_ms": 0.08076042591103255, "mean_inference_ms": 0.5038773583096762}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 384896, "num_steps_sampled": 388000, "sample_time_ms": 4087.8, "load_time_ms": 1.231, "grad_time_ms": 5312.661, "update_time_ms": 6.571, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2251.6650390625, "policy_loss": -0.02370605058968067, "vf_loss": 2251.68603515625, "vf_explained_var": 0.3933738172054291, "kl": 0.01013212651014328, "entropy": 0.9254612922668457}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 388000, "episodes_total": 387, "training_iteration": 97, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-29", "timestamp": 1565063009, "time_this_iter_s": 9.334925174713135, "time_total_s": 918.4338200092316, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 918.4338200092316, "timesteps_since_restore": 388000, "iterations_since_restore": 97}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1268.72, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43745687911319936, "mean_processing_ms": 0.08076489686196743, "mean_inference_ms": 0.503803853044007}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 388864, "num_steps_sampled": 392000, "sample_time_ms": 4107.396, "load_time_ms": 1.234, "grad_time_ms": 5305.424, "update_time_ms": 6.593, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 3015.05029296875, "policy_loss": -0.02710561454296112, "vf_loss": 3015.074462890625, "vf_explained_var": 0.40019938349723816, "kl": 0.01158509124070406, "entropy": 0.957370936870575}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 392000, "episodes_total": 391, "training_iteration": 98, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-38", "timestamp": 1565063018, "time_this_iter_s": 9.516996145248413, "time_total_s": 927.95081615448, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 927.95081615448, "timesteps_since_restore": 392000, "iterations_since_restore": 98}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1255.14, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4373616525413215, "mean_processing_ms": 0.0807708809373837, "mean_inference_ms": 0.50373846483703}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 392832, "num_steps_sampled": 396000, "sample_time_ms": 4125.463, "load_time_ms": 1.243, "grad_time_ms": 5288.538, "update_time_ms": 6.737, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2048.1796875, "policy_loss": -0.025635700672864914, "vf_loss": 2048.202392578125, "vf_explained_var": 0.36247584223747253, "kl": 0.009795221500098705, "entropy": 0.9804288148880005}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 396000, "episodes_total": 395, "training_iteration": 99, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-47", "timestamp": 1565063027, "time_this_iter_s": 9.277835369110107, "time_total_s": 937.2286515235901, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 937.2286515235901, "timesteps_since_restore": 396000, "iterations_since_restore": 99}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1262.21, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43726510356567727, "mean_processing_ms": 0.08077720248242654, "mean_inference_ms": 0.5036671528765871}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 396800, "num_steps_sampled": 400000, "sample_time_ms": 4111.471, "load_time_ms": 1.237, "grad_time_ms": 5281.059, "update_time_ms": 6.961, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2395.25244140625, "policy_loss": -0.02584206312894821, "vf_loss": 2395.27587890625, "vf_explained_var": 0.4413498640060425, "kl": 0.007187705021351576, "entropy": 0.9871629476547241}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 400000, "episodes_total": 399, "training_iteration": 100, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-43-57", "timestamp": 1565063037, "time_this_iter_s": 9.353328466415405, "time_total_s": 946.5819799900055, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 946.5819799900055, "timesteps_since_restore": 400000, "iterations_since_restore": 100}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1263.41, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.4371682909800553, "mean_processing_ms": 0.08078285677811542, "mean_inference_ms": 0.5035933567285934}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 400768, "num_steps_sampled": 404000, "sample_time_ms": 4107.988, "load_time_ms": 1.226, "grad_time_ms": 5269.13, "update_time_ms": 7.042, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2254.101318359375, "policy_loss": -0.025392863899469376, "vf_loss": 2254.12353515625, "vf_explained_var": 0.5156371593475342, "kl": 0.010622944682836533, "entropy": 0.9782616496086121}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 404000, "episodes_total": 403, "training_iteration": 101, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-06", "timestamp": 1565063046, "time_this_iter_s": 9.276087522506714, "time_total_s": 955.8580675125122, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 955.8580675125122, "timesteps_since_restore": 404000, "iterations_since_restore": 101}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1262.02, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43708580803267394, "mean_processing_ms": 0.08078996722499855, "mean_inference_ms": 0.503529009078165}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 404736, "num_steps_sampled": 408000, "sample_time_ms": 4092.589, "load_time_ms": 1.164, "grad_time_ms": 5262.661, "update_time_ms": 7.028, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2593.124267578125, "policy_loss": -0.023965271189808846, "vf_loss": 2593.145751953125, "vf_explained_var": 0.5330669283866882, "kl": 0.008275531232357025, "entropy": 0.9995074272155762}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 408000, "episodes_total": 407, "training_iteration": 102, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-15", "timestamp": 1565063055, "time_this_iter_s": 9.30665898323059, "time_total_s": 965.1647264957428, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 965.1647264957428, "timesteps_since_restore": 408000, "iterations_since_restore": 102}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1254.24, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43700065567396995, "mean_processing_ms": 0.08079643560218377, "mean_inference_ms": 0.5034650702480509}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 408704, "num_steps_sampled": 412000, "sample_time_ms": 4081.86, "load_time_ms": 1.114, "grad_time_ms": 5255.969, "update_time_ms": 6.873, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 1882.65771484375, "policy_loss": -0.023485343903303146, "vf_loss": 1882.678466796875, "vf_explained_var": 0.36632153391838074, "kl": 0.008837191388010979, "entropy": 1.012070655822754}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 412000, "episodes_total": 411, "training_iteration": 103, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-25", "timestamp": 1565063065, "time_this_iter_s": 9.2490816116333, "time_total_s": 974.4138081073761, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 974.4138081073761, "timesteps_since_restore": 412000, "iterations_since_restore": 103}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1242.84, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43691396410785865, "mean_processing_ms": 0.08080302667650044, "mean_inference_ms": 0.5034049436105036}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 412672, "num_steps_sampled": 416000, "sample_time_ms": 4108.124, "load_time_ms": 1.177, "grad_time_ms": 5246.257, "update_time_ms": 6.776, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 1793.3804931640625, "policy_loss": -0.020504901185631752, "vf_loss": 1793.3984375, "vf_explained_var": 0.42914220690727234, "kl": 0.008083964698016644, "entropy": 1.0115314722061157}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 416000, "episodes_total": 415, "training_iteration": 104, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-34", "timestamp": 1565063074, "time_this_iter_s": 9.498271226882935, "time_total_s": 983.912079334259, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 983.912079334259, "timesteps_since_restore": 416000, "iterations_since_restore": 104}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1243.94, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43682161544996007, "mean_processing_ms": 0.08080889009838904, "mean_inference_ms": 0.5033433516825054}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 416640, "num_steps_sampled": 420000, "sample_time_ms": 4113.535, "load_time_ms": 1.161, "grad_time_ms": 5235.462, "update_time_ms": 6.726, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2085.978515625, "policy_loss": -0.02704077772796154, "vf_loss": 2086.002197265625, "vf_explained_var": 0.4761965274810791, "kl": 0.01078829262405634, "entropy": 1.0124657154083252}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 420000, "episodes_total": 419, "training_iteration": 105, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-43", "timestamp": 1565063083, "time_this_iter_s": 9.332415580749512, "time_total_s": 993.2444949150085, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 993.2444949150085, "timesteps_since_restore": 420000, "iterations_since_restore": 105}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1231.73, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43673445659316085, "mean_processing_ms": 0.08081495747286879, "mean_inference_ms": 0.5032867793450089}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 420608, "num_steps_sampled": 424000, "sample_time_ms": 4113.797, "load_time_ms": 1.161, "grad_time_ms": 5232.608, "update_time_ms": 6.475, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2822.953125, "policy_loss": -0.02257700450718403, "vf_loss": 2822.973388671875, "vf_explained_var": 0.46436169743537903, "kl": 0.009019649587571621, "entropy": 1.0162473917007446}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 424000, "episodes_total": 423, "training_iteration": 106, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-44-53", "timestamp": 1565063093, "time_this_iter_s": 9.49445652961731, "time_total_s": 1002.7389514446259, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 1002.7389514446259, "timesteps_since_restore": 424000, "iterations_since_restore": 106}
{"episode_reward_max": -717.0, "episode_reward_min": -2056.0, "episode_reward_mean": -1239.49, "episode_len_mean": 1001.0, "episodes_this_iter": 4, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 0.43664184789843685, "mean_processing_ms": 0.08081896414002923, "mean_inference_ms": 0.5032309426706595}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"num_steps_trained": 424576, "num_steps_sampled": 428000, "sample_time_ms": 4135.503, "load_time_ms": 1.155, "grad_time_ms": 5223.898, "update_time_ms": 6.594, "learner": {"default_policy": {"cur_kl_coeff": 0.30000004172325134, "cur_lr": 4.999999873689376e-05, "total_loss": 2078.79638671875, "policy_loss": -0.020856793969869614, "vf_loss": 2078.81494140625, "vf_explained_var": 0.4014517366886139, "kl": 0.007887577638030052, "entropy": 1.0061166286468506}}}, "timesteps_this_iter": 4000, "done": false, "timesteps_total": 428000, "episodes_total": 427, "training_iteration": 107, "experiment_id": "b466ee7d387c4c968352a52ceca60102", "date": "2019-08-06_11-45-02", "timestamp": 1565063102, "time_this_iter_s": 9.466456651687622, "time_total_s": 1012.2054080963135, "pid": 74971, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 200, "train_batch_size": 4000, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_sgd_iter": 30, "lr_schedule": null, "vf_share_layers": false, "vf_loss_coeff": 1.0, "entropy_coeff": 0.0, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": false, "straggler_mitigation": false}, "time_since_restore": 1012.2054080963135, "timesteps_since_restore": 428000, "iterations_since_restore": 107}
