{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 1000, "num_steps_trained": 0, "num_steps_sampled": 1000, "sample_time_ms": 12.152, "replay_time_ms": NaN, "grad_time_ms": NaN, "update_time_ms": 13.007, "opt_peak_throughput": 0.0, "opt_samples": NaN, "learner": {}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 1000, "episodes_total": 0, "training_iteration": 1, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-24-57", "timestamp": 1565076297, "time_this_iter_s": 28.748636722564697, "time_total_s": 28.748636722564697, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 28.748636722564697, "timesteps_since_restore": 1000, "iterations_since_restore": 1}
{"episode_reward_max": -7436.0, "episode_reward_min": -7436.0, "episode_reward_mean": -7436.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5265152848761776, "mean_processing_ms": 0.5780734281906899, "mean_inference_ms": 1.3394323603502813}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 2000, "num_steps_trained": 128000, "num_steps_sampled": 2000, "sample_time_ms": 13.625, "replay_time_ms": 10.316, "grad_time_ms": 25.161, "update_time_ms": 9.746, "opt_peak_throughput": 10174.494, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -48.50676727294922, "max_q": -0.9673797488212585, "min_q": -162.46311950683594}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 2000, "episodes_total": 1, "training_iteration": 2, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-25-38", "timestamp": 1565076338, "time_this_iter_s": 40.72114014625549, "time_total_s": 69.46977686882019, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 69.46977686882019, "timesteps_since_restore": 2000, "iterations_since_restore": 2}
{"episode_reward_max": -7436.0, "episode_reward_min": -40324.0, "episode_reward_mean": -23880.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5624083969529208, "mean_processing_ms": 0.5787381682604849, "mean_inference_ms": 1.3305461039962083}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 3000, "num_steps_trained": 384000, "num_steps_sampled": 3000, "sample_time_ms": 13.107, "replay_time_ms": 9.464, "grad_time_ms": 23.89, "update_time_ms": 8.676, "opt_peak_throughput": 10715.665, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -130.19778442382812, "max_q": -0.9553124904632568, "min_q": -306.5966796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 3000, "episodes_total": 2, "training_iteration": 3, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-26-32", "timestamp": 1565076392, "time_this_iter_s": 54.00994372367859, "time_total_s": 123.47972059249878, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 123.47972059249878, "timesteps_since_restore": 3000, "iterations_since_restore": 3}
{"episode_reward_max": -7436.0, "episode_reward_min": -47296.0, "episode_reward_mean": -31685.333333333332, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5876020011721446, "mean_processing_ms": 0.5787931167577666, "mean_inference_ms": 1.3238701633082572}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 4000, "num_steps_trained": 640000, "num_steps_sampled": 4000, "sample_time_ms": 12.819, "replay_time_ms": 8.916, "grad_time_ms": 22.652, "update_time_ms": 7.708, "opt_peak_throughput": 11301.606, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -224.76609802246094, "max_q": -0.2663135528564453, "min_q": -464.1917724609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 4000, "episodes_total": 3, "training_iteration": 4, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-27-25", "timestamp": 1565076445, "time_this_iter_s": 53.384485960006714, "time_total_s": 176.8642065525055, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 176.8642065525055, "timesteps_since_restore": 4000, "iterations_since_restore": 4}
{"episode_reward_max": -7436.0, "episode_reward_min": -47534.0, "episode_reward_mean": -35647.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.607760110813158, "mean_processing_ms": 0.5787321884604206, "mean_inference_ms": 1.3189861780097722}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 5000, "num_steps_trained": 896000, "num_steps_sampled": 5000, "sample_time_ms": 8.502, "replay_time_ms": 6.162, "grad_time_ms": 18.912, "update_time_ms": 6.24, "opt_peak_throughput": 13536.392, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -312.4508972167969, "max_q": -1.6321005821228027, "min_q": -610.96240234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 5000, "episodes_total": 4, "training_iteration": 5, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-28-19", "timestamp": 1565076499, "time_this_iter_s": 53.38758087158203, "time_total_s": 230.25178742408752, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 230.25178742408752, "timesteps_since_restore": 5000, "iterations_since_restore": 5}
{"episode_reward_max": -7436.0, "episode_reward_min": -48498.0, "episode_reward_mean": -38217.6, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6267057512461076, "mean_processing_ms": 0.5789196672540573, "mean_inference_ms": 1.3155804097814603}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 6000, "num_steps_trained": 1152000, "num_steps_sampled": 6000, "sample_time_ms": 13.586, "replay_time_ms": 9.496, "grad_time_ms": 22.904, "update_time_ms": 8.435, "opt_peak_throughput": 11176.894, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -389.1025390625, "max_q": -1.3351787328720093, "min_q": -756.1807861328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 6000, "episodes_total": 5, "training_iteration": 6, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-29-12", "timestamp": 1565076552, "time_this_iter_s": 53.44346880912781, "time_total_s": 283.69525623321533, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 283.69525623321533, "timesteps_since_restore": 6000, "iterations_since_restore": 6}
{"episode_reward_max": -7436.0, "episode_reward_min": -54667.0, "episode_reward_mean": -40959.166666666664, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6447320996480832, "mean_processing_ms": 0.5792977808819816, "mean_inference_ms": 1.3133754541347782}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 7000, "num_steps_trained": 1408000, "num_steps_sampled": 7000, "sample_time_ms": 13.098, "replay_time_ms": 10.051, "grad_time_ms": 23.587, "update_time_ms": 9.13, "opt_peak_throughput": 10853.255, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -484.6923522949219, "max_q": -0.596919596195221, "min_q": -927.5626831054688}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 7000, "episodes_total": 6, "training_iteration": 7, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-30-07", "timestamp": 1565076607, "time_this_iter_s": 54.78129482269287, "time_total_s": 338.4765510559082, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 338.4765510559082, "timesteps_since_restore": 7000, "iterations_since_restore": 7}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -43070.42857142857, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6553908668499298, "mean_processing_ms": 0.5794334379444115, "mean_inference_ms": 1.311249353732664}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 8000, "num_steps_trained": 1664000, "num_steps_sampled": 8000, "sample_time_ms": 12.433, "replay_time_ms": 8.997, "grad_time_ms": 22.231, "update_time_ms": 7.391, "opt_peak_throughput": 11515.596, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -559.4373779296875, "max_q": -2.5461394786834717, "min_q": -1059.2215576171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 8000, "episodes_total": 7, "training_iteration": 8, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-31-01", "timestamp": 1565076661, "time_this_iter_s": 53.93615388870239, "time_total_s": 392.4127049446106, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 392.4127049446106, "timesteps_since_restore": 8000, "iterations_since_restore": 8}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -42384.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6597277884060482, "mean_processing_ms": 0.5795810086134916, "mean_inference_ms": 1.3093923738303157}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 9000, "num_steps_trained": 1920000, "num_steps_sampled": 9000, "sample_time_ms": 12.319, "replay_time_ms": 8.693, "grad_time_ms": 23.411, "update_time_ms": 8.322, "opt_peak_throughput": 10935.237, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -556.6385498046875, "max_q": -5.247923851013184, "min_q": -1172.813232421875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 9000, "episodes_total": 8, "training_iteration": 9, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-31-54", "timestamp": 1565076714, "time_this_iter_s": 53.411808013916016, "time_total_s": 445.8245129585266, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 445.8245129585266, "timesteps_since_restore": 9000, "iterations_since_restore": 9}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -39797.77777777778, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6605634482643505, "mean_processing_ms": 0.5796420234519969, "mean_inference_ms": 1.307753638586977}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 10000, "num_steps_trained": 2176000, "num_steps_sampled": 10000, "sample_time_ms": 12.256, "replay_time_ms": 7.55, "grad_time_ms": 22.654, "update_time_ms": 5.969, "opt_peak_throughput": 11300.511, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -652.9832153320312, "max_q": -9.16036319732666, "min_q": -1309.3436279296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 10000, "episodes_total": 9, "training_iteration": 10, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-32-48", "timestamp": 1565076768, "time_this_iter_s": 53.36306691169739, "time_total_s": 499.187579870224, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 499.187579870224, "timesteps_since_restore": 10000, "iterations_since_restore": 10}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -37504.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6594262886168871, "mean_processing_ms": 0.5794649040261556, "mean_inference_ms": 1.305873353189164}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 11000, "num_steps_trained": 2432000, "num_steps_sampled": 11000, "sample_time_ms": 11.409, "replay_time_ms": 7.953, "grad_time_ms": 19.884, "update_time_ms": 5.979, "opt_peak_throughput": 12874.88, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -708.3629150390625, "max_q": -9.902535438537598, "min_q": -1359.405517578125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 11000, "episodes_total": 10, "training_iteration": 11, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-33-39", "timestamp": 1565076819, "time_this_iter_s": 50.79125261306763, "time_total_s": 549.9788324832916, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 549.9788324832916, "timesteps_since_restore": 11000, "iterations_since_restore": 11}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -36037.72727272727, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.657164377924795, "mean_processing_ms": 0.5794450012920064, "mean_inference_ms": 1.3043016425365626}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 12000, "num_steps_trained": 2688000, "num_steps_sampled": 12000, "sample_time_ms": 12.421, "replay_time_ms": 9.339, "grad_time_ms": 23.685, "update_time_ms": 6.775, "opt_peak_throughput": 10808.571, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -611.996826171875, "max_q": -10.426606178283691, "min_q": -1453.7298583984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 12000, "episodes_total": 11, "training_iteration": 12, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-34-31", "timestamp": 1565076871, "time_this_iter_s": 52.68725562095642, "time_total_s": 602.666088104248, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 602.666088104248, "timesteps_since_restore": 12000, "iterations_since_restore": 12}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -34579.75, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6541244799465795, "mean_processing_ms": 0.5793834868541178, "mean_inference_ms": 1.302713989555472}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 13000, "num_steps_trained": 2944000, "num_steps_sampled": 13000, "sample_time_ms": 10.764, "replay_time_ms": 6.587, "grad_time_ms": 20.182, "update_time_ms": 5.359, "opt_peak_throughput": 12684.442, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -672.7662963867188, "max_q": -14.554546356201172, "min_q": -1542.1744384765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 13000, "episodes_total": 12, "training_iteration": 13, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-35-22", "timestamp": 1565076922, "time_this_iter_s": 50.84082913398743, "time_total_s": 653.5069172382355, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 653.5069172382355, "timesteps_since_restore": 13000, "iterations_since_restore": 13}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -33423.46153846154, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.651048400697062, "mean_processing_ms": 0.5793448451318025, "mean_inference_ms": 1.3012703962018835}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 14000, "num_steps_trained": 3200000, "num_steps_sampled": 14000, "sample_time_ms": 10.89, "replay_time_ms": 8.797, "grad_time_ms": 22.661, "update_time_ms": 6.574, "opt_peak_throughput": 11296.968, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -619.7542724609375, "max_q": -17.15032196044922, "min_q": -1640.584228515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 14000, "episodes_total": 13, "training_iteration": 14, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-36-14", "timestamp": 1565076974, "time_this_iter_s": 51.7671000957489, "time_total_s": 705.2740173339844, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 705.2740173339844, "timesteps_since_restore": 14000, "iterations_since_restore": 14}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -32372.571428571428, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6475557483738932, "mean_processing_ms": 0.5792725069816621, "mean_inference_ms": 1.2999017316722608}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 15000, "num_steps_trained": 3456000, "num_steps_sampled": 15000, "sample_time_ms": 11.826, "replay_time_ms": 9.004, "grad_time_ms": 23.598, "update_time_ms": 6.334, "opt_peak_throughput": 10848.2, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -655.692626953125, "max_q": -17.627042770385742, "min_q": -1732.791748046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 15000, "episodes_total": 14, "training_iteration": 15, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-37-05", "timestamp": 1565077025, "time_this_iter_s": 51.35322594642639, "time_total_s": 756.6272432804108, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 756.6272432804108, "timesteps_since_restore": 15000, "iterations_since_restore": 15}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -31556.533333333333, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6436238121260789, "mean_processing_ms": 0.5791542969661332, "mean_inference_ms": 1.2985865174743585}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 16000, "num_steps_trained": 3712000, "num_steps_sampled": 16000, "sample_time_ms": 11.246, "replay_time_ms": 7.949, "grad_time_ms": 20.942, "update_time_ms": 5.771, "opt_peak_throughput": 12224.143, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -686.1599731445312, "max_q": -17.831295013427734, "min_q": -1828.417724609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 16000, "episodes_total": 15, "training_iteration": 16, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-37-57", "timestamp": 1565077077, "time_this_iter_s": 51.87197208404541, "time_total_s": 808.4992153644562, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 808.4992153644562, "timesteps_since_restore": 16000, "iterations_since_restore": 16}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -30217.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6392846575644062, "mean_processing_ms": 0.5789659772780076, "mean_inference_ms": 1.2973541155532922}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 17000, "num_steps_trained": 3968000, "num_steps_sampled": 17000, "sample_time_ms": 13.911, "replay_time_ms": 9.618, "grad_time_ms": 24.399, "update_time_ms": 7.401, "opt_peak_throughput": 10492.215, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -696.0458984375, "max_q": -17.728042602539062, "min_q": -1970.8565673828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 17000, "episodes_total": 16, "training_iteration": 17, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-38-50", "timestamp": 1565077130, "time_this_iter_s": 53.07547926902771, "time_total_s": 861.5746946334839, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 861.5746946334839, "timesteps_since_restore": 17000, "iterations_since_restore": 17}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -29019.823529411766, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6351150945875588, "mean_processing_ms": 0.5787734228851033, "mean_inference_ms": 1.2963158770645742}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 18000, "num_steps_trained": 4224000, "num_steps_sampled": 18000, "sample_time_ms": 14.838, "replay_time_ms": 10.222, "grad_time_ms": 25.266, "update_time_ms": 7.438, "opt_peak_throughput": 10132.173, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -731.4609985351562, "max_q": -21.924972534179688, "min_q": -1985.0943603515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 18000, "episodes_total": 17, "training_iteration": 18, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-39-46", "timestamp": 1565077186, "time_this_iter_s": 55.55270981788635, "time_total_s": 917.1274044513702, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 917.1274044513702, "timesteps_since_restore": 18000, "iterations_since_restore": 18}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -28193.055555555555, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6307792249917643, "mean_processing_ms": 0.5785306993880798, "mean_inference_ms": 1.2953602476492174}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 19000, "num_steps_trained": 4480000, "num_steps_sampled": 19000, "sample_time_ms": 14.496, "replay_time_ms": 10.359, "grad_time_ms": 23.568, "update_time_ms": 8.168, "opt_peak_throughput": 10862.005, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -665.8287353515625, "max_q": 110.08417510986328, "min_q": -2063.791748046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 19000, "episodes_total": 18, "training_iteration": 19, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-40-41", "timestamp": 1565077241, "time_this_iter_s": 54.78390598297119, "time_total_s": 971.9113104343414, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 971.9113104343414, "timesteps_since_restore": 19000, "iterations_since_restore": 19}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -27200.684210526317, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6266569156836659, "mean_processing_ms": 0.5782922851599305, "mean_inference_ms": 1.2945842644045302}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 20000, "num_steps_trained": 4736000, "num_steps_sampled": 20000, "sample_time_ms": 14.576, "replay_time_ms": 8.755, "grad_time_ms": 24.716, "update_time_ms": 6.723, "opt_peak_throughput": 10357.625, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -657.7352905273438, "max_q": 132.2216033935547, "min_q": -2135.02587890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 20000, "episodes_total": 19, "training_iteration": 20, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-41-36", "timestamp": 1565077296, "time_this_iter_s": 55.7391722202301, "time_total_s": 1027.6504826545715, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1027.6504826545715, "timesteps_since_restore": 20000, "iterations_since_restore": 20}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -26643.55, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.622756606120074, "mean_processing_ms": 0.5780297556208931, "mean_inference_ms": 1.2938416701648485}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 21000, "num_steps_trained": 4992000, "num_steps_sampled": 21000, "sample_time_ms": 14.672, "replay_time_ms": 7.605, "grad_time_ms": 20.58, "update_time_ms": 6.074, "opt_peak_throughput": 12439.445, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -739.542236328125, "max_q": -22.915870666503906, "min_q": -2254.4697265625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 21000, "episodes_total": 20, "training_iteration": 21, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-42-31", "timestamp": 1565077351, "time_this_iter_s": 54.63418006896973, "time_total_s": 1082.2846627235413, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1082.2846627235413, "timesteps_since_restore": 21000, "iterations_since_restore": 21}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -26193.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6189070632076203, "mean_processing_ms": 0.5777530505195111, "mean_inference_ms": 1.2931628427171584}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 22000, "num_steps_trained": 5248000, "num_steps_sampled": 22000, "sample_time_ms": 15.247, "replay_time_ms": 10.035, "grad_time_ms": 23.095, "update_time_ms": 7.16, "opt_peak_throughput": 11084.507, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -694.775146484375, "max_q": -24.804555892944336, "min_q": -2276.5576171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 22000, "episodes_total": 21, "training_iteration": 22, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-43-26", "timestamp": 1565077406, "time_this_iter_s": 55.22662544250488, "time_total_s": 1137.5112881660461, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1137.5112881660461, "timesteps_since_restore": 22000, "iterations_since_restore": 22}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -25694.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6151412939424667, "mean_processing_ms": 0.5774465981138827, "mean_inference_ms": 1.292501205341926}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 23000, "num_steps_trained": 5504000, "num_steps_sampled": 23000, "sample_time_ms": 12.344, "replay_time_ms": 8.876, "grad_time_ms": 21.48, "update_time_ms": 6.821, "opt_peak_throughput": 11918.017, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -714.7014770507812, "max_q": -38.8037223815918, "min_q": -2311.39013671875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 23000, "episodes_total": 22, "training_iteration": 23, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-44-22", "timestamp": 1565077462, "time_this_iter_s": 56.03325939178467, "time_total_s": 1193.5445475578308, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1193.5445475578308, "timesteps_since_restore": 23000, "iterations_since_restore": 23}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -25257.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.6114008680756982, "mean_processing_ms": 0.5771217327255003, "mean_inference_ms": 1.2918410675426564}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 24000, "num_steps_trained": 5760000, "num_steps_sampled": 24000, "sample_time_ms": 15.57, "replay_time_ms": 12.759, "grad_time_ms": 26.523, "update_time_ms": 10.081, "opt_peak_throughput": 9651.924, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -686.762451171875, "max_q": 397.1793212890625, "min_q": -2318.541015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 24000, "episodes_total": 23, "training_iteration": 24, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-45-16", "timestamp": 1565077516, "time_this_iter_s": 54.15559673309326, "time_total_s": 1247.700144290924, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1247.700144290924, "timesteps_since_restore": 24000, "iterations_since_restore": 24}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -24769.208333333332, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.607796251943558, "mean_processing_ms": 0.5767973428818461, "mean_inference_ms": 1.2911968929456397}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 25000, "num_steps_trained": 6016000, "num_steps_sampled": 25000, "sample_time_ms": 9.956, "replay_time_ms": 8.124, "grad_time_ms": 22.537, "update_time_ms": 6.506, "opt_peak_throughput": 11359.042, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -775.1261596679688, "max_q": -38.50687026977539, "min_q": -2513.38818359375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 25000, "episodes_total": 24, "training_iteration": 25, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-46-10", "timestamp": 1565077570, "time_this_iter_s": 53.35585832595825, "time_total_s": 1301.0560026168823, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1301.0560026168823, "timesteps_since_restore": 25000, "iterations_since_restore": 25}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -24347.72, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.604384286450779, "mean_processing_ms": 0.5765194522407573, "mean_inference_ms": 1.2905917741810569}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 26000, "num_steps_trained": 6272000, "num_steps_sampled": 26000, "sample_time_ms": 12.103, "replay_time_ms": 8.548, "grad_time_ms": 22.989, "update_time_ms": 6.648, "opt_peak_throughput": 11135.848, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -784.12451171875, "max_q": -40.57952117919922, "min_q": -2551.076171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 26000, "episodes_total": 25, "training_iteration": 26, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-47-02", "timestamp": 1565077622, "time_this_iter_s": 52.12201738357544, "time_total_s": 1353.1780200004578, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1353.1780200004578, "timesteps_since_restore": 26000, "iterations_since_restore": 26}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -23896.19230769231, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.601119774396344, "mean_processing_ms": 0.5762549247707571, "mean_inference_ms": 1.2899896718416766}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 27000, "num_steps_trained": 6528000, "num_steps_sampled": 27000, "sample_time_ms": 11.704, "replay_time_ms": 9.028, "grad_time_ms": 23.232, "update_time_ms": 6.928, "opt_peak_throughput": 11019.507, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -741.6388549804688, "max_q": -38.95445251464844, "min_q": -2475.107666015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 27000, "episodes_total": 26, "training_iteration": 27, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-47-53", "timestamp": 1565077673, "time_this_iter_s": 51.42751121520996, "time_total_s": 1404.6055312156677, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1404.6055312156677, "timesteps_since_restore": 27000, "iterations_since_restore": 27}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -23485.59259259259, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5979745244991714, "mean_processing_ms": 0.5760190055881845, "mean_inference_ms": 1.2894048389783055}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 28000, "num_steps_trained": 6784000, "num_steps_sampled": 28000, "sample_time_ms": 12.501, "replay_time_ms": 11.354, "grad_time_ms": 25.706, "update_time_ms": 8.12, "opt_peak_throughput": 9958.855, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -668.4842529296875, "max_q": 265.673828125, "min_q": -2432.943359375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 28000, "episodes_total": 27, "training_iteration": 28, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-48-45", "timestamp": 1565077725, "time_this_iter_s": 51.61209750175476, "time_total_s": 1456.2176287174225, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1456.2176287174225, "timesteps_since_restore": 28000, "iterations_since_restore": 28}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -22995.14285714286, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.594939853765177, "mean_processing_ms": 0.5758046530208695, "mean_inference_ms": 1.2888451948871114}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 29000, "num_steps_trained": 7040000, "num_steps_sampled": 29000, "sample_time_ms": 12.067, "replay_time_ms": 9.115, "grad_time_ms": 24.613, "update_time_ms": 6.717, "opt_peak_throughput": 10401.079, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -832.051513671875, "max_q": 5.516597747802734, "min_q": -2597.058837890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 29000, "episodes_total": 28, "training_iteration": 29, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-49-36", "timestamp": 1565077776, "time_this_iter_s": 51.191645860672, "time_total_s": 1507.4092745780945, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1507.4092745780945, "timesteps_since_restore": 29000, "iterations_since_restore": 29}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -22531.758620689656, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.59207258064425, "mean_processing_ms": 0.5756099913203795, "mean_inference_ms": 1.288313932555819}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 30000, "num_steps_trained": 7296000, "num_steps_sampled": 30000, "sample_time_ms": 12.153, "replay_time_ms": 8.542, "grad_time_ms": 23.136, "update_time_ms": 6.211, "opt_peak_throughput": 11064.883, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -746.660888671875, "max_q": 227.2536163330078, "min_q": -2699.089599609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 30000, "episodes_total": 29, "training_iteration": 30, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-50-28", "timestamp": 1565077828, "time_this_iter_s": 51.99817657470703, "time_total_s": 1559.4074511528015, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1559.4074511528015, "timesteps_since_restore": 30000, "iterations_since_restore": 30}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -22342.966666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5893455395312344, "mean_processing_ms": 0.5754431608034315, "mean_inference_ms": 1.2878139499871073}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 31000, "num_steps_trained": 7552000, "num_steps_sampled": 31000, "sample_time_ms": 10.539, "replay_time_ms": 10.085, "grad_time_ms": 21.888, "update_time_ms": 7.376, "opt_peak_throughput": 11696.063, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -697.3741455078125, "max_q": 287.35906982421875, "min_q": -2842.719970703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 31000, "episodes_total": 30, "training_iteration": 31, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-51-20", "timestamp": 1565077880, "time_this_iter_s": 52.372050523757935, "time_total_s": 1611.7795016765594, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1611.7795016765594, "timesteps_since_restore": 31000, "iterations_since_restore": 31}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -21935.612903225807, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5866425681344292, "mean_processing_ms": 0.5752835432982543, "mean_inference_ms": 1.287316021870791}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 32000, "num_steps_trained": 7808000, "num_steps_sampled": 32000, "sample_time_ms": 11.624, "replay_time_ms": 7.644, "grad_time_ms": 21.112, "update_time_ms": 5.747, "opt_peak_throughput": 12125.702, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -752.9465942382812, "max_q": -56.62483215332031, "min_q": -2931.873779296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 32000, "episodes_total": 31, "training_iteration": 32, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-52-11", "timestamp": 1565077931, "time_this_iter_s": 51.012402057647705, "time_total_s": 1662.7919037342072, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1662.7919037342072, "timesteps_since_restore": 32000, "iterations_since_restore": 32}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -21516.09375, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5840167913186858, "mean_processing_ms": 0.5751472105831839, "mean_inference_ms": 1.2868432939652685}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 33000, "num_steps_trained": 8064000, "num_steps_sampled": 33000, "sample_time_ms": 12.543, "replay_time_ms": 10.715, "grad_time_ms": 26.678, "update_time_ms": 8.939, "opt_peak_throughput": 9596.028, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -701.2330322265625, "max_q": -56.604007720947266, "min_q": -2892.88427734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 33000, "episodes_total": 32, "training_iteration": 33, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-53-03", "timestamp": 1565077983, "time_this_iter_s": 51.940773725509644, "time_total_s": 1714.7326774597168, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1714.7326774597168, "timesteps_since_restore": 33000, "iterations_since_restore": 33}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -21147.424242424244, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5815462341123256, "mean_processing_ms": 0.5750294342695152, "mean_inference_ms": 1.2863945718267213}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 34000, "num_steps_trained": 8320000, "num_steps_sampled": 34000, "sample_time_ms": 12.556, "replay_time_ms": 9.387, "grad_time_ms": 24.308, "update_time_ms": 7.545, "opt_peak_throughput": 10531.506, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -736.2876586914062, "max_q": 55.26871109008789, "min_q": -2854.597412109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 34000, "episodes_total": 33, "training_iteration": 34, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-53-55", "timestamp": 1565078035, "time_this_iter_s": 51.87396836280823, "time_total_s": 1766.606645822525, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1766.606645822525, "timesteps_since_restore": 34000, "iterations_since_restore": 34}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -21016.882352941175, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5791628595538165, "mean_processing_ms": 0.5749138164192635, "mean_inference_ms": 1.2859376406553629}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 35000, "num_steps_trained": 8576000, "num_steps_sampled": 35000, "sample_time_ms": 11.942, "replay_time_ms": 7.895, "grad_time_ms": 22.89, "update_time_ms": 6.221, "opt_peak_throughput": 11183.716, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -715.5206298828125, "max_q": -66.7608642578125, "min_q": -2847.184814453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 35000, "episodes_total": 34, "training_iteration": 35, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-54-45", "timestamp": 1565078085, "time_this_iter_s": 49.69166088104248, "time_total_s": 1816.2983067035675, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1816.2983067035675, "timesteps_since_restore": 35000, "iterations_since_restore": 35}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -20809.4, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5768783939090993, "mean_processing_ms": 0.5748072018319786, "mean_inference_ms": 1.2855159109731045}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 36000, "num_steps_trained": 8832000, "num_steps_sampled": 36000, "sample_time_ms": 13.907, "replay_time_ms": 8.782, "grad_time_ms": 23.716, "update_time_ms": 6.185, "opt_peak_throughput": 10794.272, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -711.3775634765625, "max_q": 211.41888427734375, "min_q": -2882.668212890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 36000, "episodes_total": 35, "training_iteration": 36, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-55-38", "timestamp": 1565078138, "time_this_iter_s": 53.1391544342041, "time_total_s": 1869.4374611377716, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1869.4374611377716, "timesteps_since_restore": 36000, "iterations_since_restore": 36}
{"episode_reward_max": -7436.0, "episode_reward_min": -55738.0, "episode_reward_mean": -20527.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5746126330736714, "mean_processing_ms": 0.5747039750488119, "mean_inference_ms": 1.2851315440092046}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 37000, "num_steps_trained": 9088000, "num_steps_sampled": 37000, "sample_time_ms": 14.445, "replay_time_ms": 9.631, "grad_time_ms": 23.095, "update_time_ms": 7.186, "opt_peak_throughput": 11084.45, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -733.2680053710938, "max_q": -66.88689422607422, "min_q": -2891.603271484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 37000, "episodes_total": 36, "training_iteration": 37, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-56-33", "timestamp": 1565078193, "time_this_iter_s": 54.87808537483215, "time_total_s": 1924.3155465126038, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1924.3155465126038, "timesteps_since_restore": 37000, "iterations_since_restore": 37}
{"episode_reward_max": -7265.0, "episode_reward_min": -55738.0, "episode_reward_mean": -20168.567567567567, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.572332736406717, "mean_processing_ms": 0.574599157846175, "mean_inference_ms": 1.2847692609955175}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 38000, "num_steps_trained": 9344000, "num_steps_sampled": 38000, "sample_time_ms": 14.511, "replay_time_ms": 11.138, "grad_time_ms": 24.998, "update_time_ms": 7.838, "opt_peak_throughput": 10240.654, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -719.3815307617188, "max_q": 77.8863296508789, "min_q": -2724.103759765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 38000, "episodes_total": 37, "training_iteration": 38, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-57-27", "timestamp": 1565078247, "time_this_iter_s": 53.85645890235901, "time_total_s": 1978.1720054149628, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 1978.1720054149628, "timesteps_since_restore": 38000, "iterations_since_restore": 38}
{"episode_reward_max": -4401.0, "episode_reward_min": -55738.0, "episode_reward_mean": -19753.63157894737, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5700610662128058, "mean_processing_ms": 0.5744923009054154, "mean_inference_ms": 1.2844154448497338}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 39000, "num_steps_trained": 9600000, "num_steps_sampled": 39000, "sample_time_ms": 14.419, "replay_time_ms": 11.302, "grad_time_ms": 26.501, "update_time_ms": 8.385, "opt_peak_throughput": 9659.904, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -680.4058227539062, "max_q": 205.1024932861328, "min_q": -2869.437744140625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 39000, "episodes_total": 38, "training_iteration": 39, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-58-21", "timestamp": 1565078301, "time_this_iter_s": 53.97856593132019, "time_total_s": 2032.150571346283, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2032.150571346283, "timesteps_since_restore": 39000, "iterations_since_restore": 39}
{"episode_reward_max": -4401.0, "episode_reward_min": -55738.0, "episode_reward_mean": -19390.46153846154, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5677708176338838, "mean_processing_ms": 0.5743799271315828, "mean_inference_ms": 1.2840728667396433}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 40000, "num_steps_trained": 9856000, "num_steps_sampled": 40000, "sample_time_ms": 14.793, "replay_time_ms": 10.647, "grad_time_ms": 24.306, "update_time_ms": 7.408, "opt_peak_throughput": 10532.426, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -673.8389892578125, "max_q": -3.5742452144622803, "min_q": -2593.951171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 40000, "episodes_total": 39, "training_iteration": 40, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_15-59-14", "timestamp": 1565078354, "time_this_iter_s": 53.06015610694885, "time_total_s": 2085.210727453232, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2085.210727453232, "timesteps_since_restore": 40000, "iterations_since_restore": 40}
{"episode_reward_max": -4401.0, "episode_reward_min": -55738.0, "episode_reward_mean": -19042.6, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.565497893907753, "mean_processing_ms": 0.5742618978128856, "mean_inference_ms": 1.2837473328338007}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 41000, "num_steps_trained": 10112000, "num_steps_sampled": 41000, "sample_time_ms": 15.072, "replay_time_ms": 9.751, "grad_time_ms": 23.736, "update_time_ms": 7.226, "opt_peak_throughput": 10785.402, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -639.2572631835938, "max_q": 154.93597412109375, "min_q": -2904.27392578125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 41000, "episodes_total": 40, "training_iteration": 41, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-00-08", "timestamp": 1565078408, "time_this_iter_s": 53.875349044799805, "time_total_s": 2139.0860764980316, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2139.0860764980316, "timesteps_since_restore": 41000, "iterations_since_restore": 41}
{"episode_reward_max": -4401.0, "episode_reward_min": -55738.0, "episode_reward_mean": -18712.60975609756, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.563293415030986, "mean_processing_ms": 0.5741454960248261, "mean_inference_ms": 1.2834491972918987}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 42000, "num_steps_trained": 10368000, "num_steps_sampled": 42000, "sample_time_ms": 14.225, "replay_time_ms": 9.534, "grad_time_ms": 22.594, "update_time_ms": 6.783, "opt_peak_throughput": 11330.215, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -643.5299682617188, "max_q": -73.49920654296875, "min_q": -2816.09130859375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 42000, "episodes_total": 41, "training_iteration": 42, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-01-04", "timestamp": 1565078464, "time_this_iter_s": 56.23741579055786, "time_total_s": 2195.3234922885895, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2195.3234922885895, "timesteps_since_restore": 42000, "iterations_since_restore": 42}
{"episode_reward_max": -4401.0, "episode_reward_min": -55738.0, "episode_reward_mean": -18534.35714285714, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.561085542893125, "mean_processing_ms": 0.5740226050076939, "mean_inference_ms": 1.2831527349655487}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 43000, "num_steps_trained": 10624000, "num_steps_sampled": 43000, "sample_time_ms": 14.887, "replay_time_ms": 9.998, "grad_time_ms": 21.092, "update_time_ms": 6.476, "opt_peak_throughput": 12137.078, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -663.99560546875, "max_q": -67.05615234375, "min_q": -2897.903076171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 43000, "episodes_total": 42, "training_iteration": 43, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-01-58", "timestamp": 1565078518, "time_this_iter_s": 53.985424757003784, "time_total_s": 2249.3089170455933, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2249.3089170455933, "timesteps_since_restore": 43000, "iterations_since_restore": 43}
{"episode_reward_max": -4162.0, "episode_reward_min": -55738.0, "episode_reward_mean": -18200.116279069767, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5588733902812506, "mean_processing_ms": 0.5738944230048992, "mean_inference_ms": 1.2828743002138805}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 44000, "num_steps_trained": 10880000, "num_steps_sampled": 44000, "sample_time_ms": 15.327, "replay_time_ms": 10.895, "grad_time_ms": 24.941, "update_time_ms": 7.747, "opt_peak_throughput": 10264.335, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -601.2674560546875, "max_q": -82.2304916381836, "min_q": -2811.767333984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 44000, "episodes_total": 43, "training_iteration": 44, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-02-53", "timestamp": 1565078573, "time_this_iter_s": 54.953312397003174, "time_total_s": 2304.2622294425964, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2304.2622294425964, "timesteps_since_restore": 44000, "iterations_since_restore": 44}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -17863.590909090908, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5566602768894946, "mean_processing_ms": 0.5737628494078786, "mean_inference_ms": 1.2826087742657277}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 45000, "num_steps_trained": 11136000, "num_steps_sampled": 45000, "sample_time_ms": 12.564, "replay_time_ms": 11.915, "grad_time_ms": 23.161, "update_time_ms": 8.078, "opt_peak_throughput": 11053.254, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -667.2056884765625, "max_q": -76.87763214111328, "min_q": -2869.08984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 45000, "episodes_total": 44, "training_iteration": 45, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-03-49", "timestamp": 1565078629, "time_this_iter_s": 55.662163496017456, "time_total_s": 2359.924392938614, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2359.924392938614, "timesteps_since_restore": 45000, "iterations_since_restore": 45}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -17560.6, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.554456905234545, "mean_processing_ms": 0.5736265784155284, "mean_inference_ms": 1.2823549961260199}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 46000, "num_steps_trained": 11392000, "num_steps_sampled": 46000, "sample_time_ms": 14.006, "replay_time_ms": 9.911, "grad_time_ms": 22.719, "update_time_ms": 7.504, "opt_peak_throughput": 11268.183, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -665.3310546875, "max_q": -73.51632690429688, "min_q": -2776.396484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 46000, "episodes_total": 45, "training_iteration": 46, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-04-44", "timestamp": 1565078684, "time_this_iter_s": 55.43591523170471, "time_total_s": 2415.3603081703186, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2415.3603081703186, "timesteps_since_restore": 46000, "iterations_since_restore": 46}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -17262.391304347828, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5522822041736999, "mean_processing_ms": 0.5734842981724156, "mean_inference_ms": 1.2821018058340865}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 47000, "num_steps_trained": 11648000, "num_steps_sampled": 47000, "sample_time_ms": 15.141, "replay_time_ms": 11.204, "grad_time_ms": 24.855, "update_time_ms": 8.446, "opt_peak_throughput": 10299.711, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -691.6901245117188, "max_q": -83.73658752441406, "min_q": -2690.648681640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 47000, "episodes_total": 46, "training_iteration": 47, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-05-38", "timestamp": 1565078738, "time_this_iter_s": 54.34119915962219, "time_total_s": 2469.701507329941, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2469.701507329941, "timesteps_since_restore": 47000, "iterations_since_restore": 47}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -16992.042553191488, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5501303248936222, "mean_processing_ms": 0.5733357309113447, "mean_inference_ms": 1.2818532752110714}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 48000, "num_steps_trained": 11904000, "num_steps_sampled": 48000, "sample_time_ms": 11.293, "replay_time_ms": 8.756, "grad_time_ms": 20.374, "update_time_ms": 6.106, "opt_peak_throughput": 12565.129, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -585.9761352539062, "max_q": -82.90011596679688, "min_q": -2637.643310546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 48000, "episodes_total": 47, "training_iteration": 48, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-06-33", "timestamp": 1565078793, "time_this_iter_s": 54.96120834350586, "time_total_s": 2524.6627156734467, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2524.6627156734467, "timesteps_since_restore": 48000, "iterations_since_restore": 48}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -16750.479166666668, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5480190521515362, "mean_processing_ms": 0.5731949486403486, "mean_inference_ms": 1.2816097061918459}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 49000, "num_steps_trained": 12160000, "num_steps_sampled": 49000, "sample_time_ms": 11.782, "replay_time_ms": 8.99, "grad_time_ms": 22.323, "update_time_ms": 6.649, "opt_peak_throughput": 11467.986, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -645.6971435546875, "max_q": 5.019598007202148, "min_q": -2601.838134765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 49000, "episodes_total": 48, "training_iteration": 49, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-07-24", "timestamp": 1565078844, "time_this_iter_s": 50.839624643325806, "time_total_s": 2575.5023403167725, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2575.5023403167725, "timesteps_since_restore": 49000, "iterations_since_restore": 49}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -16499.183673469386, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5459634419504769, "mean_processing_ms": 0.5730685628083175, "mean_inference_ms": 1.2813845356048688}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 50000, "num_steps_trained": 12416000, "num_steps_sampled": 50000, "sample_time_ms": 11.583, "replay_time_ms": 7.807, "grad_time_ms": 22.145, "update_time_ms": 6.591, "opt_peak_throughput": 11560.291, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -569.3578491210938, "max_q": -82.74762725830078, "min_q": -2681.61962890625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 50000, "episodes_total": 49, "training_iteration": 50, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-08-17", "timestamp": 1565078897, "time_this_iter_s": 52.73046064376831, "time_total_s": 2628.2328009605408, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2628.2328009605408, "timesteps_since_restore": 50000, "iterations_since_restore": 50}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -16255.4, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5439316497386921, "mean_processing_ms": 0.5729448449106255, "mean_inference_ms": 1.2811497626117694}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 51000, "num_steps_trained": 12672000, "num_steps_sampled": 51000, "sample_time_ms": 12.093, "replay_time_ms": 10.415, "grad_time_ms": 26.095, "update_time_ms": 7.491, "opt_peak_throughput": 9810.368, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -599.4058227539062, "max_q": -89.23348999023438, "min_q": -2499.68798828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 51000, "episodes_total": 50, "training_iteration": 51, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-09-09", "timestamp": 1565078949, "time_this_iter_s": 51.536957025527954, "time_total_s": 2679.7697579860687, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2679.7697579860687, "timesteps_since_restore": 51000, "iterations_since_restore": 51}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -16035.450980392157, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5419547254998522, "mean_processing_ms": 0.5728327171052014, "mean_inference_ms": 1.2809271425220154}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 52000, "num_steps_trained": 12928000, "num_steps_sampled": 52000, "sample_time_ms": 11.97, "replay_time_ms": 10.714, "grad_time_ms": 23.747, "update_time_ms": 7.525, "opt_peak_throughput": 10780.465, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -581.9310302734375, "max_q": -56.22575378417969, "min_q": -2555.074951171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 52000, "episodes_total": 51, "training_iteration": 52, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-10-01", "timestamp": 1565079001, "time_this_iter_s": 52.43815517425537, "time_total_s": 2732.207913160324, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2732.207913160324, "timesteps_since_restore": 52000, "iterations_since_restore": 52}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -15827.923076923076, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5400163720765079, "mean_processing_ms": 0.5727317313420375, "mean_inference_ms": 1.2807142200632182}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 53000, "num_steps_trained": 13184000, "num_steps_sampled": 53000, "sample_time_ms": 11.728, "replay_time_ms": 9.149, "grad_time_ms": 22.727, "update_time_ms": 6.648, "opt_peak_throughput": 11264.271, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -612.7479248046875, "max_q": -89.99778747558594, "min_q": -2486.964111328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 53000, "episodes_total": 52, "training_iteration": 53, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-10-53", "timestamp": 1565079053, "time_this_iter_s": 52.27796244621277, "time_total_s": 2784.485875606537, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2784.485875606537, "timesteps_since_restore": 53000, "iterations_since_restore": 53}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -15612.377358490567, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.53813202757088, "mean_processing_ms": 0.5726411563880905, "mean_inference_ms": 1.2805135390131468}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 54000, "num_steps_trained": 13440000, "num_steps_sampled": 54000, "sample_time_ms": 11.855, "replay_time_ms": 9.562, "grad_time_ms": 22.858, "update_time_ms": 6.986, "opt_peak_throughput": 11199.755, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -605.2830200195312, "max_q": -47.16401290893555, "min_q": -2546.176025390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 54000, "episodes_total": 53, "training_iteration": 54, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-11-45", "timestamp": 1565079105, "time_this_iter_s": 52.07116460800171, "time_total_s": 2836.5570402145386, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2836.5570402145386, "timesteps_since_restore": 54000, "iterations_since_restore": 54}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -15397.12962962963, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5362881514115985, "mean_processing_ms": 0.5725567168912601, "mean_inference_ms": 1.280316817632925}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 55000, "num_steps_trained": 13696000, "num_steps_sampled": 55000, "sample_time_ms": 11.933, "replay_time_ms": 12.381, "grad_time_ms": 22.684, "update_time_ms": 8.296, "opt_peak_throughput": 11285.665, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -552.5293579101562, "max_q": -84.49505615234375, "min_q": -2466.31787109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 55000, "episodes_total": 54, "training_iteration": 55, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-12-37", "timestamp": 1565079157, "time_this_iter_s": 51.54691767692566, "time_total_s": 2888.1039578914642, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2888.1039578914642, "timesteps_since_restore": 55000, "iterations_since_restore": 55}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -15208.709090909091, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5344795087987688, "mean_processing_ms": 0.5724761195025407, "mean_inference_ms": 1.2801170591585034}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 56000, "num_steps_trained": 13952000, "num_steps_sampled": 56000, "sample_time_ms": 12.033, "replay_time_ms": 8.913, "grad_time_ms": 22.183, "update_time_ms": 7.102, "opt_peak_throughput": 11540.622, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -458.8876953125, "max_q": -86.43762969970703, "min_q": -2433.97509765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 56000, "episodes_total": 55, "training_iteration": 56, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-13-28", "timestamp": 1565079208, "time_this_iter_s": 51.48523831367493, "time_total_s": 2939.589196205139, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2939.589196205139, "timesteps_since_restore": 56000, "iterations_since_restore": 56}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -15032.857142857143, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.532709347114811, "mean_processing_ms": 0.5724032325780419, "mean_inference_ms": 1.2799252741218707}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 57000, "num_steps_trained": 14208000, "num_steps_sampled": 57000, "sample_time_ms": 12.405, "replay_time_ms": 10.322, "grad_time_ms": 24.987, "update_time_ms": 8.277, "opt_peak_throughput": 10245.13, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -461.2630920410156, "max_q": -54.17045974731445, "min_q": -1671.041748046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 57000, "episodes_total": 56, "training_iteration": 57, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-14-21", "timestamp": 1565079261, "time_this_iter_s": 52.09567880630493, "time_total_s": 2991.684875011444, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 2991.684875011444, "timesteps_since_restore": 57000, "iterations_since_restore": 57}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14865.140350877193, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5309627746068808, "mean_processing_ms": 0.5723310592267169, "mean_inference_ms": 1.2797321539442725}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 58000, "num_steps_trained": 14464000, "num_steps_sampled": 58000, "sample_time_ms": 12.07, "replay_time_ms": 7.875, "grad_time_ms": 22.847, "update_time_ms": 5.991, "opt_peak_throughput": 11204.909, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -435.11212158203125, "max_q": -96.51811981201172, "min_q": -1715.9000244140625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 58000, "episodes_total": 57, "training_iteration": 58, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-15-11", "timestamp": 1565079311, "time_this_iter_s": 50.58529853820801, "time_total_s": 3042.270173549652, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3042.270173549652, "timesteps_since_restore": 58000, "iterations_since_restore": 58}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14676.120689655172, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.529247019199568, "mean_processing_ms": 0.5722654871369941, "mean_inference_ms": 1.2795469608585714}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 59000, "num_steps_trained": 14720000, "num_steps_sampled": 59000, "sample_time_ms": 10.941, "replay_time_ms": 7.002, "grad_time_ms": 19.408, "update_time_ms": 5.547, "opt_peak_throughput": 13190.543, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -462.269775390625, "max_q": -94.67420196533203, "min_q": -1841.3291015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 59000, "episodes_total": 58, "training_iteration": 59, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-16-03", "timestamp": 1565079363, "time_this_iter_s": 51.91457676887512, "time_total_s": 3094.184750318527, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3094.184750318527, "timesteps_since_restore": 59000, "iterations_since_restore": 59}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14490.49152542373, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.527559658248589, "mean_processing_ms": 0.5722060774795997, "mean_inference_ms": 1.2793690526488075}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 60000, "num_steps_trained": 14976000, "num_steps_sampled": 60000, "sample_time_ms": 12.412, "replay_time_ms": 11.411, "grad_time_ms": 26.063, "update_time_ms": 8.249, "opt_peak_throughput": 9822.394, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -425.2911376953125, "max_q": -98.76618194580078, "min_q": -1546.7457275390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 60000, "episodes_total": 59, "training_iteration": 60, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-16-55", "timestamp": 1565079415, "time_this_iter_s": 52.00821495056152, "time_total_s": 3146.1929652690887, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3146.1929652690887, "timesteps_since_restore": 60000, "iterations_since_restore": 60}
{"episode_reward_max": -3393.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14311.216666666667, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5258798527908428, "mean_processing_ms": 0.5721455669488621, "mean_inference_ms": 1.2791867018460137}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 61000, "num_steps_trained": 15232000, "num_steps_sampled": 61000, "sample_time_ms": 14.274, "replay_time_ms": 10.429, "grad_time_ms": 22.604, "update_time_ms": 7.421, "opt_peak_throughput": 11325.387, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -410.813720703125, "max_q": -106.22232055664062, "min_q": -1415.0384521484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 61000, "episodes_total": 60, "training_iteration": 61, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-17-47", "timestamp": 1565079467, "time_this_iter_s": 51.481255531311035, "time_total_s": 3197.6742208004, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3197.6742208004, "timesteps_since_restore": 61000, "iterations_since_restore": 61}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14132.180327868853, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5242305551913462, "mean_processing_ms": 0.5720851735696051, "mean_inference_ms": 1.2790095567286819}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 62000, "num_steps_trained": 15488000, "num_steps_sampled": 62000, "sample_time_ms": 14.534, "replay_time_ms": 10.672, "grad_time_ms": 25.587, "update_time_ms": 7.665, "opt_peak_throughput": 10005.272, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -416.75048828125, "max_q": -101.54133605957031, "min_q": -1465.13916015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 62000, "episodes_total": 61, "training_iteration": 62, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-18-41", "timestamp": 1565079521, "time_this_iter_s": 54.09092926979065, "time_total_s": 3251.7651500701904, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3251.7651500701904, "timesteps_since_restore": 62000, "iterations_since_restore": 62}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -14000.225806451614, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5226032113124541, "mean_processing_ms": 0.572023675992828, "mean_inference_ms": 1.2788382045338518}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 63000, "num_steps_trained": 15744000, "num_steps_sampled": 63000, "sample_time_ms": 14.369, "replay_time_ms": 9.748, "grad_time_ms": 22.104, "update_time_ms": 6.527, "opt_peak_throughput": 11581.814, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -410.7798156738281, "max_q": -101.03147888183594, "min_q": -1656.9635009765625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 63000, "episodes_total": 62, "training_iteration": 63, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-19-35", "timestamp": 1565079575, "time_this_iter_s": 54.28148055076599, "time_total_s": 3306.0466306209564, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3306.0466306209564, "timesteps_since_restore": 63000, "iterations_since_restore": 63}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13849.20634920635, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.521010106667042, "mean_processing_ms": 0.5719670848953008, "mean_inference_ms": 1.2786752275562894}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 64000, "num_steps_trained": 16000000, "num_steps_sampled": 64000, "sample_time_ms": 12.557, "replay_time_ms": 10.684, "grad_time_ms": 25.871, "update_time_ms": 8.983, "opt_peak_throughput": 9895.426, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -341.135986328125, "max_q": -99.46101379394531, "min_q": -1327.407470703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 64000, "episodes_total": 63, "training_iteration": 64, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-20-27", "timestamp": 1565079627, "time_this_iter_s": 52.54397225379944, "time_total_s": 3358.590602874756, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3358.590602874756, "timesteps_since_restore": 64000, "iterations_since_restore": 64}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13696.90625, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5194469156370918, "mean_processing_ms": 0.5719133891528074, "mean_inference_ms": 1.2785142586594578}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 65000, "num_steps_trained": 16256000, "num_steps_sampled": 65000, "sample_time_ms": 11.232, "replay_time_ms": 7.432, "grad_time_ms": 19.646, "update_time_ms": 6.125, "opt_peak_throughput": 13030.531, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -374.2711181640625, "max_q": -104.6813735961914, "min_q": -1494.5439453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 65000, "episodes_total": 64, "training_iteration": 65, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-21-19", "timestamp": 1565079679, "time_this_iter_s": 51.37116050720215, "time_total_s": 3409.961763381958, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3409.961763381958, "timesteps_since_restore": 65000, "iterations_since_restore": 65}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13552.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5179169895539084, "mean_processing_ms": 0.5718657427597715, "mean_inference_ms": 1.2783600700628874}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 66000, "num_steps_trained": 16512000, "num_steps_sampled": 66000, "sample_time_ms": 11.46, "replay_time_ms": 8.046, "grad_time_ms": 21.736, "update_time_ms": 5.961, "opt_peak_throughput": 11777.656, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -352.95782470703125, "max_q": -105.0477523803711, "min_q": -1237.48681640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 66000, "episodes_total": 65, "training_iteration": 66, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-22-11", "timestamp": 1565079731, "time_this_iter_s": 52.298107385635376, "time_total_s": 3462.2598707675934, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3462.2598707675934, "timesteps_since_restore": 66000, "iterations_since_restore": 66}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13403.848484848484, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5164117223664995, "mean_processing_ms": 0.571821849199877, "mean_inference_ms": 1.278210384926564}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 67000, "num_steps_trained": 16768000, "num_steps_sampled": 67000, "sample_time_ms": 11.955, "replay_time_ms": 9.058, "grad_time_ms": 22.426, "update_time_ms": 6.889, "opt_peak_throughput": 11415.39, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -328.3284912109375, "max_q": -109.0326919555664, "min_q": -1319.0633544921875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 67000, "episodes_total": 66, "training_iteration": 67, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-23-03", "timestamp": 1565079783, "time_this_iter_s": 52.24439811706543, "time_total_s": 3514.504268884659, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3514.504268884659, "timesteps_since_restore": 67000, "iterations_since_restore": 67}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13254.910447761195, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5149499592348006, "mean_processing_ms": 0.57178371038059, "mean_inference_ms": 1.278071066510042}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 68000, "num_steps_trained": 17024000, "num_steps_sampled": 68000, "sample_time_ms": 12.089, "replay_time_ms": 11.94, "grad_time_ms": 23.804, "update_time_ms": 9.047, "opt_peak_throughput": 10754.486, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -312.9691162109375, "max_q": -109.39838409423828, "min_q": -1438.64892578125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 68000, "episodes_total": 67, "training_iteration": 68, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-23-56", "timestamp": 1565079836, "time_this_iter_s": 52.882319927215576, "time_total_s": 3567.3865888118744, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3567.3865888118744, "timesteps_since_restore": 68000, "iterations_since_restore": 68}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13136.058823529413, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5135183379685757, "mean_processing_ms": 0.571746050863101, "mean_inference_ms": 1.2779312653545023}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 69000, "num_steps_trained": 17280000, "num_steps_sampled": 69000, "sample_time_ms": 12.608, "replay_time_ms": 12.248, "grad_time_ms": 23.25, "update_time_ms": 8.333, "opt_peak_throughput": 11010.557, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -314.64422607421875, "max_q": -107.68153381347656, "min_q": -1176.062744140625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 69000, "episodes_total": 68, "training_iteration": 69, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-24-48", "timestamp": 1565079888, "time_this_iter_s": 51.57057738304138, "time_total_s": 3618.9571661949158, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3618.9571661949158, "timesteps_since_restore": 69000, "iterations_since_restore": 69}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -13030.63768115942, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5121085608896243, "mean_processing_ms": 0.5717113197724804, "mean_inference_ms": 1.2777966890079397}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 70000, "num_steps_trained": 17536000, "num_steps_sampled": 70000, "sample_time_ms": 12.085, "replay_time_ms": 8.897, "grad_time_ms": 23.121, "update_time_ms": 6.982, "opt_peak_throughput": 11072.026, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -317.2353515625, "max_q": -99.58002471923828, "min_q": -1897.2608642578125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 70000, "episodes_total": 69, "training_iteration": 70, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-25-40", "timestamp": 1565079940, "time_this_iter_s": 51.98121213912964, "time_total_s": 3670.9383783340454, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3670.9383783340454, "timesteps_since_restore": 70000, "iterations_since_restore": 70}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12896.685714285713, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5107107175672962, "mean_processing_ms": 0.5716760830925917, "mean_inference_ms": 1.2776593447771256}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 71000, "num_steps_trained": 17792000, "num_steps_sampled": 71000, "sample_time_ms": 11.665, "replay_time_ms": 7.328, "grad_time_ms": 20.664, "update_time_ms": 5.655, "opt_peak_throughput": 12388.566, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -292.4378662109375, "max_q": -68.53585815429688, "min_q": -1501.5408935546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 71000, "episodes_total": 70, "training_iteration": 71, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-26-31", "timestamp": 1565079991, "time_this_iter_s": 50.621596813201904, "time_total_s": 3721.5599751472473, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3721.5599751472473, "timesteps_since_restore": 71000, "iterations_since_restore": 71}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12770.18309859155, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5093383335362118, "mean_processing_ms": 0.571642943646064, "mean_inference_ms": 1.2775241325239124}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 72000, "num_steps_trained": 18048000, "num_steps_sampled": 72000, "sample_time_ms": 12.514, "replay_time_ms": 11.423, "grad_time_ms": 24.141, "update_time_ms": 8.612, "opt_peak_throughput": 10604.564, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -262.2442932128906, "max_q": -105.95455169677734, "min_q": -1447.880615234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 72000, "episodes_total": 71, "training_iteration": 72, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-27-22", "timestamp": 1565080042, "time_this_iter_s": 51.70865082740784, "time_total_s": 3773.268625974655, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3773.268625974655, "timesteps_since_restore": 72000, "iterations_since_restore": 72}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12653.736111111111, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5079857707265711, "mean_processing_ms": 0.5716111043852049, "mean_inference_ms": 1.2773893399358434}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 73000, "num_steps_trained": 18304000, "num_steps_sampled": 73000, "sample_time_ms": 12.226, "replay_time_ms": 9.62, "grad_time_ms": 23.459, "update_time_ms": 7.229, "opt_peak_throughput": 10912.875, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -301.9450988769531, "max_q": -105.92495727539062, "min_q": -1913.182861328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 73000, "episodes_total": 72, "training_iteration": 73, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-28-14", "timestamp": 1565080094, "time_this_iter_s": 51.38140344619751, "time_total_s": 3824.6500294208527, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3824.6500294208527, "timesteps_since_restore": 73000, "iterations_since_restore": 73}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12532.424657534246, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5066572253578658, "mean_processing_ms": 0.5715818128215235, "mean_inference_ms": 1.2772572023994362}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 74000, "num_steps_trained": 18560000, "num_steps_sampled": 74000, "sample_time_ms": 11.793, "replay_time_ms": 7.779, "grad_time_ms": 20.369, "update_time_ms": 5.738, "opt_peak_throughput": 12568.218, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -257.97796630859375, "max_q": -115.28096008300781, "min_q": -1456.57275390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 74000, "episodes_total": 73, "training_iteration": 74, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-29-04", "timestamp": 1565080144, "time_this_iter_s": 50.808043241500854, "time_total_s": 3875.4580726623535, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3875.4580726623535, "timesteps_since_restore": 74000, "iterations_since_restore": 74}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12428.135135135135, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5053493065064434, "mean_processing_ms": 0.5715534218999954, "mean_inference_ms": 1.2771308812994675}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 75000, "num_steps_trained": 18816000, "num_steps_sampled": 75000, "sample_time_ms": 13.575, "replay_time_ms": 8.153, "grad_time_ms": 21.616, "update_time_ms": 5.751, "opt_peak_throughput": 11842.854, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -254.45205688476562, "max_q": -116.00437927246094, "min_q": -1991.248046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 75000, "episodes_total": 74, "training_iteration": 75, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-29-58", "timestamp": 1565080198, "time_this_iter_s": 53.91315269470215, "time_total_s": 3929.3712253570557, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3929.3712253570557, "timesteps_since_restore": 75000, "iterations_since_restore": 75}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12317.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.504056483930068, "mean_processing_ms": 0.5715238642682213, "mean_inference_ms": 1.2770085901918504}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 76000, "num_steps_trained": 19072000, "num_steps_sampled": 76000, "sample_time_ms": 14.14, "replay_time_ms": 8.538, "grad_time_ms": 21.624, "update_time_ms": 6.119, "opt_peak_throughput": 11838.597, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -243.6201171875, "max_q": -112.47270202636719, "min_q": -1254.8131103515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 76000, "episodes_total": 75, "training_iteration": 76, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-30-53", "timestamp": 1565080253, "time_this_iter_s": 54.21250653266907, "time_total_s": 3983.5837318897247, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 3983.5837318897247, "timesteps_since_restore": 76000, "iterations_since_restore": 76}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12207.46052631579, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5027770586433993, "mean_processing_ms": 0.5714920233730872, "mean_inference_ms": 1.2768881396719125}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 77000, "num_steps_trained": 19328000, "num_steps_sampled": 77000, "sample_time_ms": 8.258, "replay_time_ms": 6.557, "grad_time_ms": 20.342, "update_time_ms": 5.128, "opt_peak_throughput": 12584.583, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -233.1212615966797, "max_q": -118.4552230834961, "min_q": -1425.048828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 77000, "episodes_total": 76, "training_iteration": 77, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-31-46", "timestamp": 1565080306, "time_this_iter_s": 53.33203172683716, "time_total_s": 4036.915763616562, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4036.915763616562, "timesteps_since_restore": 77000, "iterations_since_restore": 77}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12109.311688311689, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.5015121967057543, "mean_processing_ms": 0.5714590846839728, "mean_inference_ms": 1.276770665796654}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 78000, "num_steps_trained": 19584000, "num_steps_sampled": 78000, "sample_time_ms": 11.754, "replay_time_ms": 7.629, "grad_time_ms": 19.599, "update_time_ms": 5.602, "opt_peak_throughput": 13062.028, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -230.82571411132812, "max_q": -118.1701431274414, "min_q": -1239.31103515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 78000, "episodes_total": 77, "training_iteration": 78, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-32-40", "timestamp": 1565080360, "time_this_iter_s": 54.04334115982056, "time_total_s": 4090.9591047763824, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4090.9591047763824, "timesteps_since_restore": 78000, "iterations_since_restore": 78}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -12002.384615384615, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.500259788225076, "mean_processing_ms": 0.5714224207378807, "mean_inference_ms": 1.2766515017486277}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 79000, "num_steps_trained": 19840000, "num_steps_sampled": 79000, "sample_time_ms": 14.564, "replay_time_ms": 8.349, "grad_time_ms": 19.968, "update_time_ms": 6.129, "opt_peak_throughput": 12820.354, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -221.9907684326172, "max_q": -117.84016418457031, "min_q": -802.474609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 79000, "episodes_total": 78, "training_iteration": 79, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-33-34", "timestamp": 1565080414, "time_this_iter_s": 53.87933683395386, "time_total_s": 4144.838441610336, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4144.838441610336, "timesteps_since_restore": 79000, "iterations_since_restore": 79}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11898.151898734177, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4990182173398636, "mean_processing_ms": 0.5713820204481479, "mean_inference_ms": 1.2765314068056466}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 80000, "num_steps_trained": 20096000, "num_steps_sampled": 80000, "sample_time_ms": 7.32, "replay_time_ms": 6.928, "grad_time_ms": 18.96, "update_time_ms": 5.52, "opt_peak_throughput": 13501.924, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -228.94985961914062, "max_q": -117.50606536865234, "min_q": -1581.61181640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 80000, "episodes_total": 79, "training_iteration": 80, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-34-27", "timestamp": 1565080467, "time_this_iter_s": 53.53520345687866, "time_total_s": 4198.373645067215, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4198.373645067215, "timesteps_since_restore": 80000, "iterations_since_restore": 80}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11797.9625, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4977963985088631, "mean_processing_ms": 0.5713400536686519, "mean_inference_ms": 1.2764142830347303}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 81000, "num_steps_trained": 20352000, "num_steps_sampled": 81000, "sample_time_ms": 14.871, "replay_time_ms": 11.298, "grad_time_ms": 22.788, "update_time_ms": 8.369, "opt_peak_throughput": 11234.171, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -214.93418884277344, "max_q": -122.458251953125, "min_q": -1152.3143310546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 81000, "episodes_total": 80, "training_iteration": 81, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-35-22", "timestamp": 1565080522, "time_this_iter_s": 54.949971437454224, "time_total_s": 4253.323616504669, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4253.323616504669, "timesteps_since_restore": 81000, "iterations_since_restore": 81}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11699.666666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4965847375053078, "mean_processing_ms": 0.5712952786557631, "mean_inference_ms": 1.2762975856931733}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 82000, "num_steps_trained": 20608000, "num_steps_sampled": 82000, "sample_time_ms": 11.475, "replay_time_ms": 9.587, "grad_time_ms": 20.741, "update_time_ms": 7.968, "opt_peak_throughput": 12342.456, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -220.94723510742188, "max_q": -117.52246856689453, "min_q": -892.6328735351562}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 82000, "episodes_total": 81, "training_iteration": 82, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-36-16", "timestamp": 1565080576, "time_this_iter_s": 54.037169218063354, "time_total_s": 4307.3607857227325, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4307.3607857227325, "timesteps_since_restore": 82000, "iterations_since_restore": 82}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11612.19512195122, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4953839791043073, "mean_processing_ms": 0.571248762329203, "mean_inference_ms": 1.2761819309941964}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 83000, "num_steps_trained": 20864000, "num_steps_sampled": 83000, "sample_time_ms": 14.689, "replay_time_ms": 9.465, "grad_time_ms": 21.338, "update_time_ms": 6.805, "opt_peak_throughput": 11997.129, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -215.50112915039062, "max_q": -122.13863372802734, "min_q": -922.412841796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 83000, "episodes_total": 82, "training_iteration": 83, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-37-10", "timestamp": 1565080630, "time_this_iter_s": 54.09641122817993, "time_total_s": 4361.4571969509125, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4361.4571969509125, "timesteps_since_restore": 83000, "iterations_since_restore": 83}
{"episode_reward_max": -3390.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11518.530120481928, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4941963193148176, "mean_processing_ms": 0.5712018439315732, "mean_inference_ms": 1.2760705947813238}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 84000, "num_steps_trained": 21120000, "num_steps_sampled": 84000, "sample_time_ms": 12.471, "replay_time_ms": 10.354, "grad_time_ms": 23.518, "update_time_ms": 7.765, "opt_peak_throughput": 10885.438, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -212.2277069091797, "max_q": -125.53520965576172, "min_q": -1984.2362060546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 84000, "episodes_total": 83, "training_iteration": 84, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-38-06", "timestamp": 1565080686, "time_this_iter_s": 55.234737157821655, "time_total_s": 4416.691934108734, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4416.691934108734, "timesteps_since_restore": 84000, "iterations_since_restore": 84}
{"episode_reward_max": -3210.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11419.619047619048, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.493023618737015, "mean_processing_ms": 0.5711547166129565, "mean_inference_ms": 1.2759601831932605}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 85000, "num_steps_trained": 21376000, "num_steps_sampled": 85000, "sample_time_ms": 8.87, "replay_time_ms": 6.683, "grad_time_ms": 19.719, "update_time_ms": 5.519, "opt_peak_throughput": 12982.447, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -209.70892333984375, "max_q": -123.0898208618164, "min_q": -858.7528686523438}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 85000, "episodes_total": 84, "training_iteration": 85, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-38-58", "timestamp": 1565080738, "time_this_iter_s": 52.0588002204895, "time_total_s": 4468.750734329224, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4468.750734329224, "timesteps_since_restore": 85000, "iterations_since_restore": 85}
{"episode_reward_max": -3210.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11328.70588235294, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4918702819549725, "mean_processing_ms": 0.5711113968629262, "mean_inference_ms": 1.2758540582126716}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 86000, "num_steps_trained": 21632000, "num_steps_sampled": 86000, "sample_time_ms": 11.486, "replay_time_ms": 10.959, "grad_time_ms": 24.884, "update_time_ms": 8.025, "opt_peak_throughput": 10287.899, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -192.6437225341797, "max_q": -126.63575744628906, "min_q": -506.2240905761719}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 86000, "episodes_total": 85, "training_iteration": 86, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-39-50", "timestamp": 1565080790, "time_this_iter_s": 51.92725443840027, "time_total_s": 4520.677988767624, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4520.677988767624, "timesteps_since_restore": 86000, "iterations_since_restore": 86}
{"episode_reward_max": -3210.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11241.941860465116, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4907280766310766, "mean_processing_ms": 0.5710691005983429, "mean_inference_ms": 1.2757473549790832}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 87000, "num_steps_trained": 21888000, "num_steps_sampled": 87000, "sample_time_ms": 6.73, "replay_time_ms": 6.484, "grad_time_ms": 18.302, "update_time_ms": 5.611, "opt_peak_throughput": 13987.461, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -197.41531372070312, "max_q": -124.1011962890625, "min_q": -1763.9510498046875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 87000, "episodes_total": 86, "training_iteration": 87, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-40-41", "timestamp": 1565080841, "time_this_iter_s": 50.926560163497925, "time_total_s": 4571.604548931122, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4571.604548931122, "timesteps_since_restore": 87000, "iterations_since_restore": 87}
{"episode_reward_max": -2846.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11145.436781609196, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4895962000536778, "mean_processing_ms": 0.5710272271117117, "mean_inference_ms": 1.275639951200035}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 88000, "num_steps_trained": 22144000, "num_steps_sampled": 88000, "sample_time_ms": 12.467, "replay_time_ms": 11.391, "grad_time_ms": 25.16, "update_time_ms": 9.055, "opt_peak_throughput": 10174.966, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -200.62448120117188, "max_q": -131.26976013183594, "min_q": -1474.27783203125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 88000, "episodes_total": 87, "training_iteration": 88, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-41-32", "timestamp": 1565080892, "time_this_iter_s": 50.86110067367554, "time_total_s": 4622.465649604797, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4622.465649604797, "timesteps_since_restore": 88000, "iterations_since_restore": 88}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -11050.681818181818, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4884807635765234, "mean_processing_ms": 0.5709863679862114, "mean_inference_ms": 1.2755315546389592}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 89000, "num_steps_trained": 22400000, "num_steps_sampled": 89000, "sample_time_ms": 11.643, "replay_time_ms": 8.282, "grad_time_ms": 22.195, "update_time_ms": 6.261, "opt_peak_throughput": 11534.102, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -207.1501922607422, "max_q": -129.15786743164062, "min_q": -672.861328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 89000, "episodes_total": 88, "training_iteration": 89, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-42-22", "timestamp": 1565080942, "time_this_iter_s": 50.943212270736694, "time_total_s": 4673.408861875534, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4673.408861875534, "timesteps_since_restore": 89000, "iterations_since_restore": 89}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10966.775280898877, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4873802217137344, "mean_processing_ms": 0.5709470950326377, "mean_inference_ms": 1.2754237724783595}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 90000, "num_steps_trained": 22656000, "num_steps_sampled": 90000, "sample_time_ms": 11.596, "replay_time_ms": 7.36, "grad_time_ms": 21.168, "update_time_ms": 5.697, "opt_peak_throughput": 12093.921, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -202.47293090820312, "max_q": -129.5179901123047, "min_q": -1381.3525390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 90000, "episodes_total": 89, "training_iteration": 90, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-43-14", "timestamp": 1565080994, "time_this_iter_s": 51.71805286407471, "time_total_s": 4725.126914739609, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4725.126914739609, "timesteps_since_restore": 90000, "iterations_since_restore": 90}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10886.255555555555, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4862992652226148, "mean_processing_ms": 0.5709099125933237, "mean_inference_ms": 1.2753194386766291}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 91000, "num_steps_trained": 22912000, "num_steps_sampled": 91000, "sample_time_ms": 11.656, "replay_time_ms": 9.165, "grad_time_ms": 23.127, "update_time_ms": 7.162, "opt_peak_throughput": 11069.264, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -201.9602508544922, "max_q": -131.05213928222656, "min_q": -924.154541015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 91000, "episodes_total": 90, "training_iteration": 91, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-44-06", "timestamp": 1565081046, "time_this_iter_s": 51.32521438598633, "time_total_s": 4776.452129125595, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4776.452129125595, "timesteps_since_restore": 91000, "iterations_since_restore": 91}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10814.978021978022, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4852324609054934, "mean_processing_ms": 0.5708743287869672, "mean_inference_ms": 1.2752163687003204}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 92000, "num_steps_trained": 23168000, "num_steps_sampled": 92000, "sample_time_ms": 11.883, "replay_time_ms": 8.69, "grad_time_ms": 23.4, "update_time_ms": 6.14, "opt_peak_throughput": 10940.373, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -191.07347106933594, "max_q": -130.2593536376953, "min_q": -397.6930236816406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 92000, "episodes_total": 91, "training_iteration": 92, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-44-56", "timestamp": 1565081096, "time_this_iter_s": 50.68414807319641, "time_total_s": 4827.1362771987915, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4827.1362771987915, "timesteps_since_restore": 92000, "iterations_since_restore": 92}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10734.108695652174, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4841782922733517, "mean_processing_ms": 0.5708406246279815, "mean_inference_ms": 1.2751139591171239}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 93000, "num_steps_trained": 23424000, "num_steps_sampled": 93000, "sample_time_ms": 8.713, "replay_time_ms": 8.316, "grad_time_ms": 20.856, "update_time_ms": 6.885, "opt_peak_throughput": 12274.435, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -192.12646484375, "max_q": -134.15187072753906, "min_q": -403.5772399902344}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 93000, "episodes_total": 92, "training_iteration": 93, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-45-47", "timestamp": 1565081147, "time_this_iter_s": 50.75457262992859, "time_total_s": 4877.89084982872, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4877.89084982872, "timesteps_since_restore": 93000, "iterations_since_restore": 93}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10651.827956989247, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4831314898686725, "mean_processing_ms": 0.5708062078973583, "mean_inference_ms": 1.2750096432987157}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 94000, "num_steps_trained": 23680000, "num_steps_sampled": 94000, "sample_time_ms": 12.155, "replay_time_ms": 10.787, "grad_time_ms": 23.9, "update_time_ms": 8.199, "opt_peak_throughput": 10711.304, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -190.75416564941406, "max_q": -131.26593017578125, "min_q": -362.71539306640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 94000, "episodes_total": 93, "training_iteration": 94, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-46-37", "timestamp": 1565081197, "time_this_iter_s": 50.16749405860901, "time_total_s": 4928.058343887329, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4928.058343887329, "timesteps_since_restore": 94000, "iterations_since_restore": 94}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10569.021276595744, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4821026307630911, "mean_processing_ms": 0.5707754076266943, "mean_inference_ms": 1.2749111468327445}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 95000, "num_steps_trained": 23936000, "num_steps_sampled": 95000, "sample_time_ms": 12.513, "replay_time_ms": 10.586, "grad_time_ms": 25.293, "update_time_ms": 7.691, "opt_peak_throughput": 10121.352, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -193.96917724609375, "max_q": -132.12591552734375, "min_q": -418.32611083984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 95000, "episodes_total": 94, "training_iteration": 95, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-47-29", "timestamp": 1565081249, "time_this_iter_s": 52.18707585334778, "time_total_s": 4980.245419740677, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 4980.245419740677, "timesteps_since_restore": 95000, "iterations_since_restore": 95}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10493.926315789473, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4810880209608974, "mean_processing_ms": 0.5707457666178822, "mean_inference_ms": 1.274815849437029}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 96000, "num_steps_trained": 24192000, "num_steps_sampled": 96000, "sample_time_ms": 11.825, "replay_time_ms": 7.703, "grad_time_ms": 22.976, "update_time_ms": 5.781, "opt_peak_throughput": 11142.088, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -192.00631713867188, "max_q": -132.73231506347656, "min_q": -406.42864990234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 96000, "episodes_total": 95, "training_iteration": 96, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-48-21", "timestamp": 1565081301, "time_this_iter_s": 51.926472663879395, "time_total_s": 5032.171892404556, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5032.171892404556, "timesteps_since_restore": 96000, "iterations_since_restore": 96}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10416.041666666666, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.480087529113277, "mean_processing_ms": 0.5707160642163164, "mean_inference_ms": 1.2747192783887589}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 97000, "num_steps_trained": 24448000, "num_steps_sampled": 97000, "sample_time_ms": 11.826, "replay_time_ms": 10.438, "grad_time_ms": 23.902, "update_time_ms": 7.42, "opt_peak_throughput": 10710.417, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -186.38711547851562, "max_q": -131.84414672851562, "min_q": -360.3540954589844}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 97000, "episodes_total": 96, "training_iteration": 97, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-49-12", "timestamp": 1565081352, "time_this_iter_s": 51.12507677078247, "time_total_s": 5083.296969175339, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5083.296969175339, "timesteps_since_restore": 97000, "iterations_since_restore": 97}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10350.309278350516, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4790991933574016, "mean_processing_ms": 0.570686297950036, "mean_inference_ms": 1.274623493860635}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 98000, "num_steps_trained": 24704000, "num_steps_sampled": 98000, "sample_time_ms": 14.808, "replay_time_ms": 11.586, "grad_time_ms": 25.583, "update_time_ms": 8.204, "opt_peak_throughput": 10006.746, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -187.56533813476562, "max_q": -132.21177673339844, "min_q": -350.47003173828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 98000, "episodes_total": 97, "training_iteration": 98, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-50-05", "timestamp": 1565081405, "time_this_iter_s": 52.584898948669434, "time_total_s": 5135.881868124008, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5135.881868124008, "timesteps_since_restore": 98000, "iterations_since_restore": 98}
{"episode_reward_max": -2807.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10282.65306122449, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4781230441408457, "mean_processing_ms": 0.5706569769869169, "mean_inference_ms": 1.2745312227817531}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 99000, "num_steps_trained": 24960000, "num_steps_sampled": 99000, "sample_time_ms": 14.008, "replay_time_ms": 7.994, "grad_time_ms": 21.338, "update_time_ms": 5.578, "opt_peak_throughput": 11997.625, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -190.0054473876953, "max_q": -130.9296417236328, "min_q": -361.0995788574219}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 99000, "episodes_total": 98, "training_iteration": 99, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-50-59", "timestamp": 1565081459, "time_this_iter_s": 54.23748469352722, "time_total_s": 5190.119352817535, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5190.119352817535, "timesteps_since_restore": 99000, "iterations_since_restore": 99}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10203.282828282829, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.477155445033842, "mean_processing_ms": 0.5706272900855598, "mean_inference_ms": 1.2744404772104816}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 100000, "num_steps_trained": 25216000, "num_steps_sampled": 100000, "sample_time_ms": 11.932, "replay_time_ms": 9.671, "grad_time_ms": 23.5, "update_time_ms": 7.292, "opt_peak_throughput": 10893.71, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -195.80755615234375, "max_q": -128.74891662597656, "min_q": -356.6242980957031}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 100000, "episodes_total": 99, "training_iteration": 100, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-51-53", "timestamp": 1565081513, "time_this_iter_s": 53.75185036659241, "time_total_s": 5243.871203184128, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5243.871203184128, "timesteps_since_restore": 100000, "iterations_since_restore": 100}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10136.48, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4761991859125774, "mean_processing_ms": 0.5705985948467315, "mean_inference_ms": 1.274351532373862}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 101000, "num_steps_trained": 25472000, "num_steps_sampled": 101000, "sample_time_ms": 11.96, "replay_time_ms": 9.096, "grad_time_ms": 23.586, "update_time_ms": 6.181, "opt_peak_throughput": 10853.749, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -185.74293518066406, "max_q": -132.86627197265625, "min_q": -326.59393310546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 101000, "episodes_total": 100, "training_iteration": 101, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-52-45", "timestamp": 1565081565, "time_this_iter_s": 51.89073634147644, "time_total_s": 5295.761939525604, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5295.761939525604, "timesteps_since_restore": 101000, "iterations_since_restore": 101}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -10094.88, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4747418071354108, "mean_processing_ms": 0.5704948912796621, "mean_inference_ms": 1.2736104226466682}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 102000, "num_steps_trained": 25728000, "num_steps_sampled": 102000, "sample_time_ms": 12.62, "replay_time_ms": 12.732, "grad_time_ms": 24.922, "update_time_ms": 8.693, "opt_peak_throughput": 10272.161, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -187.31988525390625, "max_q": -130.43971252441406, "min_q": -352.4359436035156}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 102000, "episodes_total": 101, "training_iteration": 102, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-53-36", "timestamp": 1565081616, "time_this_iter_s": 51.06205415725708, "time_total_s": 5346.823993682861, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5346.823993682861, "timesteps_since_restore": 102000, "iterations_since_restore": 102}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -9720.53, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4725589040845661, "mean_processing_ms": 0.5703786994233395, "mean_inference_ms": 1.273046767905711}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 103000, "num_steps_trained": 25984000, "num_steps_sampled": 103000, "sample_time_ms": 11.719, "replay_time_ms": 9.253, "grad_time_ms": 23.902, "update_time_ms": 6.984, "opt_peak_throughput": 10710.417, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -197.5868377685547, "max_q": -135.53834533691406, "min_q": -369.81964111328125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 103000, "episodes_total": 102, "training_iteration": 103, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-54-27", "timestamp": 1565081667, "time_this_iter_s": 51.41808342933655, "time_total_s": 5398.242077112198, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5398.242077112198, "timesteps_since_restore": 103000, "iterations_since_restore": 103}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -9277.91, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4699731747045195, "mean_processing_ms": 0.5702690113427713, "mean_inference_ms": 1.27259594429815}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 104000, "num_steps_trained": 26240000, "num_steps_sampled": 104000, "sample_time_ms": 12.17, "replay_time_ms": 10.061, "grad_time_ms": 23.392, "update_time_ms": 7.902, "opt_peak_throughput": 10943.785, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -182.05441284179688, "max_q": -132.92372131347656, "min_q": -330.98828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 104000, "episodes_total": 103, "training_iteration": 104, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-55-19", "timestamp": 1565081719, "time_this_iter_s": 51.97912645339966, "time_total_s": 5450.2212035655975, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5450.2212035655975, "timesteps_since_restore": 104000, "iterations_since_restore": 104}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -8833.3, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4670794505210178, "mean_processing_ms": 0.5701632602960174, "mean_inference_ms": 1.2722057026562452}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 105000, "num_steps_trained": 26496000, "num_steps_sampled": 105000, "sample_time_ms": 12.1, "replay_time_ms": 10.329, "grad_time_ms": 23.843, "update_time_ms": 7.938, "opt_peak_throughput": 10737.096, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -191.12594604492188, "max_q": -133.1207733154297, "min_q": -401.3690185546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 105000, "episodes_total": 104, "training_iteration": 105, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-56-11", "timestamp": 1565081771, "time_this_iter_s": 51.342804193496704, "time_total_s": 5501.564007759094, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5501.564007759094, "timesteps_since_restore": 105000, "iterations_since_restore": 105}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -8387.67, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.463837948417682, "mean_processing_ms": 0.5700475886813688, "mean_inference_ms": 1.2718408535936319}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 106000, "num_steps_trained": 26752000, "num_steps_sampled": 106000, "sample_time_ms": 12.334, "replay_time_ms": 10.552, "grad_time_ms": 24.559, "update_time_ms": 7.159, "opt_peak_throughput": 10423.959, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -182.5519561767578, "max_q": -110.12557983398438, "min_q": -351.46649169921875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 106000, "episodes_total": 105, "training_iteration": 106, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-57-03", "timestamp": 1565081823, "time_this_iter_s": 51.91040825843811, "time_total_s": 5553.474416017532, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5553.474416017532, "timesteps_since_restore": 106000, "iterations_since_restore": 106}
{"episode_reward_max": -2425.0, "episode_reward_min": -55738.0, "episode_reward_mean": -7869.15, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4602686976869743, "mean_processing_ms": 0.5699179273369662, "mean_inference_ms": 1.2714732871737575}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 107000, "num_steps_trained": 27008000, "num_steps_sampled": 107000, "sample_time_ms": 12.193, "replay_time_ms": 10.645, "grad_time_ms": 24.576, "update_time_ms": 7.64, "opt_peak_throughput": 10416.618, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -179.05372619628906, "max_q": -132.95516967773438, "min_q": -325.54534912109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 107000, "episodes_total": 106, "training_iteration": 107, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-57-55", "timestamp": 1565081875, "time_this_iter_s": 52.08100628852844, "time_total_s": 5605.555422306061, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5605.555422306061, "timesteps_since_restore": 107000, "iterations_since_restore": 107}
{"episode_reward_max": -2425.0, "episode_reward_min": -37579.0, "episode_reward_mean": -7343.7, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4568520618658405, "mean_processing_ms": 0.5697997182741588, "mean_inference_ms": 1.271146414065946}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 108000, "num_steps_trained": 27264000, "num_steps_sampled": 108000, "sample_time_ms": 12.228, "replay_time_ms": 7.984, "grad_time_ms": 22.851, "update_time_ms": 5.991, "opt_peak_throughput": 11202.829, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -184.67701721191406, "max_q": -132.96176147460938, "min_q": -362.2120666503906}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 108000, "episodes_total": 107, "training_iteration": 108, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-58-47", "timestamp": 1565081927, "time_this_iter_s": 51.960376024246216, "time_total_s": 5657.515798330307, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5657.515798330307, "timesteps_since_restore": 108000, "iterations_since_restore": 108}
{"episode_reward_max": -2425.0, "episode_reward_min": -21366.0, "episode_reward_mean": -7007.77, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4537199840998292, "mean_processing_ms": 0.5696777283134843, "mean_inference_ms": 1.270838572125589}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 109000, "num_steps_trained": 27520000, "num_steps_sampled": 109000, "sample_time_ms": 11.896, "replay_time_ms": 7.662, "grad_time_ms": 20.252, "update_time_ms": 5.688, "opt_peak_throughput": 12640.525, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -185.86605834960938, "max_q": -132.18836975097656, "min_q": -335.2082824707031}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 109000, "episodes_total": 108, "training_iteration": 109, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_16-59-38", "timestamp": 1565081978, "time_this_iter_s": 51.37531542778015, "time_total_s": 5708.891113758087, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5708.891113758087, "timesteps_since_restore": 109000, "iterations_since_restore": 109}
{"episode_reward_max": -2425.0, "episode_reward_min": -21366.0, "episode_reward_mean": -6846.08, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.450809162669949, "mean_processing_ms": 0.569560886052884, "mean_inference_ms": 1.2705475194670575}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 110000, "num_steps_trained": 27776000, "num_steps_sampled": 110000, "sample_time_ms": 11.826, "replay_time_ms": 8.095, "grad_time_ms": 22.914, "update_time_ms": 6.028, "opt_peak_throughput": 11172.044, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -189.10244750976562, "max_q": -132.8202362060547, "min_q": -320.7004089355469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 110000, "episodes_total": 109, "training_iteration": 110, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-00-30", "timestamp": 1565082030, "time_this_iter_s": 51.86103963851929, "time_total_s": 5760.752153396606, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5760.752153396606, "timesteps_since_restore": 110000, "iterations_since_restore": 110}
{"episode_reward_max": -2425.0, "episode_reward_min": -21366.0, "episode_reward_mean": -6703.86, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4480710582958478, "mean_processing_ms": 0.5694664970943698, "mean_inference_ms": 1.2703117972882512}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 111000, "num_steps_trained": 28032000, "num_steps_sampled": 111000, "sample_time_ms": 11.823, "replay_time_ms": 8.99, "grad_time_ms": 22.548, "update_time_ms": 7.117, "opt_peak_throughput": 11353.793, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -186.43797302246094, "max_q": -133.0747833251953, "min_q": -322.318115234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 111000, "episodes_total": 110, "training_iteration": 111, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-01-21", "timestamp": 1565082081, "time_this_iter_s": 51.51112198829651, "time_total_s": 5812.263275384903, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5812.263275384903, "timesteps_since_restore": 111000, "iterations_since_restore": 111}
{"episode_reward_max": -2425.0, "episode_reward_min": -20132.0, "episode_reward_mean": -6523.69, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4454701656638864, "mean_processing_ms": 0.5693581425321629, "mean_inference_ms": 1.2700772786834513}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 112000, "num_steps_trained": 28288000, "num_steps_sampled": 112000, "sample_time_ms": 11.742, "replay_time_ms": 8.902, "grad_time_ms": 22.29, "update_time_ms": 6.603, "opt_peak_throughput": 11484.938, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -181.07008361816406, "max_q": -133.4925537109375, "min_q": -399.0656433105469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 112000, "episodes_total": 111, "training_iteration": 112, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-02-13", "timestamp": 1565082133, "time_this_iter_s": 51.147584199905396, "time_total_s": 5863.410859584808, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5863.410859584808, "timesteps_since_restore": 112000, "iterations_since_restore": 112}
{"episode_reward_max": -2425.0, "episode_reward_min": -20132.0, "episode_reward_mean": -6366.06, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4430057923883042, "mean_processing_ms": 0.5692566774544483, "mean_inference_ms": 1.2698789834324222}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 113000, "num_steps_trained": 28544000, "num_steps_sampled": 113000, "sample_time_ms": 16.133, "replay_time_ms": 8.998, "grad_time_ms": 21.85, "update_time_ms": 6.077, "opt_peak_throughput": 11716.214, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -186.35269165039062, "max_q": -134.71490478515625, "min_q": -335.9930419921875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 113000, "episodes_total": 112, "training_iteration": 113, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-03-05", "timestamp": 1565082185, "time_this_iter_s": 52.65125751495361, "time_total_s": 5916.062117099762, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5916.062117099762, "timesteps_since_restore": 113000, "iterations_since_restore": 113}
{"episode_reward_max": -2425.0, "episode_reward_min": -20132.0, "episode_reward_mean": -6216.45, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4405957728883496, "mean_processing_ms": 0.5691516809669754, "mean_inference_ms": 1.2696919119318688}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 114000, "num_steps_trained": 28800000, "num_steps_sampled": 114000, "sample_time_ms": 14.677, "replay_time_ms": 10.399, "grad_time_ms": 23.117, "update_time_ms": 7.182, "opt_peak_throughput": 11074.024, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -180.44961547851562, "max_q": -133.70494079589844, "min_q": -326.765380859375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 114000, "episodes_total": 113, "training_iteration": 114, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-03-59", "timestamp": 1565082239, "time_this_iter_s": 53.46987867355347, "time_total_s": 5969.531995773315, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 5969.531995773315, "timesteps_since_restore": 114000, "iterations_since_restore": 114}
{"episode_reward_max": -2064.0, "episode_reward_min": -20132.0, "episode_reward_mean": -6049.98, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.438298964792354, "mean_processing_ms": 0.5690522246370684, "mean_inference_ms": 1.2695255700701746}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 115000, "num_steps_trained": 29056000, "num_steps_sampled": 115000, "sample_time_ms": 14.147, "replay_time_ms": 9.16, "grad_time_ms": 23.049, "update_time_ms": 7.277, "opt_peak_throughput": 11106.9, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -182.86248779296875, "max_q": -119.83235931396484, "min_q": -337.4142761230469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 115000, "episodes_total": 114, "training_iteration": 115, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-04-53", "timestamp": 1565082293, "time_this_iter_s": 54.139429569244385, "time_total_s": 6023.67142534256, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6023.67142534256, "timesteps_since_restore": 115000, "iterations_since_restore": 115}
{"episode_reward_max": -2064.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5875.85, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4361277544952704, "mean_processing_ms": 0.5689593999957381, "mean_inference_ms": 1.269376416363646}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 116000, "num_steps_trained": 29312000, "num_steps_sampled": 116000, "sample_time_ms": 14.388, "replay_time_ms": 10.125, "grad_time_ms": 22.325, "update_time_ms": 6.89, "opt_peak_throughput": 11466.737, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -179.97442626953125, "max_q": -131.82077026367188, "min_q": -410.80096435546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 116000, "episodes_total": 115, "training_iteration": 116, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-05-46", "timestamp": 1565082346, "time_this_iter_s": 53.49492835998535, "time_total_s": 6077.166353702545, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6077.166353702545, "timesteps_since_restore": 116000, "iterations_since_restore": 116}
{"episode_reward_max": -2064.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5807.96, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.434090496955424, "mean_processing_ms": 0.5688787115770246, "mean_inference_ms": 1.2692389337877021}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 117000, "num_steps_trained": 29568000, "num_steps_sampled": 117000, "sample_time_ms": 14.498, "replay_time_ms": 8.617, "grad_time_ms": 22.026, "update_time_ms": 6.046, "opt_peak_throughput": 11622.658, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -179.5871124267578, "max_q": -133.9286346435547, "min_q": -333.6101989746094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 117000, "episodes_total": 116, "training_iteration": 117, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-06-40", "timestamp": 1565082400, "time_this_iter_s": 53.384278297424316, "time_total_s": 6130.5506319999695, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6130.5506319999695, "timesteps_since_restore": 117000, "iterations_since_restore": 117}
{"episode_reward_max": -2064.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5730.97, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.432102204149332, "mean_processing_ms": 0.5688015189303247, "mean_inference_ms": 1.2690935707211428}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 118000, "num_steps_trained": 29824000, "num_steps_sampled": 118000, "sample_time_ms": 14.527, "replay_time_ms": 11.685, "grad_time_ms": 22.931, "update_time_ms": 8.14, "opt_peak_throughput": 11164.076, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -177.30430603027344, "max_q": -130.40884399414062, "min_q": -338.93756103515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 118000, "episodes_total": 117, "training_iteration": 118, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-07-35", "timestamp": 1565082455, "time_this_iter_s": 55.07330894470215, "time_total_s": 6185.623940944672, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6185.623940944672, "timesteps_since_restore": 118000, "iterations_since_restore": 118}
{"episode_reward_max": -2064.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5615.18, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.430218091218749, "mean_processing_ms": 0.5687368493512345, "mean_inference_ms": 1.2689562173022775}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 119000, "num_steps_trained": 30080000, "num_steps_sampled": 119000, "sample_time_ms": 12.014, "replay_time_ms": 8.352, "grad_time_ms": 21.16, "update_time_ms": 6.104, "opt_peak_throughput": 12098.254, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -179.05169677734375, "max_q": -131.51832580566406, "min_q": -309.28271484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 119000, "episodes_total": 118, "training_iteration": 119, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-08-29", "timestamp": 1565082509, "time_this_iter_s": 54.61109161376953, "time_total_s": 6240.235032558441, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6240.235032558441, "timesteps_since_restore": 119000, "iterations_since_restore": 119}
{"episode_reward_max": -1871.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5540.51, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4283722981807403, "mean_processing_ms": 0.5686767024014928, "mean_inference_ms": 1.268807032281526}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 120000, "num_steps_trained": 30336000, "num_steps_sampled": 120000, "sample_time_ms": 12.488, "replay_time_ms": 8.467, "grad_time_ms": 20.152, "update_time_ms": 6.884, "opt_peak_throughput": 12703.486, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -176.77496337890625, "max_q": -128.3080596923828, "min_q": -368.6722106933594}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 120000, "episodes_total": 119, "training_iteration": 120, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-09-25", "timestamp": 1565082565, "time_this_iter_s": 55.653239488601685, "time_total_s": 6295.888272047043, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6295.888272047043, "timesteps_since_restore": 120000, "iterations_since_restore": 120}
{"episode_reward_max": -1871.0, "episode_reward_min": -17182.0, "episode_reward_mean": -5409.66, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4265551238362797, "mean_processing_ms": 0.5686252851783231, "mean_inference_ms": 1.268666508313209}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 121000, "num_steps_trained": 30592000, "num_steps_sampled": 121000, "sample_time_ms": 14.622, "replay_time_ms": 10.494, "grad_time_ms": 24.08, "update_time_ms": 7.51, "opt_peak_throughput": 10631.055, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -170.8349151611328, "max_q": -127.79682159423828, "min_q": -284.2590637207031}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 121000, "episodes_total": 120, "training_iteration": 121, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-10-20", "timestamp": 1565082620, "time_this_iter_s": 54.67698049545288, "time_total_s": 6350.565252542496, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6350.565252542496, "timesteps_since_restore": 121000, "iterations_since_restore": 121}
{"episode_reward_max": -1871.0, "episode_reward_min": -16868.0, "episode_reward_mean": -5258.76, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4247971276903586, "mean_processing_ms": 0.568581819903597, "mean_inference_ms": 1.268529407770571}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 122000, "num_steps_trained": 30848000, "num_steps_sampled": 122000, "sample_time_ms": 14.693, "replay_time_ms": 9.138, "grad_time_ms": 21.24, "update_time_ms": 5.828, "opt_peak_throughput": 12052.665, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -170.47854614257812, "max_q": -68.42164611816406, "min_q": -336.92950439453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 122000, "episodes_total": 121, "training_iteration": 122, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-11-16", "timestamp": 1565082676, "time_this_iter_s": 56.01202940940857, "time_total_s": 6406.577281951904, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6406.577281951904, "timesteps_since_restore": 122000, "iterations_since_restore": 122}
{"episode_reward_max": -1871.0, "episode_reward_min": -16868.0, "episode_reward_mean": -5128.96, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4230862701575757, "mean_processing_ms": 0.5685484011967928, "mean_inference_ms": 1.2684014320145498}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 123000, "num_steps_trained": 31104000, "num_steps_sampled": 123000, "sample_time_ms": 14.952, "replay_time_ms": 7.951, "grad_time_ms": 20.38, "update_time_ms": 5.712, "opt_peak_throughput": 12561.352, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -172.34417724609375, "max_q": -126.10197448730469, "min_q": -397.51556396484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 123000, "episodes_total": 122, "training_iteration": 123, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-12-11", "timestamp": 1565082731, "time_this_iter_s": 54.880364656448364, "time_total_s": 6461.457646608353, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6461.457646608353, "timesteps_since_restore": 123000, "iterations_since_restore": 123}
{"episode_reward_max": -1871.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4994.88, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4214330200814649, "mean_processing_ms": 0.5685230589680542, "mean_inference_ms": 1.268285170751774}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 124000, "num_steps_trained": 31360000, "num_steps_sampled": 124000, "sample_time_ms": 15.024, "replay_time_ms": 9.017, "grad_time_ms": 23.829, "update_time_ms": 6.172, "opt_peak_throughput": 10743.187, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -172.12844848632812, "max_q": -123.63347625732422, "min_q": -533.621826171875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 124000, "episodes_total": 123, "training_iteration": 124, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-13-06", "timestamp": 1565082786, "time_this_iter_s": 54.899380922317505, "time_total_s": 6516.35702753067, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6516.35702753067, "timesteps_since_restore": 124000, "iterations_since_restore": 124}
{"episode_reward_max": -1543.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4874.81, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.419811710122758, "mean_processing_ms": 0.5685031276753135, "mean_inference_ms": 1.2681789865296396}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 125000, "num_steps_trained": 31616000, "num_steps_sampled": 125000, "sample_time_ms": 15.503, "replay_time_ms": 12.106, "grad_time_ms": 25.676, "update_time_ms": 8.227, "opt_peak_throughput": 9970.322, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -172.1145477294922, "max_q": -124.4181900024414, "min_q": -340.1595764160156}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 125000, "episodes_total": 124, "training_iteration": 125, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-14-02", "timestamp": 1565082842, "time_this_iter_s": 56.148786544799805, "time_total_s": 6572.50581407547, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6572.50581407547, "timesteps_since_restore": 125000, "iterations_since_restore": 125}
{"episode_reward_max": -1543.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4752.94, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4182032981565411, "mean_processing_ms": 0.5684763278671877, "mean_inference_ms": 1.2680767014917556}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 126000, "num_steps_trained": 31872000, "num_steps_sampled": 126000, "sample_time_ms": 15.132, "replay_time_ms": 9.748, "grad_time_ms": 24.065, "update_time_ms": 6.421, "opt_peak_throughput": 10638.048, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -171.7390594482422, "max_q": -123.78466796875, "min_q": -402.6434631347656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 126000, "episodes_total": 125, "training_iteration": 126, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-14-58", "timestamp": 1565082898, "time_this_iter_s": 55.90562200546265, "time_total_s": 6628.411436080933, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6628.411436080933, "timesteps_since_restore": 126000, "iterations_since_restore": 126}
{"episode_reward_max": -1503.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4641.89, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4166133877611082, "mean_processing_ms": 0.5684493904024146, "mean_inference_ms": 1.267984813133679}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 127000, "num_steps_trained": 32128000, "num_steps_sampled": 127000, "sample_time_ms": 14.648, "replay_time_ms": 9.83, "grad_time_ms": 21.809, "update_time_ms": 6.727, "opt_peak_throughput": 11738.078, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -162.3968048095703, "max_q": -120.88880157470703, "min_q": -308.6257019042969}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 127000, "episodes_total": 126, "training_iteration": 127, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-15-53", "timestamp": 1565082953, "time_this_iter_s": 55.63996648788452, "time_total_s": 6684.051402568817, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6684.051402568817, "timesteps_since_restore": 127000, "iterations_since_restore": 127}
{"episode_reward_max": -1503.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4535.72, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4150506853181914, "mean_processing_ms": 0.5684207113428268, "mean_inference_ms": 1.2679006512011495}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 128000, "num_steps_trained": 32384000, "num_steps_sampled": 128000, "sample_time_ms": 11.76, "replay_time_ms": 7.954, "grad_time_ms": 24.005, "update_time_ms": 6.09, "opt_peak_throughput": 10664.357, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -161.40509033203125, "max_q": -118.63021850585938, "min_q": -343.2852783203125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 128000, "episodes_total": 127, "training_iteration": 128, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-16-46", "timestamp": 1565083006, "time_this_iter_s": 52.60547184944153, "time_total_s": 6736.656874418259, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6736.656874418259, "timesteps_since_restore": 128000, "iterations_since_restore": 128}
{"episode_reward_max": -1295.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4451.14, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4135162624337285, "mean_processing_ms": 0.5683920453645527, "mean_inference_ms": 1.267821931162043}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 129000, "num_steps_trained": 32640000, "num_steps_sampled": 129000, "sample_time_ms": 12.238, "replay_time_ms": 10.354, "grad_time_ms": 24.115, "update_time_ms": 7.565, "opt_peak_throughput": 10615.72, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -159.63375854492188, "max_q": -118.11044311523438, "min_q": -396.6371765136719}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 129000, "episodes_total": 128, "training_iteration": 129, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-17-38", "timestamp": 1565083058, "time_this_iter_s": 52.338839530944824, "time_total_s": 6788.9957139492035, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6788.9957139492035, "timesteps_since_restore": 129000, "iterations_since_restore": 129}
{"episode_reward_max": -1295.0, "episode_reward_min": -16868.0, "episode_reward_mean": -4377.86, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4119903496357664, "mean_processing_ms": 0.568362981979539, "mean_inference_ms": 1.2677458631984257}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 130000, "num_steps_trained": 32896000, "num_steps_sampled": 130000, "sample_time_ms": 12.166, "replay_time_ms": 9.211, "grad_time_ms": 23.569, "update_time_ms": 6.457, "opt_peak_throughput": 10861.896, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -156.14117431640625, "max_q": -118.7105712890625, "min_q": -361.8791809082031}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 130000, "episodes_total": 129, "training_iteration": 130, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-18-31", "timestamp": 1565083111, "time_this_iter_s": 52.385098695755005, "time_total_s": 6841.3808126449585, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6841.3808126449585, "timesteps_since_restore": 130000, "iterations_since_restore": 130}
{"episode_reward_max": -1295.0, "episode_reward_min": -16709.0, "episode_reward_mean": -4230.3, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4104751877269428, "mean_processing_ms": 0.5683301979427279, "mean_inference_ms": 1.267670731136352}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 131000, "num_steps_trained": 33152000, "num_steps_sampled": 131000, "sample_time_ms": 10.973, "replay_time_ms": 8.365, "grad_time_ms": 22.996, "update_time_ms": 6.746, "opt_peak_throughput": 11132.465, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -157.4677734375, "max_q": -109.91614532470703, "min_q": -319.0550537109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 131000, "episodes_total": 130, "training_iteration": 131, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-19-23", "timestamp": 1565083163, "time_this_iter_s": 52.183083295822144, "time_total_s": 6893.563895940781, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6893.563895940781, "timesteps_since_restore": 131000, "iterations_since_restore": 131}
{"episode_reward_max": -1295.0, "episode_reward_min": -16709.0, "episode_reward_mean": -4149.69, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4090021671055217, "mean_processing_ms": 0.5682990687197793, "mean_inference_ms": 1.2676046318324692}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 132000, "num_steps_trained": 33408000, "num_steps_sampled": 132000, "sample_time_ms": 10.309, "replay_time_ms": 10.792, "grad_time_ms": 23.499, "update_time_ms": 7.769, "opt_peak_throughput": 10894.263, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -156.91470336914062, "max_q": -114.8940200805664, "min_q": -450.5917053222656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 132000, "episodes_total": 131, "training_iteration": 132, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-20-15", "timestamp": 1565083215, "time_this_iter_s": 52.119659423828125, "time_total_s": 6945.683555364609, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6945.683555364609, "timesteps_since_restore": 132000, "iterations_since_restore": 132}
{"episode_reward_max": -1295.0, "episode_reward_min": -16709.0, "episode_reward_mean": -4086.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4075513130293493, "mean_processing_ms": 0.5682642174925701, "mean_inference_ms": 1.267540487545011}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 133000, "num_steps_trained": 33664000, "num_steps_sampled": 133000, "sample_time_ms": 11.868, "replay_time_ms": 10.797, "grad_time_ms": 24.774, "update_time_ms": 7.952, "opt_peak_throughput": 10333.323, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -153.3997039794922, "max_q": -115.89263153076172, "min_q": -377.5390625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 133000, "episodes_total": 132, "training_iteration": 133, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-21-07", "timestamp": 1565083267, "time_this_iter_s": 51.8891487121582, "time_total_s": 6997.572704076767, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 6997.572704076767, "timesteps_since_restore": 133000, "iterations_since_restore": 133}
{"episode_reward_max": -1199.0, "episode_reward_min": -16709.0, "episode_reward_mean": -4004.98, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4060956162701328, "mean_processing_ms": 0.568226436050158, "mean_inference_ms": 1.267477631762901}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 134000, "num_steps_trained": 33920000, "num_steps_sampled": 134000, "sample_time_ms": 11.253, "replay_time_ms": 8.246, "grad_time_ms": 22.092, "update_time_ms": 6.003, "opt_peak_throughput": 11587.701, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -152.8015594482422, "max_q": -114.42568969726562, "min_q": -466.56561279296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 134000, "episodes_total": 133, "training_iteration": 134, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-21-59", "timestamp": 1565083319, "time_this_iter_s": 52.39314842224121, "time_total_s": 7049.965852499008, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7049.965852499008, "timesteps_since_restore": 134000, "iterations_since_restore": 134}
{"episode_reward_max": -1199.0, "episode_reward_min": -13755.0, "episode_reward_mean": -3858.69, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4046511850633339, "mean_processing_ms": 0.5681900880855191, "mean_inference_ms": 1.2674248546020517}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 135000, "num_steps_trained": 34176000, "num_steps_sampled": 135000, "sample_time_ms": 12.08, "replay_time_ms": 9.613, "grad_time_ms": 22.732, "update_time_ms": 7.338, "opt_peak_throughput": 11261.707, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -152.12815856933594, "max_q": -81.24087524414062, "min_q": -276.3399963378906}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 135000, "episodes_total": 134, "training_iteration": 135, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-22-50", "timestamp": 1565083370, "time_this_iter_s": 51.10257935523987, "time_total_s": 7101.068431854248, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7101.068431854248, "timesteps_since_restore": 135000, "iterations_since_restore": 135}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3734.83, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4032146565795327, "mean_processing_ms": 0.5681537465940223, "mean_inference_ms": 1.2673691617766358}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 136000, "num_steps_trained": 34432000, "num_steps_sampled": 136000, "sample_time_ms": 13.108, "replay_time_ms": 11.452, "grad_time_ms": 25.446, "update_time_ms": 8.253, "opt_peak_throughput": 10060.667, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -146.67257690429688, "max_q": -13.940268516540527, "min_q": -316.3749694824219}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 136000, "episodes_total": 135, "training_iteration": 136, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-23-43", "timestamp": 1565083423, "time_this_iter_s": 52.20410752296448, "time_total_s": 7153.2725393772125, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7153.2725393772125, "timesteps_since_restore": 136000, "iterations_since_restore": 136}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3643.22, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4018112618972127, "mean_processing_ms": 0.5681191869359171, "mean_inference_ms": 1.2673079954332278}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 137000, "num_steps_trained": 34688000, "num_steps_sampled": 137000, "sample_time_ms": 12.012, "replay_time_ms": 8.974, "grad_time_ms": 23.408, "update_time_ms": 6.706, "opt_peak_throughput": 10936.261, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -150.177490234375, "max_q": -109.01049041748047, "min_q": -335.6694641113281}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 137000, "episodes_total": 136, "training_iteration": 137, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-24-34", "timestamp": 1565083474, "time_this_iter_s": 50.90822434425354, "time_total_s": 7204.180763721466, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7204.180763721466, "timesteps_since_restore": 137000, "iterations_since_restore": 137}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3596.12, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.4004513451926044, "mean_processing_ms": 0.5680871704578112, "mean_inference_ms": 1.2672446496011376}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 138000, "num_steps_trained": 34944000, "num_steps_sampled": 138000, "sample_time_ms": 11.807, "replay_time_ms": 9.269, "grad_time_ms": 24.413, "update_time_ms": 6.643, "opt_peak_throughput": 10486.303, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -143.8485565185547, "max_q": -108.88330078125, "min_q": -300.9149169921875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 138000, "episodes_total": 137, "training_iteration": 138, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-25-25", "timestamp": 1565083525, "time_this_iter_s": 51.363301515579224, "time_total_s": 7255.544065237045, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7255.544065237045, "timesteps_since_restore": 138000, "iterations_since_restore": 138}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3566.57, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3991279245851007, "mean_processing_ms": 0.568059187835196, "mean_inference_ms": 1.2671857396818336}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 139000, "num_steps_trained": 35200000, "num_steps_sampled": 139000, "sample_time_ms": 11.763, "replay_time_ms": 8.721, "grad_time_ms": 22.17, "update_time_ms": 6.18, "opt_peak_throughput": 11546.89, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -144.6693115234375, "max_q": -109.03861236572266, "min_q": -286.3909912109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 139000, "episodes_total": 138, "training_iteration": 139, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-26-16", "timestamp": 1565083576, "time_this_iter_s": 51.42715787887573, "time_total_s": 7306.971223115921, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7306.971223115921, "timesteps_since_restore": 139000, "iterations_since_restore": 139}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3523.37, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3978507428896987, "mean_processing_ms": 0.5680355718352762, "mean_inference_ms": 1.2671290799363693}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 140000, "num_steps_trained": 35456000, "num_steps_sampled": 140000, "sample_time_ms": 14.05, "replay_time_ms": 9.319, "grad_time_ms": 22.107, "update_time_ms": 6.21, "opt_peak_throughput": 11579.815, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -149.1956787109375, "max_q": -107.12834930419922, "min_q": -326.21490478515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 140000, "episodes_total": 139, "training_iteration": 140, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-27-09", "timestamp": 1565083629, "time_this_iter_s": 52.12858963012695, "time_total_s": 7359.099812746048, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7359.099812746048, "timesteps_since_restore": 140000, "iterations_since_restore": 140}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3492.95, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3966084959945988, "mean_processing_ms": 0.5680164590657134, "mean_inference_ms": 1.267074807705587}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 141000, "num_steps_trained": 35712000, "num_steps_sampled": 141000, "sample_time_ms": 14.867, "replay_time_ms": 10.135, "grad_time_ms": 24.421, "update_time_ms": 7.081, "opt_peak_throughput": 10482.617, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -142.71949768066406, "max_q": -100.36397552490234, "min_q": -298.0130615234375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 141000, "episodes_total": 140, "training_iteration": 141, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-28-04", "timestamp": 1565083684, "time_this_iter_s": 55.55707049369812, "time_total_s": 7414.656883239746, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7414.656883239746, "timesteps_since_restore": 141000, "iterations_since_restore": 141}
{"episode_reward_max": -1199.0, "episode_reward_min": -11226.0, "episode_reward_mean": -3470.89, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3953779925229577, "mean_processing_ms": 0.5679986797111071, "mean_inference_ms": 1.2670173992193485}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 142000, "num_steps_trained": 35968000, "num_steps_sampled": 142000, "sample_time_ms": 14.415, "replay_time_ms": 9.51, "grad_time_ms": 20.903, "update_time_ms": 6.116, "opt_peak_throughput": 12247.135, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -138.27398681640625, "max_q": -101.92388916015625, "min_q": -248.59283447265625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 142000, "episodes_total": 141, "training_iteration": 142, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-28-59", "timestamp": 1565083739, "time_this_iter_s": 54.907978773117065, "time_total_s": 7469.564862012863, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7469.564862012863, "timesteps_since_restore": 142000, "iterations_since_restore": 142}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3377.72, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3941898154628591, "mean_processing_ms": 0.5679861822056952, "mean_inference_ms": 1.266966710165146}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 143000, "num_steps_trained": 36224000, "num_steps_sampled": 143000, "sample_time_ms": 11.883, "replay_time_ms": 9.338, "grad_time_ms": 23.165, "update_time_ms": 6.824, "opt_peak_throughput": 11051.309, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -137.526123046875, "max_q": -102.25276947021484, "min_q": -251.62240600585938}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 143000, "episodes_total": 142, "training_iteration": 143, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-29-52", "timestamp": 1565083792, "time_this_iter_s": 53.08203983306885, "time_total_s": 7522.646901845932, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7522.646901845932, "timesteps_since_restore": 143000, "iterations_since_restore": 143}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3351.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.393045240561374, "mean_processing_ms": 0.5679799494344362, "mean_inference_ms": 1.2669160628289642}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 144000, "num_steps_trained": 36480000, "num_steps_sampled": 144000, "sample_time_ms": 12.123, "replay_time_ms": 8.618, "grad_time_ms": 22.73, "update_time_ms": 6.416, "opt_peak_throughput": 11262.853, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -130.50723266601562, "max_q": -104.06192016601562, "min_q": -214.21250915527344}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 144000, "episodes_total": 143, "training_iteration": 144, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-30-44", "timestamp": 1565083844, "time_this_iter_s": 51.8878333568573, "time_total_s": 7574.534735202789, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7574.534735202789, "timesteps_since_restore": 144000, "iterations_since_restore": 144}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3339.44, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3919411711967575, "mean_processing_ms": 0.5679784545622955, "mean_inference_ms": 1.266865425208151}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 145000, "num_steps_trained": 36736000, "num_steps_sampled": 145000, "sample_time_ms": 11.815, "replay_time_ms": 10.694, "grad_time_ms": 24.385, "update_time_ms": 7.619, "opt_peak_throughput": 10498.042, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -134.78627014160156, "max_q": -60.7396240234375, "min_q": -258.1842346191406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 145000, "episodes_total": 144, "training_iteration": 145, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-31-36", "timestamp": 1565083896, "time_this_iter_s": 51.91310524940491, "time_total_s": 7626.447840452194, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7626.447840452194, "timesteps_since_restore": 145000, "iterations_since_restore": 145}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3320.66, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3908734092416961, "mean_processing_ms": 0.5679824673713885, "mean_inference_ms": 1.2668149778768363}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 146000, "num_steps_trained": 36992000, "num_steps_sampled": 146000, "sample_time_ms": 11.817, "replay_time_ms": 8.004, "grad_time_ms": 22.919, "update_time_ms": 6.343, "opt_peak_throughput": 11169.65, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -133.38050842285156, "max_q": -70.94750213623047, "min_q": -251.6637725830078}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 146000, "episodes_total": 145, "training_iteration": 146, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-32-28", "timestamp": 1565083948, "time_this_iter_s": 52.542792320251465, "time_total_s": 7678.990632772446, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7678.990632772446, "timesteps_since_restore": 146000, "iterations_since_restore": 146}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3296.77, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3898334660248712, "mean_processing_ms": 0.5679928811498428, "mean_inference_ms": 1.2667706694393228}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 147000, "num_steps_trained": 37248000, "num_steps_sampled": 147000, "sample_time_ms": 12.128, "replay_time_ms": 9.346, "grad_time_ms": 23.257, "update_time_ms": 7.123, "opt_peak_throughput": 11007.611, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -133.78353881835938, "max_q": -101.41014862060547, "min_q": -227.7498321533203}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 147000, "episodes_total": 146, "training_iteration": 147, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-33-22", "timestamp": 1565084002, "time_this_iter_s": 53.225630044937134, "time_total_s": 7732.216262817383, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7732.216262817383, "timesteps_since_restore": 147000, "iterations_since_restore": 147}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3271.79, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3888230863717113, "mean_processing_ms": 0.5680103126171668, "mean_inference_ms": 1.2667306491983474}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 148000, "num_steps_trained": 37504000, "num_steps_sampled": 148000, "sample_time_ms": 12.099, "replay_time_ms": 8.625, "grad_time_ms": 22.907, "update_time_ms": 6.257, "opt_peak_throughput": 11175.765, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -132.6818084716797, "max_q": -99.10257720947266, "min_q": -256.2893981933594}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 148000, "episodes_total": 147, "training_iteration": 148, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-34-14", "timestamp": 1565084054, "time_this_iter_s": 51.957956075668335, "time_total_s": 7784.174218893051, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7784.174218893051, "timesteps_since_restore": 148000, "iterations_since_restore": 148}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3237.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3878314325405328, "mean_processing_ms": 0.5680276918633655, "mean_inference_ms": 1.2666926984011442}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 149000, "num_steps_trained": 37760000, "num_steps_sampled": 149000, "sample_time_ms": 10.294, "replay_time_ms": 8.666, "grad_time_ms": 20.859, "update_time_ms": 6.821, "opt_peak_throughput": 12272.85, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -128.38861083984375, "max_q": -95.52202606201172, "min_q": -238.3304901123047}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 149000, "episodes_total": 148, "training_iteration": 149, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-35-05", "timestamp": 1565084105, "time_this_iter_s": 51.24628043174744, "time_total_s": 7835.420499324799, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7835.420499324799, "timesteps_since_restore": 149000, "iterations_since_restore": 149}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3215.82, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3868513595312917, "mean_processing_ms": 0.568041508022343, "mean_inference_ms": 1.2666508781119714}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 150000, "num_steps_trained": 38016000, "num_steps_sampled": 150000, "sample_time_ms": 12.144, "replay_time_ms": 9.637, "grad_time_ms": 22.805, "update_time_ms": 7.195, "opt_peak_throughput": 11225.48, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -129.81155395507812, "max_q": -97.24365997314453, "min_q": -247.18260192871094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 150000, "episodes_total": 149, "training_iteration": 150, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-35-57", "timestamp": 1565084157, "time_this_iter_s": 52.10476732254028, "time_total_s": 7887.525266647339, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7887.525266647339, "timesteps_since_restore": 150000, "iterations_since_restore": 150}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3186.16, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3858963607715438, "mean_processing_ms": 0.5680574447594562, "mean_inference_ms": 1.2666185163388404}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 151000, "num_steps_trained": 38272000, "num_steps_sampled": 151000, "sample_time_ms": 12.116, "replay_time_ms": 10.053, "grad_time_ms": 23.252, "update_time_ms": 6.727, "opt_peak_throughput": 11009.801, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -126.02995300292969, "max_q": -96.25043487548828, "min_q": -247.23585510253906}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 151000, "episodes_total": 150, "training_iteration": 151, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-36-49", "timestamp": 1565084209, "time_this_iter_s": 51.497137784957886, "time_total_s": 7939.022404432297, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7939.022404432297, "timesteps_since_restore": 151000, "iterations_since_restore": 151}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3150.78, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3849515311288545, "mean_processing_ms": 0.5680711327952253, "mean_inference_ms": 1.266585694612547}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 152000, "num_steps_trained": 38528000, "num_steps_sampled": 152000, "sample_time_ms": 12.809, "replay_time_ms": 8.728, "grad_time_ms": 22.751, "update_time_ms": 6.1, "opt_peak_throughput": 11252.183, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -128.8704376220703, "max_q": -96.36827087402344, "min_q": -230.93814086914062}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 152000, "episodes_total": 151, "training_iteration": 152, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-37-41", "timestamp": 1565084261, "time_this_iter_s": 52.45544743537903, "time_total_s": 7991.477851867676, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 7991.477851867676, "timesteps_since_restore": 152000, "iterations_since_restore": 152}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3120.92, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3840208902495055, "mean_processing_ms": 0.5680816181152791, "mean_inference_ms": 1.2665515783234733}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 153000, "num_steps_trained": 38784000, "num_steps_sampled": 153000, "sample_time_ms": 12.59, "replay_time_ms": 10.692, "grad_time_ms": 25.226, "update_time_ms": 7.678, "opt_peak_throughput": 10148.261, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -122.06584930419922, "max_q": -64.95387268066406, "min_q": -235.4815216064453}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 153000, "episodes_total": 152, "training_iteration": 153, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-38-32", "timestamp": 1565084312, "time_this_iter_s": 50.69964289665222, "time_total_s": 8042.177494764328, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8042.177494764328, "timesteps_since_restore": 153000, "iterations_since_restore": 153}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3089.82, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3830978313217996, "mean_processing_ms": 0.5680892152578104, "mean_inference_ms": 1.2665148783602502}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 154000, "num_steps_trained": 39040000, "num_steps_sampled": 154000, "sample_time_ms": 10.948, "replay_time_ms": 7.638, "grad_time_ms": 20.292, "update_time_ms": 5.561, "opt_peak_throughput": 12615.767, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -124.09514617919922, "max_q": -63.813411712646484, "min_q": -224.55740356445312}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 154000, "episodes_total": 153, "training_iteration": 154, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-39-24", "timestamp": 1565084364, "time_this_iter_s": 51.98347854614258, "time_total_s": 8094.160973310471, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8094.160973310471, "timesteps_since_restore": 154000, "iterations_since_restore": 154}
{"episode_reward_max": -1199.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3072.58, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3821859685100366, "mean_processing_ms": 0.5680960668141918, "mean_inference_ms": 1.266481504915057}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 155000, "num_steps_trained": 39296000, "num_steps_sampled": 155000, "sample_time_ms": 11.721, "replay_time_ms": 9.426, "grad_time_ms": 23.716, "update_time_ms": 6.672, "opt_peak_throughput": 10794.413, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -125.85155487060547, "max_q": -68.76512908935547, "min_q": -258.8700866699219}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 155000, "episodes_total": 154, "training_iteration": 155, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-40-17", "timestamp": 1565084417, "time_this_iter_s": 53.27102208137512, "time_total_s": 8147.431995391846, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8147.431995391846, "timesteps_since_restore": 155000, "iterations_since_restore": 155}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -3031.25, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.381288400379026, "mean_processing_ms": 0.5681028727335918, "mean_inference_ms": 1.2664567002462483}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 156000, "num_steps_trained": 39552000, "num_steps_sampled": 156000, "sample_time_ms": 14.082, "replay_time_ms": 10.042, "grad_time_ms": 22.124, "update_time_ms": 6.6, "opt_peak_throughput": 11571.217, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -122.02003479003906, "max_q": -93.72235870361328, "min_q": -224.66014099121094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 156000, "episodes_total": 155, "training_iteration": 156, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-41-11", "timestamp": 1565084471, "time_this_iter_s": 54.392332792282104, "time_total_s": 8201.824328184128, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8201.824328184128, "timesteps_since_restore": 156000, "iterations_since_restore": 156}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2994.51, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.380401162445458, "mean_processing_ms": 0.568106487527307, "mean_inference_ms": 1.2664328911199565}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 157000, "num_steps_trained": 39808000, "num_steps_sampled": 157000, "sample_time_ms": 13.751, "replay_time_ms": 11.056, "grad_time_ms": 24.411, "update_time_ms": 8.377, "opt_peak_throughput": 10487.061, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -119.45284271240234, "max_q": -54.928855895996094, "min_q": -201.3885955810547}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 157000, "episodes_total": 156, "training_iteration": 157, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-42-07", "timestamp": 1565084527, "time_this_iter_s": 55.311137199401855, "time_total_s": 8257.13546538353, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8257.13546538353, "timesteps_since_restore": 157000, "iterations_since_restore": 157}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2961.25, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3795326105374037, "mean_processing_ms": 0.5681110012145707, "mean_inference_ms": 1.2664148765567864}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 158000, "num_steps_trained": 40064000, "num_steps_sampled": 158000, "sample_time_ms": 11.597, "replay_time_ms": 8.492, "grad_time_ms": 22.821, "update_time_ms": 6.722, "opt_peak_throughput": 11217.857, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -117.84500885009766, "max_q": -89.59121704101562, "min_q": -210.8829803466797}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 158000, "episodes_total": 157, "training_iteration": 158, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-43-01", "timestamp": 1565084581, "time_this_iter_s": 54.38136887550354, "time_total_s": 8311.516834259033, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8311.516834259033, "timesteps_since_restore": 158000, "iterations_since_restore": 158}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2939.72, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3786787947064014, "mean_processing_ms": 0.568114476941375, "mean_inference_ms": 1.2663986312991993}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 159000, "num_steps_trained": 40320000, "num_steps_sampled": 159000, "sample_time_ms": 12.465, "replay_time_ms": 10.381, "grad_time_ms": 24.486, "update_time_ms": 7.347, "opt_peak_throughput": 10455.079, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -116.84919738769531, "max_q": -92.38893127441406, "min_q": -199.5048370361328}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 159000, "episodes_total": 158, "training_iteration": 159, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-43-55", "timestamp": 1565084635, "time_this_iter_s": 54.118815422058105, "time_total_s": 8365.635649681091, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8365.635649681091, "timesteps_since_restore": 159000, "iterations_since_restore": 159}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2920.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3778394040164097, "mean_processing_ms": 0.5681167655455979, "mean_inference_ms": 1.2663835014844207}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 160000, "num_steps_trained": 40576000, "num_steps_sampled": 160000, "sample_time_ms": 8.732, "replay_time_ms": 8.356, "grad_time_ms": 20.822, "update_time_ms": 5.934, "opt_peak_throughput": 12294.632, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -118.50873565673828, "max_q": -31.42334747314453, "min_q": -226.95484924316406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 160000, "episodes_total": 159, "training_iteration": 160, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-44-48", "timestamp": 1565084688, "time_this_iter_s": 53.23143005371094, "time_total_s": 8418.867079734802, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8418.867079734802, "timesteps_since_restore": 160000, "iterations_since_restore": 160}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2898.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3770269299314304, "mean_processing_ms": 0.5681223272153779, "mean_inference_ms": 1.2663760493464753}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 161000, "num_steps_trained": 40832000, "num_steps_sampled": 161000, "sample_time_ms": 12.519, "replay_time_ms": 11.439, "grad_time_ms": 26.63, "update_time_ms": 8.842, "opt_peak_throughput": 9613.383, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -118.36334228515625, "max_q": -90.5356674194336, "min_q": -227.23223876953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 161000, "episodes_total": 160, "training_iteration": 161, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-45-42", "timestamp": 1565084742, "time_this_iter_s": 53.163644552230835, "time_total_s": 8472.030724287033, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8472.030724287033, "timesteps_since_restore": 161000, "iterations_since_restore": 161}
{"episode_reward_max": -901.0, "episode_reward_min": -5951.0, "episode_reward_mean": -2880.3, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.376223505879723, "mean_processing_ms": 0.5681284843955852, "mean_inference_ms": 1.266366972790459}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 162000, "num_steps_trained": 41088000, "num_steps_sampled": 162000, "sample_time_ms": 12.16, "replay_time_ms": 9.4, "grad_time_ms": 23.994, "update_time_ms": 6.976, "opt_peak_throughput": 10669.369, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -115.73810577392578, "max_q": -89.1316146850586, "min_q": -219.77777099609375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 162000, "episodes_total": 161, "training_iteration": 162, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-46-33", "timestamp": 1565084793, "time_this_iter_s": 51.29875946044922, "time_total_s": 8523.329483747482, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8523.329483747482, "timesteps_since_restore": 162000, "iterations_since_restore": 162}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2836.24, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3754371867347934, "mean_processing_ms": 0.5681371208423053, "mean_inference_ms": 1.2663572667540846}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 163000, "num_steps_trained": 41344000, "num_steps_sampled": 163000, "sample_time_ms": 11.609, "replay_time_ms": 7.68, "grad_time_ms": 22.126, "update_time_ms": 5.944, "opt_peak_throughput": 11570.045, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -114.18400573730469, "max_q": -87.67121124267578, "min_q": -216.04257202148438}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 163000, "episodes_total": 162, "training_iteration": 163, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-47-24", "timestamp": 1565084844, "time_this_iter_s": 51.53964376449585, "time_total_s": 8574.869127511978, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8574.869127511978, "timesteps_since_restore": 163000, "iterations_since_restore": 163}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2810.63, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3746588926912835, "mean_processing_ms": 0.5681440607206878, "mean_inference_ms": 1.2663458195885553}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 164000, "num_steps_trained": 41600000, "num_steps_sampled": 164000, "sample_time_ms": 11.795, "replay_time_ms": 8.052, "grad_time_ms": 23.098, "update_time_ms": 5.947, "opt_peak_throughput": 11083.237, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -112.07828521728516, "max_q": -86.18377685546875, "min_q": -217.8987274169922}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 164000, "episodes_total": 163, "training_iteration": 164, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-48-17", "timestamp": 1565084897, "time_this_iter_s": 52.32486081123352, "time_total_s": 8627.193988323212, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8627.193988323212, "timesteps_since_restore": 164000, "iterations_since_restore": 164}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2789.55, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3738935143500932, "mean_processing_ms": 0.5681514851011589, "mean_inference_ms": 1.266336836186392}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 165000, "num_steps_trained": 41856000, "num_steps_sampled": 165000, "sample_time_ms": 12.149, "replay_time_ms": 8.658, "grad_time_ms": 23.011, "update_time_ms": 6.679, "opt_peak_throughput": 11125.302, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -110.50332641601562, "max_q": -85.73139190673828, "min_q": -196.4196319580078}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 165000, "episodes_total": 164, "training_iteration": 165, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-49-09", "timestamp": 1565084949, "time_this_iter_s": 51.797489404678345, "time_total_s": 8678.99147772789, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8678.99147772789, "timesteps_since_restore": 165000, "iterations_since_restore": 165}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2791.96, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3731359905780325, "mean_processing_ms": 0.5681567703193421, "mean_inference_ms": 1.2663268619634622}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 166000, "num_steps_trained": 42112000, "num_steps_sampled": 166000, "sample_time_ms": 10.3, "replay_time_ms": 8.349, "grad_time_ms": 21.026, "update_time_ms": 7.07, "opt_peak_throughput": 12175.352, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -109.93812561035156, "max_q": -64.53660583496094, "min_q": -192.09744262695312}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 166000, "episodes_total": 165, "training_iteration": 166, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-50-01", "timestamp": 1565085001, "time_this_iter_s": 52.20859456062317, "time_total_s": 8731.200072288513, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8731.200072288513, "timesteps_since_restore": 166000, "iterations_since_restore": 166}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2780.64, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3723907537972317, "mean_processing_ms": 0.5681614565316786, "mean_inference_ms": 1.2663171687393444}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 167000, "num_steps_trained": 42368000, "num_steps_sampled": 167000, "sample_time_ms": 11.761, "replay_time_ms": 10.146, "grad_time_ms": 24.116, "update_time_ms": 7.125, "opt_peak_throughput": 10615.342, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -110.57042694091797, "max_q": 2.7197701930999756, "min_q": -191.70359802246094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 167000, "episodes_total": 166, "training_iteration": 167, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-50-53", "timestamp": 1565085053, "time_this_iter_s": 52.201894998550415, "time_total_s": 8783.401967287064, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8783.401967287064, "timesteps_since_restore": 167000, "iterations_since_restore": 167}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2765.75, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3716430355582045, "mean_processing_ms": 0.5681643041825005, "mean_inference_ms": 1.2663034944986904}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 168000, "num_steps_trained": 42624000, "num_steps_sampled": 168000, "sample_time_ms": 7.448, "replay_time_ms": 7.792, "grad_time_ms": 19.966, "update_time_ms": 6.664, "opt_peak_throughput": 12821.824, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -110.36197662353516, "max_q": -65.78456115722656, "min_q": -233.81109619140625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 168000, "episodes_total": 167, "training_iteration": 168, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-51-45", "timestamp": 1565085105, "time_this_iter_s": 51.85626029968262, "time_total_s": 8835.258227586746, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8835.258227586746, "timesteps_since_restore": 168000, "iterations_since_restore": 168}
{"episode_reward_max": -901.0, "episode_reward_min": -5862.0, "episode_reward_mean": -2727.01, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3709008662368416, "mean_processing_ms": 0.568168479795429, "mean_inference_ms": 1.266293302552098}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 169000, "num_steps_trained": 42880000, "num_steps_sampled": 169000, "sample_time_ms": 11.996, "replay_time_ms": 8.837, "grad_time_ms": 23.712, "update_time_ms": 6.958, "opt_peak_throughput": 10796.399, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -109.38007354736328, "max_q": -76.57820892333984, "min_q": -203.53323364257812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 169000, "episodes_total": 168, "training_iteration": 169, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-52-36", "timestamp": 1565085156, "time_this_iter_s": 51.561821699142456, "time_total_s": 8886.820049285889, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8886.820049285889, "timesteps_since_restore": 169000, "iterations_since_restore": 169}
{"episode_reward_max": -901.0, "episode_reward_min": -4815.0, "episode_reward_mean": -2686.42, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3701677265778145, "mean_processing_ms": 0.5681718022114192, "mean_inference_ms": 1.2662824526148362}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 170000, "num_steps_trained": 43136000, "num_steps_sampled": 170000, "sample_time_ms": 11.884, "replay_time_ms": 9.212, "grad_time_ms": 23.06, "update_time_ms": 6.914, "opt_peak_throughput": 11101.561, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -108.90486907958984, "max_q": -76.10285186767578, "min_q": -255.8706817626953}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 170000, "episodes_total": 169, "training_iteration": 170, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-53-28", "timestamp": 1565085208, "time_this_iter_s": 52.03731179237366, "time_total_s": 8938.857361078262, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8938.857361078262, "timesteps_since_restore": 170000, "iterations_since_restore": 170}
{"episode_reward_max": -901.0, "episode_reward_min": -4815.0, "episode_reward_mean": -2664.26, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3694489561993597, "mean_processing_ms": 0.5681763403486166, "mean_inference_ms": 1.2662768033796983}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 171000, "num_steps_trained": 43392000, "num_steps_sampled": 171000, "sample_time_ms": 14.366, "replay_time_ms": 9.045, "grad_time_ms": 21.533, "update_time_ms": 6.587, "opt_peak_throughput": 11888.946, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -109.07411193847656, "max_q": -50.21881103515625, "min_q": -243.51416015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 171000, "episodes_total": 170, "training_iteration": 171, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-54-21", "timestamp": 1565085261, "time_this_iter_s": 52.83953022956848, "time_total_s": 8991.69689130783, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 8991.69689130783, "timesteps_since_restore": 171000, "iterations_since_restore": 171}
{"episode_reward_max": -901.0, "episode_reward_min": -4815.0, "episode_reward_mean": -2637.04, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3687349116054182, "mean_processing_ms": 0.5681797880397798, "mean_inference_ms": 1.266274860697462}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 172000, "num_steps_trained": 43648000, "num_steps_sampled": 172000, "sample_time_ms": 14.335, "replay_time_ms": 10.668, "grad_time_ms": 23.585, "update_time_ms": 7.668, "opt_peak_throughput": 10854.506, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -106.8531494140625, "max_q": -65.33342742919922, "min_q": -207.63705444335938}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 172000, "episodes_total": 171, "training_iteration": 172, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-55-17", "timestamp": 1565085317, "time_this_iter_s": 56.114245653152466, "time_total_s": 9047.811136960983, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9047.811136960983, "timesteps_since_restore": 172000, "iterations_since_restore": 172}
{"episode_reward_max": -901.0, "episode_reward_min": -4815.0, "episode_reward_mean": -2614.07, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3680296462126702, "mean_processing_ms": 0.5681824505393606, "mean_inference_ms": 1.2662759323337638}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 173000, "num_steps_trained": 43904000, "num_steps_sampled": 173000, "sample_time_ms": 14.664, "replay_time_ms": 9.864, "grad_time_ms": 24.398, "update_time_ms": 7.28, "opt_peak_throughput": 10492.625, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -109.33890533447266, "max_q": -54.126625061035156, "min_q": -247.58436584472656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 173000, "episodes_total": 172, "training_iteration": 173, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-56-12", "timestamp": 1565085372, "time_this_iter_s": 54.677517890930176, "time_total_s": 9102.488654851913, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9102.488654851913, "timesteps_since_restore": 173000, "iterations_since_restore": 173}
{"episode_reward_max": -901.0, "episode_reward_min": -4815.0, "episode_reward_mean": -2595.89, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3673288700870512, "mean_processing_ms": 0.5681828801044027, "mean_inference_ms": 1.266276015830166}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 174000, "num_steps_trained": 44160000, "num_steps_sampled": 174000, "sample_time_ms": 14.357, "replay_time_ms": 9.344, "grad_time_ms": 21.375, "update_time_ms": 6.808, "opt_peak_throughput": 11976.721, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -105.79307556152344, "max_q": -41.168121337890625, "min_q": -244.45538330078125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 174000, "episodes_total": 173, "training_iteration": 174, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-57-05", "timestamp": 1565085425, "time_this_iter_s": 53.35754871368408, "time_total_s": 9155.846203565598, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9155.846203565598, "timesteps_since_restore": 174000, "iterations_since_restore": 174}
{"episode_reward_max": -901.0, "episode_reward_min": -4650.0, "episode_reward_mean": -2570.94, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3666348069959897, "mean_processing_ms": 0.5681823429813114, "mean_inference_ms": 1.2662747252164221}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 175000, "num_steps_trained": 44416000, "num_steps_sampled": 175000, "sample_time_ms": 14.477, "replay_time_ms": 12.053, "grad_time_ms": 26.288, "update_time_ms": 8.614, "opt_peak_throughput": 9738.333, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -104.49540710449219, "max_q": -69.36934661865234, "min_q": -177.8834686279297}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 175000, "episodes_total": 174, "training_iteration": 175, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-57-59", "timestamp": 1565085479, "time_this_iter_s": 53.935999393463135, "time_total_s": 9209.78220295906, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9209.78220295906, "timesteps_since_restore": 175000, "iterations_since_restore": 175}
{"episode_reward_max": -901.0, "episode_reward_min": -4650.0, "episode_reward_mean": -2545.99, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3659491356664781, "mean_processing_ms": 0.5681817656774374, "mean_inference_ms": 1.2662725803177808}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 176000, "num_steps_trained": 44672000, "num_steps_sampled": 176000, "sample_time_ms": 8.585, "replay_time_ms": 7.14, "grad_time_ms": 18.441, "update_time_ms": 5.482, "opt_peak_throughput": 13882.444, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.753173828125, "max_q": -68.38298797607422, "min_q": -184.63519287109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 176000, "episodes_total": 175, "training_iteration": 176, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-58-54", "timestamp": 1565085534, "time_this_iter_s": 54.57716965675354, "time_total_s": 9264.359372615814, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9264.359372615814, "timesteps_since_restore": 176000, "iterations_since_restore": 176}
{"episode_reward_max": -901.0, "episode_reward_min": -4650.0, "episode_reward_mean": -2523.24, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3652711004914562, "mean_processing_ms": 0.5681813902712336, "mean_inference_ms": 1.2662699855914432}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 177000, "num_steps_trained": 44928000, "num_steps_sampled": 177000, "sample_time_ms": 14.632, "replay_time_ms": 9.225, "grad_time_ms": 20.802, "update_time_ms": 6.391, "opt_peak_throughput": 12306.384, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.78187561035156, "max_q": -77.25833129882812, "min_q": -190.46359252929688}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 177000, "episodes_total": 176, "training_iteration": 177, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_17-59-49", "timestamp": 1565085589, "time_this_iter_s": 55.04833269119263, "time_total_s": 9319.407705307007, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9319.407705307007, "timesteps_since_restore": 177000, "iterations_since_restore": 177}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2502.61, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3646025906653114, "mean_processing_ms": 0.5681808302529957, "mean_inference_ms": 1.2662667613818583}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 178000, "num_steps_trained": 45184000, "num_steps_sampled": 178000, "sample_time_ms": 14.955, "replay_time_ms": 9.463, "grad_time_ms": 23.579, "update_time_ms": 6.635, "opt_peak_throughput": 10857.195, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -105.19324493408203, "max_q": -76.06298828125, "min_q": -179.0761260986328}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 178000, "episodes_total": 177, "training_iteration": 178, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-00-44", "timestamp": 1565085644, "time_this_iter_s": 55.04365277290344, "time_total_s": 9374.45135807991, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9374.45135807991, "timesteps_since_restore": 178000, "iterations_since_restore": 178}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2489.34, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3639435271233984, "mean_processing_ms": 0.5681826932968606, "mean_inference_ms": 1.2662664651029336}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 179000, "num_steps_trained": 45440000, "num_steps_sampled": 179000, "sample_time_ms": 12.461, "replay_time_ms": 11.525, "grad_time_ms": 25.698, "update_time_ms": 8.241, "opt_peak_throughput": 9962.052, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.06207275390625, "max_q": -78.41116333007812, "min_q": -203.28436279296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 179000, "episodes_total": 178, "training_iteration": 179, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-01-37", "timestamp": 1565085697, "time_this_iter_s": 52.70364165306091, "time_total_s": 9427.154999732971, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9427.154999732971, "timesteps_since_restore": 179000, "iterations_since_restore": 179}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2479.19, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3632990388484378, "mean_processing_ms": 0.568188804780998, "mean_inference_ms": 1.266269387371154}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 180000, "num_steps_trained": 45696000, "num_steps_sampled": 180000, "sample_time_ms": 12.003, "replay_time_ms": 11.004, "grad_time_ms": 24.32, "update_time_ms": 8.364, "opt_peak_throughput": 10526.478, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.87980651855469, "max_q": -78.97018432617188, "min_q": -202.1673126220703}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 180000, "episodes_total": 179, "training_iteration": 180, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-02-29", "timestamp": 1565085749, "time_this_iter_s": 52.041685581207275, "time_total_s": 9479.196685314178, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9479.196685314178, "timesteps_since_restore": 180000, "iterations_since_restore": 180}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2459.11, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3626614162024078, "mean_processing_ms": 0.5681973285808881, "mean_inference_ms": 1.2662718501429326}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 181000, "num_steps_trained": 45952000, "num_steps_sampled": 181000, "sample_time_ms": 12.037, "replay_time_ms": 8.586, "grad_time_ms": 22.835, "update_time_ms": 6.314, "opt_peak_throughput": 11210.993, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.52269744873047, "max_q": -79.0349349975586, "min_q": -301.7716979980469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 181000, "episodes_total": 180, "training_iteration": 181, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-03-20", "timestamp": 1565085800, "time_this_iter_s": 51.31265044212341, "time_total_s": 9530.509335756302, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9530.509335756302, "timesteps_since_restore": 181000, "iterations_since_restore": 181}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2434.7, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3620369622016528, "mean_processing_ms": 0.5682095366962893, "mean_inference_ms": 1.2662771870889467}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 182000, "num_steps_trained": 46208000, "num_steps_sampled": 182000, "sample_time_ms": 11.235, "replay_time_ms": 9.115, "grad_time_ms": 22.538, "update_time_ms": 6.601, "opt_peak_throughput": 11358.633, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.79776763916016, "max_q": -77.9560317993164, "min_q": -196.97677612304688}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 182000, "episodes_total": 181, "training_iteration": 182, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-04-13", "timestamp": 1565085853, "time_this_iter_s": 52.341516971588135, "time_total_s": 9582.85085272789, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9582.85085272789, "timesteps_since_restore": 182000, "iterations_since_restore": 182}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2410.15, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3614239355475704, "mean_processing_ms": 0.5682243869579309, "mean_inference_ms": 1.2662832746121047}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 183000, "num_steps_trained": 46464000, "num_steps_sampled": 183000, "sample_time_ms": 12.29, "replay_time_ms": 11.817, "grad_time_ms": 25.248, "update_time_ms": 8.21, "opt_peak_throughput": 10139.31, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.43566131591797, "max_q": -78.34759521484375, "min_q": -232.16493225097656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 183000, "episodes_total": 182, "training_iteration": 183, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-05-03", "timestamp": 1565085903, "time_this_iter_s": 50.411612033843994, "time_total_s": 9633.262464761734, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9633.262464761734, "timesteps_since_restore": 183000, "iterations_since_restore": 183}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2383.28, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3608205715291501, "mean_processing_ms": 0.5682408871742093, "mean_inference_ms": 1.2662879289187838}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 184000, "num_steps_trained": 46720000, "num_steps_sampled": 184000, "sample_time_ms": 12.102, "replay_time_ms": 9.352, "grad_time_ms": 23.145, "update_time_ms": 6.766, "opt_peak_throughput": 11060.78, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.66642761230469, "max_q": -77.92495727539062, "min_q": -211.39840698242188}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 184000, "episodes_total": 183, "training_iteration": 184, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-05-55", "timestamp": 1565085955, "time_this_iter_s": 52.036768436431885, "time_total_s": 9685.299233198166, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9685.299233198166, "timesteps_since_restore": 184000, "iterations_since_restore": 184}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2367.66, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3602254823589737, "mean_processing_ms": 0.5682592566857695, "mean_inference_ms": 1.2662939476412673}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 185000, "num_steps_trained": 46976000, "num_steps_sampled": 185000, "sample_time_ms": 12.36, "replay_time_ms": 9.202, "grad_time_ms": 23.055, "update_time_ms": 6.561, "opt_peak_throughput": 11103.73, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.77970886230469, "max_q": -78.28544616699219, "min_q": -176.5771026611328}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 185000, "episodes_total": 184, "training_iteration": 185, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-06-47", "timestamp": 1565086007, "time_this_iter_s": 51.67952561378479, "time_total_s": 9736.97875881195, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9736.97875881195, "timesteps_since_restore": 185000, "iterations_since_restore": 185}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2346.85, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.359636681471194, "mean_processing_ms": 0.5682757388126503, "mean_inference_ms": 1.266298175582865}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 186000, "num_steps_trained": 47232000, "num_steps_sampled": 186000, "sample_time_ms": 11.712, "replay_time_ms": 8.279, "grad_time_ms": 21.905, "update_time_ms": 6.216, "opt_peak_throughput": 11686.681, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.20538330078125, "max_q": -77.16532135009766, "min_q": -240.2244110107422}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 186000, "episodes_total": 185, "training_iteration": 186, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-07-39", "timestamp": 1565086059, "time_this_iter_s": 51.931875467300415, "time_total_s": 9788.910634279251, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9788.910634279251, "timesteps_since_restore": 186000, "iterations_since_restore": 186}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2324.12, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.359057308598348, "mean_processing_ms": 0.5682926085904721, "mean_inference_ms": 1.2663042592006857}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 187000, "num_steps_trained": 47488000, "num_steps_sampled": 187000, "sample_time_ms": 11.749, "replay_time_ms": 8.425, "grad_time_ms": 23.045, "update_time_ms": 6.146, "opt_peak_throughput": 11108.819, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.54237365722656, "max_q": -77.90001678466797, "min_q": -252.0233917236328}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 187000, "episodes_total": 186, "training_iteration": 187, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-08-30", "timestamp": 1565086110, "time_this_iter_s": 51.00728416442871, "time_total_s": 9839.91791844368, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9839.91791844368, "timesteps_since_restore": 187000, "iterations_since_restore": 187}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2308.71, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3584874527651707, "mean_processing_ms": 0.5683100072948811, "mean_inference_ms": 1.2663121001534592}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 188000, "num_steps_trained": 47744000, "num_steps_sampled": 188000, "sample_time_ms": 11.734, "replay_time_ms": 8.29, "grad_time_ms": 22.944, "update_time_ms": 6.335, "opt_peak_throughput": 11157.765, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.85055541992188, "max_q": -77.6419677734375, "min_q": -239.7004852294922}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 188000, "episodes_total": 187, "training_iteration": 188, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-09-21", "timestamp": 1565086161, "time_this_iter_s": 51.03642511367798, "time_total_s": 9890.954343557358, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9890.954343557358, "timesteps_since_restore": 188000, "iterations_since_restore": 188}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2296.62, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.357923546184587, "mean_processing_ms": 0.5683281828554799, "mean_inference_ms": 1.266323923010316}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 189000, "num_steps_trained": 48000000, "num_steps_sampled": 189000, "sample_time_ms": 11.952, "replay_time_ms": 7.741, "grad_time_ms": 21.812, "update_time_ms": 5.587, "opt_peak_throughput": 11736.589, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.07911682128906, "max_q": -68.5810317993164, "min_q": -208.00820922851562}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 189000, "episodes_total": 188, "training_iteration": 189, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-10-13", "timestamp": 1565086213, "time_this_iter_s": 51.88939332962036, "time_total_s": 9942.843736886978, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9942.843736886978, "timesteps_since_restore": 189000, "iterations_since_restore": 189}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2279.44, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3573664183843333, "mean_processing_ms": 0.5683459044950852, "mean_inference_ms": 1.266337125206977}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 190000, "num_steps_trained": 48256000, "num_steps_sampled": 190000, "sample_time_ms": 5.819, "replay_time_ms": 5.378, "grad_time_ms": 17.222, "update_time_ms": 5.064, "opt_peak_throughput": 14864.462, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.72754669189453, "max_q": -76.8750991821289, "min_q": -234.5200958251953}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 190000, "episodes_total": 189, "training_iteration": 190, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-11-04", "timestamp": 1565086264, "time_this_iter_s": 51.63661599159241, "time_total_s": 9994.48035287857, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 9994.48035287857, "timesteps_since_restore": 190000, "iterations_since_restore": 190}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2256.24, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3568105805059583, "mean_processing_ms": 0.568362858846255, "mean_inference_ms": 1.2663489285759326}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 191000, "num_steps_trained": 48512000, "num_steps_sampled": 191000, "sample_time_ms": 11.037, "replay_time_ms": 6.873, "grad_time_ms": 18.622, "update_time_ms": 5.153, "opt_peak_throughput": 13747.415, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.38192749023438, "max_q": -76.2889175415039, "min_q": -244.23878479003906}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 191000, "episodes_total": 190, "training_iteration": 191, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-11-56", "timestamp": 1565086316, "time_this_iter_s": 51.66008520126343, "time_total_s": 10046.140438079834, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10046.140438079834, "timesteps_since_restore": 191000, "iterations_since_restore": 191}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2232.24, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.356258768252152, "mean_processing_ms": 0.5683785648818938, "mean_inference_ms": 1.2663606309024484}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 192000, "num_steps_trained": 48768000, "num_steps_sampled": 192000, "sample_time_ms": 14.271, "replay_time_ms": 8.41, "grad_time_ms": 20.491, "update_time_ms": 5.566, "opt_peak_throughput": 12493.375, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.23100280761719, "max_q": -77.75413513183594, "min_q": -200.4180908203125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 192000, "episodes_total": 191, "training_iteration": 192, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-12-48", "timestamp": 1565086368, "time_this_iter_s": 52.26849055290222, "time_total_s": 10098.408928632736, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10098.408928632736, "timesteps_since_restore": 192000, "iterations_since_restore": 192}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2215.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3557125479281635, "mean_processing_ms": 0.5683927704348489, "mean_inference_ms": 1.266374302890603}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 193000, "num_steps_trained": 49024000, "num_steps_sampled": 193000, "sample_time_ms": 13.343, "replay_time_ms": 8.924, "grad_time_ms": 21.142, "update_time_ms": 6.411, "opt_peak_throughput": 12108.773, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.61628723144531, "max_q": -77.02507019042969, "min_q": -197.46783447265625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 193000, "episodes_total": 192, "training_iteration": 193, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-13-42", "timestamp": 1565086422, "time_this_iter_s": 53.73875331878662, "time_total_s": 10152.147681951523, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10152.147681951523, "timesteps_since_restore": 193000, "iterations_since_restore": 193}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2196.47, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3551760979166578, "mean_processing_ms": 0.5684077000902784, "mean_inference_ms": 1.2663916776784796}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 194000, "num_steps_trained": 49280000, "num_steps_sampled": 194000, "sample_time_ms": 11.771, "replay_time_ms": 8.121, "grad_time_ms": 21.681, "update_time_ms": 6.346, "opt_peak_throughput": 11807.34, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.46994018554688, "max_q": 8.749290466308594, "min_q": -252.04762268066406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 194000, "episodes_total": 193, "training_iteration": 194, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-14-35", "timestamp": 1565086475, "time_this_iter_s": 53.238197803497314, "time_total_s": 10205.38587975502, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10205.38587975502, "timesteps_since_restore": 194000, "iterations_since_restore": 194}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2189.75, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3546414156319895, "mean_processing_ms": 0.5684208913003617, "mean_inference_ms": 1.2664065644587874}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 195000, "num_steps_trained": 49536000, "num_steps_sampled": 195000, "sample_time_ms": 12.11, "replay_time_ms": 9.957, "grad_time_ms": 23.503, "update_time_ms": 6.789, "opt_peak_throughput": 10892.406, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.23196411132812, "max_q": 5.303768157958984, "min_q": -169.85377502441406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 195000, "episodes_total": 194, "training_iteration": 195, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-15-27", "timestamp": 1565086527, "time_this_iter_s": 51.853739738464355, "time_total_s": 10257.239619493484, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10257.239619493484, "timesteps_since_restore": 195000, "iterations_since_restore": 195}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2176.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3541084756725792, "mean_processing_ms": 0.5684328833991659, "mean_inference_ms": 1.2664179715627564}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 196000, "num_steps_trained": 49792000, "num_steps_sampled": 196000, "sample_time_ms": 12.19, "replay_time_ms": 9.323, "grad_time_ms": 23.649, "update_time_ms": 6.642, "opt_peak_throughput": 10824.861, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.70674133300781, "max_q": -76.36234283447266, "min_q": -236.38914489746094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 196000, "episodes_total": 195, "training_iteration": 196, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-16-18", "timestamp": 1565086578, "time_this_iter_s": 50.71083188056946, "time_total_s": 10307.950451374054, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10307.950451374054, "timesteps_since_restore": 196000, "iterations_since_restore": 196}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2160.45, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3535801456966456, "mean_processing_ms": 0.5684465795386524, "mean_inference_ms": 1.2664331015937456}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 197000, "num_steps_trained": 50048000, "num_steps_sampled": 197000, "sample_time_ms": 11.638, "replay_time_ms": 9.66, "grad_time_ms": 22.489, "update_time_ms": 7.467, "opt_peak_throughput": 11383.307, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.8178482055664, "max_q": -77.00135040283203, "min_q": -203.19480895996094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 197000, "episodes_total": 196, "training_iteration": 197, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-17-10", "timestamp": 1565086630, "time_this_iter_s": 51.90335559844971, "time_total_s": 10359.853806972504, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10359.853806972504, "timesteps_since_restore": 197000, "iterations_since_restore": 197}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2133.57, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3530570772249881, "mean_processing_ms": 0.5684613205594187, "mean_inference_ms": 1.266449049159085}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 198000, "num_steps_trained": 50304000, "num_steps_sampled": 198000, "sample_time_ms": 12.037, "replay_time_ms": 8.891, "grad_time_ms": 24.309, "update_time_ms": 6.95, "opt_peak_throughput": 10530.907, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.59601593017578, "max_q": -13.136200904846191, "min_q": -243.572021484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 198000, "episodes_total": 197, "training_iteration": 198, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-18-02", "timestamp": 1565086682, "time_this_iter_s": 52.034019470214844, "time_total_s": 10411.887826442719, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10411.887826442719, "timesteps_since_restore": 198000, "iterations_since_restore": 198}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2121.29, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.352539287952065, "mean_processing_ms": 0.5684769354469883, "mean_inference_ms": 1.2664631784330092}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 199000, "num_steps_trained": 50560000, "num_steps_sampled": 199000, "sample_time_ms": 10.75, "replay_time_ms": 8.237, "grad_time_ms": 22.137, "update_time_ms": 5.802, "opt_peak_throughput": 11564.151, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.17650604248047, "max_q": -75.18602752685547, "min_q": -226.60426330566406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 199000, "episodes_total": 198, "training_iteration": 199, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-18-54", "timestamp": 1565086734, "time_this_iter_s": 51.967960357666016, "time_total_s": 10463.855786800385, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10463.855786800385, "timesteps_since_restore": 199000, "iterations_since_restore": 199}
{"episode_reward_max": -901.0, "episode_reward_min": -4587.0, "episode_reward_mean": -2112.99, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3520304427937315, "mean_processing_ms": 0.5684937207007696, "mean_inference_ms": 1.2664771328130167}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 200000, "num_steps_trained": 50816000, "num_steps_sampled": 200000, "sample_time_ms": 11.752, "replay_time_ms": 8.327, "grad_time_ms": 21.807, "update_time_ms": 6.387, "opt_peak_throughput": 11739.143, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.89736938476562, "max_q": -74.40148162841797, "min_q": -225.8404083251953}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 200000, "episodes_total": 199, "training_iteration": 200, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-19-45", "timestamp": 1565086785, "time_this_iter_s": 51.113409996032715, "time_total_s": 10514.969196796417, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10514.969196796417, "timesteps_since_restore": 200000, "iterations_since_restore": 200}
{"episode_reward_max": -901.0, "episode_reward_min": -8385.0, "episode_reward_mean": -2161.61, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3515303396967846, "mean_processing_ms": 0.5685109282568859, "mean_inference_ms": 1.266492019816933}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 201000, "num_steps_trained": 51072000, "num_steps_sampled": 201000, "sample_time_ms": 11.603, "replay_time_ms": 7.802, "grad_time_ms": 21.875, "update_time_ms": 6.043, "opt_peak_throughput": 11702.755, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -93.92951965332031, "max_q": -74.36388397216797, "min_q": -273.4898376464844}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 201000, "episodes_total": 200, "training_iteration": 201, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-20-37", "timestamp": 1565086837, "time_this_iter_s": 52.64197850227356, "time_total_s": 10567.61117529869, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10567.61117529869, "timesteps_since_restore": 201000, "iterations_since_restore": 201}
{"episode_reward_max": -901.0, "episode_reward_min": -8385.0, "episode_reward_mean": -2154.26, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3510350850990849, "mean_processing_ms": 0.5685287546508042, "mean_inference_ms": 1.2665088843454937}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 202000, "num_steps_trained": 51328000, "num_steps_sampled": 202000, "sample_time_ms": 12.178, "replay_time_ms": 12.404, "grad_time_ms": 23.139, "update_time_ms": 8.732, "opt_peak_throughput": 11063.686, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.08143615722656, "max_q": -75.01913452148438, "min_q": -298.2904357910156}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 202000, "episodes_total": 201, "training_iteration": 202, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-21-29", "timestamp": 1565086889, "time_this_iter_s": 51.50702500343323, "time_total_s": 10619.118200302124, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10619.118200302124, "timesteps_since_restore": 202000, "iterations_since_restore": 202}
{"episode_reward_max": -901.0, "episode_reward_min": -8385.0, "episode_reward_mean": -2146.03, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3505473611529957, "mean_processing_ms": 0.5685466741507992, "mean_inference_ms": 1.2665268649027812}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 203000, "num_steps_trained": 51584000, "num_steps_sampled": 203000, "sample_time_ms": 11.686, "replay_time_ms": 7.366, "grad_time_ms": 20.323, "update_time_ms": 5.674, "opt_peak_throughput": 12596.291, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.81340026855469, "max_q": -41.946388244628906, "min_q": -324.7375183105469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 203000, "episodes_total": 202, "training_iteration": 203, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-22-21", "timestamp": 1565086941, "time_this_iter_s": 52.1777606010437, "time_total_s": 10671.295960903168, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10671.295960903168, "timesteps_since_restore": 203000, "iterations_since_restore": 203}
{"episode_reward_max": -901.0, "episode_reward_min": -8385.0, "episode_reward_mean": -2133.31, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3500632194747646, "mean_processing_ms": 0.5685635934064649, "mean_inference_ms": 1.2665436657383333}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 204000, "num_steps_trained": 51840000, "num_steps_sampled": 204000, "sample_time_ms": 12.509, "replay_time_ms": 12.103, "grad_time_ms": 24.845, "update_time_ms": 8.847, "opt_peak_throughput": 10303.991, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.55915069580078, "max_q": -73.645263671875, "min_q": -225.02716064453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 204000, "episodes_total": 203, "training_iteration": 204, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-23-13", "timestamp": 1565086993, "time_this_iter_s": 52.18629813194275, "time_total_s": 10723.48225903511, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10723.48225903511, "timesteps_since_restore": 204000, "iterations_since_restore": 204}
{"episode_reward_max": -901.0, "episode_reward_min": -8385.0, "episode_reward_mean": -2123.35, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3495844543898918, "mean_processing_ms": 0.5685807284734351, "mean_inference_ms": 1.2665621511975407}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 205000, "num_steps_trained": 52096000, "num_steps_sampled": 205000, "sample_time_ms": 12.512, "replay_time_ms": 8.39, "grad_time_ms": 22.653, "update_time_ms": 5.669, "opt_peak_throughput": 11301.011, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.11418914794922, "max_q": -74.80967712402344, "min_q": -295.81719970703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 205000, "episodes_total": 204, "training_iteration": 205, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-24-05", "timestamp": 1565087045, "time_this_iter_s": 51.320061445236206, "time_total_s": 10774.802320480347, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10774.802320480347, "timesteps_since_restore": 205000, "iterations_since_restore": 205}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2182.39, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3491133394960126, "mean_processing_ms": 0.5685972586168506, "mean_inference_ms": 1.2665794697608357}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 206000, "num_steps_trained": 52352000, "num_steps_sampled": 206000, "sample_time_ms": 10.121, "replay_time_ms": 8.675, "grad_time_ms": 22.803, "update_time_ms": 7.016, "opt_peak_throughput": 11226.606, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.22441864013672, "max_q": -73.74346923828125, "min_q": -384.7255554199219}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 206000, "episodes_total": 205, "training_iteration": 206, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-24-57", "timestamp": 1565087097, "time_this_iter_s": 52.45424509048462, "time_total_s": 10827.256565570831, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10827.256565570831, "timesteps_since_restore": 206000, "iterations_since_restore": 206}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2176.44, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.348643939396464, "mean_processing_ms": 0.5686125094799648, "mean_inference_ms": 1.2665941238186968}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 207000, "num_steps_trained": 52608000, "num_steps_sampled": 207000, "sample_time_ms": 11.844, "replay_time_ms": 9.48, "grad_time_ms": 24.288, "update_time_ms": 6.809, "opt_peak_throughput": 10540.397, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.13809967041016, "max_q": -74.06481170654297, "min_q": -417.66192626953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 207000, "episodes_total": 206, "training_iteration": 207, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-25-49", "timestamp": 1565087149, "time_this_iter_s": 51.554107427597046, "time_total_s": 10878.810672998428, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10878.810672998428, "timesteps_since_restore": 207000, "iterations_since_restore": 207}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2173.97, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3481751031206928, "mean_processing_ms": 0.5686260907986268, "mean_inference_ms": 1.2666069692542616}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 208000, "num_steps_trained": 52864000, "num_steps_sampled": 208000, "sample_time_ms": 14.439, "replay_time_ms": 8.895, "grad_time_ms": 20.797, "update_time_ms": 5.81, "opt_peak_throughput": 12309.417, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -104.31847381591797, "max_q": -75.05198669433594, "min_q": -526.2569580078125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 208000, "episodes_total": 207, "training_iteration": 208, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-26-42", "timestamp": 1565087202, "time_this_iter_s": 53.43589115142822, "time_total_s": 10932.246564149857, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10932.246564149857, "timesteps_since_restore": 208000, "iterations_since_restore": 208}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2154.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3477091913519308, "mean_processing_ms": 0.5686384630455378, "mean_inference_ms": 1.2666209531496277}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 209000, "num_steps_trained": 53120000, "num_steps_sampled": 209000, "sample_time_ms": 8.831, "replay_time_ms": 8.733, "grad_time_ms": 20.872, "update_time_ms": 6.702, "opt_peak_throughput": 12265.308, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.9015121459961, "max_q": -73.38207244873047, "min_q": -358.1132507324219}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 209000, "episodes_total": 208, "training_iteration": 209, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-27-35", "timestamp": 1565087255, "time_this_iter_s": 53.190035581588745, "time_total_s": 10985.436599731445, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 10985.436599731445, "timesteps_since_restore": 209000, "iterations_since_restore": 209}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2137.82, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3472476214153468, "mean_processing_ms": 0.5686503322496218, "mean_inference_ms": 1.2666344832214183}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 210000, "num_steps_trained": 53376000, "num_steps_sampled": 210000, "sample_time_ms": 12.377, "replay_time_ms": 11.306, "grad_time_ms": 23.554, "update_time_ms": 7.984, "opt_peak_throughput": 10868.602, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.82527160644531, "max_q": -73.53408813476562, "min_q": -482.8011779785156}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 210000, "episodes_total": 209, "training_iteration": 210, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-28-26", "timestamp": 1565087306, "time_this_iter_s": 50.99027991294861, "time_total_s": 11036.426879644394, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11036.426879644394, "timesteps_since_restore": 210000, "iterations_since_restore": 210}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2130.11, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3467904447838897, "mean_processing_ms": 0.568662264656801, "mean_inference_ms": 1.2666492661835544}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 211000, "num_steps_trained": 53632000, "num_steps_sampled": 211000, "sample_time_ms": 12.072, "replay_time_ms": 7.963, "grad_time_ms": 23.529, "update_time_ms": 5.805, "opt_peak_throughput": 10880.067, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.48944091796875, "max_q": 79.43976593017578, "min_q": -419.014404296875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 211000, "episodes_total": 210, "training_iteration": 211, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-29-18", "timestamp": 1565087358, "time_this_iter_s": 51.48089027404785, "time_total_s": 11087.907769918442, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11087.907769918442, "timesteps_since_restore": 211000, "iterations_since_restore": 211}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2115.86, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.346342946308928, "mean_processing_ms": 0.5686748025154853, "mean_inference_ms": 1.2666668885380998}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 212000, "num_steps_trained": 53888000, "num_steps_sampled": 212000, "sample_time_ms": 11.307, "replay_time_ms": 9.512, "grad_time_ms": 24.037, "update_time_ms": 7.058, "opt_peak_throughput": 10650.225, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.1836166381836, "max_q": -62.27339172363281, "min_q": -457.55938720703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 212000, "episodes_total": 211, "training_iteration": 212, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-30-09", "timestamp": 1565087409, "time_this_iter_s": 51.59460234642029, "time_total_s": 11139.502372264862, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11139.502372264862, "timesteps_since_restore": 212000, "iterations_since_restore": 212}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2110.74, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3458974824312024, "mean_processing_ms": 0.5686865012510844, "mean_inference_ms": 1.2666826178904156}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 213000, "num_steps_trained": 54144000, "num_steps_sampled": 213000, "sample_time_ms": 11.889, "replay_time_ms": 8.76, "grad_time_ms": 22.632, "update_time_ms": 6.89, "opt_peak_throughput": 11311.309, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.48006439208984, "max_q": -51.383548736572266, "min_q": -325.40472412109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 213000, "episodes_total": 212, "training_iteration": 213, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-31-02", "timestamp": 1565087462, "time_this_iter_s": 52.46179151535034, "time_total_s": 11191.964163780212, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11191.964163780212, "timesteps_since_restore": 213000, "iterations_since_restore": 213}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2090.15, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3454630074437577, "mean_processing_ms": 0.5687007211805953, "mean_inference_ms": 1.2667010700195664}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 214000, "num_steps_trained": 54400000, "num_steps_sampled": 214000, "sample_time_ms": 11.893, "replay_time_ms": 9.345, "grad_time_ms": 24.029, "update_time_ms": 6.984, "opt_peak_throughput": 10653.617, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.64265441894531, "max_q": -73.91182708740234, "min_q": -341.9401550292969}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 214000, "episodes_total": 213, "training_iteration": 214, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-31-54", "timestamp": 1565087514, "time_this_iter_s": 52.24646353721619, "time_total_s": 11244.210627317429, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11244.210627317429, "timesteps_since_restore": 214000, "iterations_since_restore": 214}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2091.05, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3450329563271355, "mean_processing_ms": 0.5687153665798523, "mean_inference_ms": 1.2667169816436492}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 215000, "num_steps_trained": 54656000, "num_steps_sampled": 215000, "sample_time_ms": 11.758, "replay_time_ms": 11.254, "grad_time_ms": 23.907, "update_time_ms": 7.544, "opt_peak_throughput": 10708.249, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -102.03836059570312, "max_q": -11.057577133178711, "min_q": -459.138916015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 215000, "episodes_total": 214, "training_iteration": 215, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-32-46", "timestamp": 1565087566, "time_this_iter_s": 51.66614890098572, "time_total_s": 11295.876776218414, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11295.876776218414, "timesteps_since_restore": 215000, "iterations_since_restore": 215}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2078.76, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3446107071973712, "mean_processing_ms": 0.5687318421925839, "mean_inference_ms": 1.266733952771962}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 216000, "num_steps_trained": 54912000, "num_steps_sampled": 216000, "sample_time_ms": 12.12, "replay_time_ms": 9.378, "grad_time_ms": 23.084, "update_time_ms": 7.175, "opt_peak_throughput": 11089.842, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.90116882324219, "max_q": 295.61151123046875, "min_q": -473.88360595703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 216000, "episodes_total": 215, "training_iteration": 216, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-33-37", "timestamp": 1565087617, "time_this_iter_s": 51.114447832107544, "time_total_s": 11346.991224050522, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11346.991224050522, "timesteps_since_restore": 216000, "iterations_since_restore": 216}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2075.38, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.344197548303141, "mean_processing_ms": 0.5687503039806238, "mean_inference_ms": 1.2667519960092746}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 217000, "num_steps_trained": 55168000, "num_steps_sampled": 217000, "sample_time_ms": 9.039, "replay_time_ms": 9.162, "grad_time_ms": 23.289, "update_time_ms": 7.103, "opt_peak_throughput": 10992.454, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -91.83462524414062, "max_q": -70.1939468383789, "min_q": -403.0762634277344}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 217000, "episodes_total": 216, "training_iteration": 217, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-34-28", "timestamp": 1565087668, "time_this_iter_s": 51.31066060066223, "time_total_s": 11398.301884651184, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11398.301884651184, "timesteps_since_restore": 217000, "iterations_since_restore": 217}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2070.97, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.343791148769418, "mean_processing_ms": 0.5687700812978411, "mean_inference_ms": 1.2667694798483917}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 218000, "num_steps_trained": 55424000, "num_steps_sampled": 218000, "sample_time_ms": 11.838, "replay_time_ms": 8.599, "grad_time_ms": 21.401, "update_time_ms": 6.287, "opt_peak_throughput": 11962.191, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.37278747558594, "max_q": 166.38265991210938, "min_q": -379.5860900878906}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 218000, "episodes_total": 217, "training_iteration": 218, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-35-20", "timestamp": 1565087720, "time_this_iter_s": 51.58184814453125, "time_total_s": 11449.883732795715, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11449.883732795715, "timesteps_since_restore": 218000, "iterations_since_restore": 218}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2067.45, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.343391902930705, "mean_processing_ms": 0.5687905208131245, "mean_inference_ms": 1.2667843643132948}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 219000, "num_steps_trained": 55680000, "num_steps_sampled": 219000, "sample_time_ms": 12.207, "replay_time_ms": 9.695, "grad_time_ms": 23.569, "update_time_ms": 7.228, "opt_peak_throughput": 10861.896, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.46237182617188, "max_q": -66.8176498413086, "min_q": -424.16107177734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 219000, "episodes_total": 218, "training_iteration": 219, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-36-12", "timestamp": 1565087772, "time_this_iter_s": 51.741023540496826, "time_total_s": 11501.624756336212, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11501.624756336212, "timesteps_since_restore": 219000, "iterations_since_restore": 219}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2065.85, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3429995193569015, "mean_processing_ms": 0.5688112389530651, "mean_inference_ms": 1.2667966240418413}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 220000, "num_steps_trained": 55936000, "num_steps_sampled": 220000, "sample_time_ms": 11.601, "replay_time_ms": 8.683, "grad_time_ms": 23.004, "update_time_ms": 6.58, "opt_peak_throughput": 11128.438, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.87310028076172, "max_q": -48.94525146484375, "min_q": -431.1643981933594}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 220000, "episodes_total": 219, "training_iteration": 220, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-37-03", "timestamp": 1565087823, "time_this_iter_s": 51.84657835960388, "time_total_s": 11553.471334695816, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11553.471334695816, "timesteps_since_restore": 220000, "iterations_since_restore": 220}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2053.41, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3426158873391365, "mean_processing_ms": 0.5688331422022259, "mean_inference_ms": 1.2668088885244908}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 221000, "num_steps_trained": 56192000, "num_steps_sampled": 221000, "sample_time_ms": 12.115, "replay_time_ms": 9.014, "grad_time_ms": 21.693, "update_time_ms": 6.95, "opt_peak_throughput": 11801.202, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.49720001220703, "max_q": -72.3101577758789, "min_q": -210.50436401367188}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 221000, "episodes_total": 220, "training_iteration": 221, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-37-55", "timestamp": 1565087875, "time_this_iter_s": 51.85297918319702, "time_total_s": 11605.324313879013, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11605.324313879013, "timesteps_since_restore": 221000, "iterations_since_restore": 221}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2059.13, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3422402652642884, "mean_processing_ms": 0.5688557274742628, "mean_inference_ms": 1.2668193386377735}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 222000, "num_steps_trained": 56448000, "num_steps_sampled": 222000, "sample_time_ms": 12.716, "replay_time_ms": 9.993, "grad_time_ms": 23.403, "update_time_ms": 7.606, "opt_peak_throughput": 10938.701, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.310302734375, "max_q": 454.3810119628906, "min_q": -334.1748962402344}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 222000, "episodes_total": 221, "training_iteration": 222, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-38-48", "timestamp": 1565087928, "time_this_iter_s": 52.44437289237976, "time_total_s": 11657.768686771393, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11657.768686771393, "timesteps_since_restore": 222000, "iterations_since_restore": 222}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2061.68, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.341876300282277, "mean_processing_ms": 0.568880795322984, "mean_inference_ms": 1.2668308053878372}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 223000, "num_steps_trained": 56704000, "num_steps_sampled": 223000, "sample_time_ms": 11.799, "replay_time_ms": 9.53, "grad_time_ms": 24.88, "update_time_ms": 7.035, "opt_peak_throughput": 10289.24, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.8261947631836, "max_q": 259.7857360839844, "min_q": -357.73468017578125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 223000, "episodes_total": 222, "training_iteration": 223, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-39-40", "timestamp": 1565087980, "time_this_iter_s": 51.85023808479309, "time_total_s": 11709.618924856186, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11709.618924856186, "timesteps_since_restore": 223000, "iterations_since_restore": 223}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2066.77, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.341521303344506, "mean_processing_ms": 0.5689079667468757, "mean_inference_ms": 1.2668424351818197}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 224000, "num_steps_trained": 56960000, "num_steps_sampled": 224000, "sample_time_ms": 12.397, "replay_time_ms": 11.492, "grad_time_ms": 24.294, "update_time_ms": 8.701, "opt_peak_throughput": 10537.449, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -96.86602783203125, "max_q": -16.9947452545166, "min_q": -319.0451354980469}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 224000, "episodes_total": 223, "training_iteration": 224, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-40-30", "timestamp": 1565088030, "time_this_iter_s": 50.6974515914917, "time_total_s": 11760.316376447678, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11760.316376447678, "timesteps_since_restore": 224000, "iterations_since_restore": 224}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2068.08, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3411754352754748, "mean_processing_ms": 0.5689367516663473, "mean_inference_ms": 1.266853792186521}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 225000, "num_steps_trained": 57216000, "num_steps_sampled": 225000, "sample_time_ms": 11.837, "replay_time_ms": 8.404, "grad_time_ms": 21.887, "update_time_ms": 6.339, "opt_peak_throughput": 11696.687, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.23717498779297, "max_q": -42.69989776611328, "min_q": -327.2767028808594}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 225000, "episodes_total": 224, "training_iteration": 225, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-41-22", "timestamp": 1565088082, "time_this_iter_s": 52.00388431549072, "time_total_s": 11812.320260763168, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11812.320260763168, "timesteps_since_restore": 225000, "iterations_since_restore": 225}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2068.96, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.340839535985072, "mean_processing_ms": 0.5689674205968648, "mean_inference_ms": 1.2668638745290455}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 226000, "num_steps_trained": 57472000, "num_steps_sampled": 226000, "sample_time_ms": 11.657, "replay_time_ms": 8.161, "grad_time_ms": 22.142, "update_time_ms": 6.337, "opt_peak_throughput": 11561.598, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -98.21583557128906, "max_q": -23.486717224121094, "min_q": -466.9086608886719}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 226000, "episodes_total": 225, "training_iteration": 226, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-42-14", "timestamp": 1565088134, "time_this_iter_s": 51.51060199737549, "time_total_s": 11863.830862760544, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11863.830862760544, "timesteps_since_restore": 226000, "iterations_since_restore": 226}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2071.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.34051221922716, "mean_processing_ms": 0.5690004048230786, "mean_inference_ms": 1.266874165644681}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 227000, "num_steps_trained": 57728000, "num_steps_sampled": 227000, "sample_time_ms": 11.592, "replay_time_ms": 8.832, "grad_time_ms": 23.236, "update_time_ms": 6.59, "opt_peak_throughput": 11017.37, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.19962310791016, "max_q": -39.76797866821289, "min_q": -380.7249755859375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 227000, "episodes_total": 226, "training_iteration": 227, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-43-06", "timestamp": 1565088186, "time_this_iter_s": 51.95265507698059, "time_total_s": 11915.783517837524, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11915.783517837524, "timesteps_since_restore": 227000, "iterations_since_restore": 227}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2062.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3401889935138172, "mean_processing_ms": 0.5690328452786286, "mean_inference_ms": 1.2668853080322149}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 228000, "num_steps_trained": 57984000, "num_steps_sampled": 228000, "sample_time_ms": 14.399, "replay_time_ms": 10.796, "grad_time_ms": 23.514, "update_time_ms": 7.649, "opt_peak_throughput": 10887.116, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.65953063964844, "max_q": 23.654388427734375, "min_q": -617.5955810546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 228000, "episodes_total": 227, "training_iteration": 228, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-44-00", "timestamp": 1565088240, "time_this_iter_s": 53.87301015853882, "time_total_s": 11969.656527996063, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 11969.656527996063, "timesteps_since_restore": 228000, "iterations_since_restore": 228}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2065.3, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3398667179154953, "mean_processing_ms": 0.5690636225765064, "mean_inference_ms": 1.2668965373341223}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 229000, "num_steps_trained": 58240000, "num_steps_sampled": 229000, "sample_time_ms": 14.251, "replay_time_ms": 9.192, "grad_time_ms": 21.798, "update_time_ms": 6.553, "opt_peak_throughput": 11744.279, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.02546691894531, "max_q": 577.9140625, "min_q": -650.1780395507812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 229000, "episodes_total": 228, "training_iteration": 229, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-44-54", "timestamp": 1565088294, "time_this_iter_s": 54.501362562179565, "time_total_s": 12024.157890558243, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12024.157890558243, "timesteps_since_restore": 229000, "iterations_since_restore": 229}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2054.04, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3395449206430714, "mean_processing_ms": 0.5690931226195947, "mean_inference_ms": 1.266908508160786}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 230000, "num_steps_trained": 58496000, "num_steps_sampled": 230000, "sample_time_ms": 15.262, "replay_time_ms": 12.466, "grad_time_ms": 26.398, "update_time_ms": 8.589, "opt_peak_throughput": 9697.734, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.42363739013672, "max_q": 594.9758911132812, "min_q": -368.7665100097656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 230000, "episodes_total": 229, "training_iteration": 230, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-45-49", "timestamp": 1565088349, "time_this_iter_s": 54.55993723869324, "time_total_s": 12078.717827796936, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12078.717827796936, "timesteps_since_restore": 230000, "iterations_since_restore": 230}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2054.98, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3392243570069688, "mean_processing_ms": 0.5691212142752083, "mean_inference_ms": 1.2669209568046982}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 231000, "num_steps_trained": 58752000, "num_steps_sampled": 231000, "sample_time_ms": 14.677, "replay_time_ms": 9.529, "grad_time_ms": 22.359, "update_time_ms": 6.22, "opt_peak_throughput": 11449.387, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -96.81501770019531, "max_q": 157.35247802734375, "min_q": -263.1709899902344}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 231000, "episodes_total": 230, "training_iteration": 231, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-46-43", "timestamp": 1565088403, "time_this_iter_s": 54.09647178649902, "time_total_s": 12132.814299583435, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12132.814299583435, "timesteps_since_restore": 231000, "iterations_since_restore": 231}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2058.94, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3389060801202235, "mean_processing_ms": 0.5691484002638706, "mean_inference_ms": 1.2669347346820181}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 232000, "num_steps_trained": 59008000, "num_steps_sampled": 232000, "sample_time_ms": 14.789, "replay_time_ms": 9.56, "grad_time_ms": 23.147, "update_time_ms": 6.684, "opt_peak_throughput": 11059.778, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.88671875, "max_q": -57.39809036254883, "min_q": -277.5618896484375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 232000, "episodes_total": 231, "training_iteration": 232, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-47-38", "timestamp": 1565088458, "time_this_iter_s": 55.594587326049805, "time_total_s": 12188.408886909485, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12188.408886909485, "timesteps_since_restore": 232000, "iterations_since_restore": 232}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2049.95, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3385903402759047, "mean_processing_ms": 0.569173635252501, "mean_inference_ms": 1.2669477026015024}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 233000, "num_steps_trained": 59264000, "num_steps_sampled": 233000, "sample_time_ms": 7.331, "replay_time_ms": 5.875, "grad_time_ms": 17.697, "update_time_ms": 4.937, "opt_peak_throughput": 14465.689, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.46583557128906, "max_q": -44.833858489990234, "min_q": -802.333984375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 233000, "episodes_total": 232, "training_iteration": 233, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-48-33", "timestamp": 1565088513, "time_this_iter_s": 54.14109539985657, "time_total_s": 12242.549982309341, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12242.549982309341, "timesteps_since_restore": 233000, "iterations_since_restore": 233}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2052.13, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3382769093612203, "mean_processing_ms": 0.5691972479528892, "mean_inference_ms": 1.266960539852262}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 234000, "num_steps_trained": 59520000, "num_steps_sampled": 234000, "sample_time_ms": 14.713, "replay_time_ms": 11.052, "grad_time_ms": 24.062, "update_time_ms": 8.054, "opt_peak_throughput": 10639.239, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.73388671875, "max_q": 601.3206787109375, "min_q": -525.8488159179688}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 234000, "episodes_total": 233, "training_iteration": 234, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-49-28", "timestamp": 1565088568, "time_this_iter_s": 55.02475833892822, "time_total_s": 12297.57474064827, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12297.57474064827, "timesteps_since_restore": 234000, "iterations_since_restore": 234}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2048.38, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3379697272261835, "mean_processing_ms": 0.5692202956703739, "mean_inference_ms": 1.2669755215632326}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 235000, "num_steps_trained": 59776000, "num_steps_sampled": 235000, "sample_time_ms": 15.316, "replay_time_ms": 9.719, "grad_time_ms": 22.545, "update_time_ms": 6.353, "opt_peak_throughput": 11354.91, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -97.32392883300781, "max_q": 616.1317749023438, "min_q": -878.906005859375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 235000, "episodes_total": 234, "training_iteration": 235, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-50-23", "timestamp": 1565088623, "time_this_iter_s": 55.776453733444214, "time_total_s": 12353.351194381714, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12353.351194381714, "timesteps_since_restore": 235000, "iterations_since_restore": 235}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2101.88, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3376666000042483, "mean_processing_ms": 0.5692420533810014, "mean_inference_ms": 1.2669904246730377}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 236000, "num_steps_trained": 60032000, "num_steps_sampled": 236000, "sample_time_ms": 11.796, "replay_time_ms": 8.73, "grad_time_ms": 23.006, "update_time_ms": 6.667, "opt_peak_throughput": 11127.354, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.53710174560547, "max_q": 502.00775146484375, "min_q": -586.8256225585938}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 236000, "episodes_total": 235, "training_iteration": 236, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-51-18", "timestamp": 1565088678, "time_this_iter_s": 54.281009674072266, "time_total_s": 12407.632204055786, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12407.632204055786, "timesteps_since_restore": 236000, "iterations_since_restore": 236}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2159.29, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3373692417524738, "mean_processing_ms": 0.5692631088091693, "mean_inference_ms": 1.267005375320579}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 237000, "num_steps_trained": 60288000, "num_steps_sampled": 237000, "sample_time_ms": 11.989, "replay_time_ms": 8.037, "grad_time_ms": 22.614, "update_time_ms": 5.838, "opt_peak_throughput": 11320.587, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.3028793334961, "max_q": 423.373046875, "min_q": -549.719970703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 237000, "episodes_total": 236, "training_iteration": 237, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-52-09", "timestamp": 1565088729, "time_this_iter_s": 51.54787588119507, "time_total_s": 12459.180079936981, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12459.180079936981, "timesteps_since_restore": 237000, "iterations_since_restore": 237}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2146.18, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3370764966142108, "mean_processing_ms": 0.569284525545301, "mean_inference_ms": 1.2670217759060305}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 238000, "num_steps_trained": 60544000, "num_steps_sampled": 238000, "sample_time_ms": 12.24, "replay_time_ms": 9.058, "grad_time_ms": 23.117, "update_time_ms": 6.443, "opt_peak_throughput": 11073.933, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -93.93325805664062, "max_q": 540.1762084960938, "min_q": -638.523681640625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 238000, "episodes_total": 237, "training_iteration": 238, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-53-01", "timestamp": 1565088781, "time_this_iter_s": 51.758219480514526, "time_total_s": 12510.938299417496, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12510.938299417496, "timesteps_since_restore": 238000, "iterations_since_restore": 238}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2169.65, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3367884637988718, "mean_processing_ms": 0.5693048944423543, "mean_inference_ms": 1.2670369679088587}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 239000, "num_steps_trained": 60800000, "num_steps_sampled": 239000, "sample_time_ms": 11.784, "replay_time_ms": 7.783, "grad_time_ms": 22.647, "update_time_ms": 5.858, "opt_peak_throughput": 11303.735, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -93.96295166015625, "max_q": 18.241897583007812, "min_q": -490.78204345703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 239000, "episodes_total": 238, "training_iteration": 239, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-53-53", "timestamp": 1565088833, "time_this_iter_s": 52.072946548461914, "time_total_s": 12563.011245965958, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12563.011245965958, "timesteps_since_restore": 239000, "iterations_since_restore": 239}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2172.31, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3365054247143113, "mean_processing_ms": 0.5693254961592108, "mean_inference_ms": 1.2670522912400157}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 240000, "num_steps_trained": 61056000, "num_steps_sampled": 240000, "sample_time_ms": 12.372, "replay_time_ms": 8.936, "grad_time_ms": 22.9, "update_time_ms": 6.2, "opt_peak_throughput": 11178.884, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -100.14144897460938, "max_q": 251.6867218017578, "min_q": -988.0130004882812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 240000, "episodes_total": 239, "training_iteration": 240, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-54-45", "timestamp": 1565088885, "time_this_iter_s": 51.68122339248657, "time_total_s": 12614.692469358444, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12614.692469358444, "timesteps_since_restore": 240000, "iterations_since_restore": 240}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2170.6, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3362255853662157, "mean_processing_ms": 0.5693464880409553, "mean_inference_ms": 1.267065076011046}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 241000, "num_steps_trained": 61312000, "num_steps_sampled": 241000, "sample_time_ms": 12.034, "replay_time_ms": 8.917, "grad_time_ms": 22.714, "update_time_ms": 6.701, "opt_peak_throughput": 11270.632, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -101.59536743164062, "max_q": 291.43634033203125, "min_q": -913.1184692382812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 241000, "episodes_total": 240, "training_iteration": 241, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-55-36", "timestamp": 1565088936, "time_this_iter_s": 51.35806894302368, "time_total_s": 12666.050538301468, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12666.050538301468, "timesteps_since_restore": 241000, "iterations_since_restore": 241}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2159.88, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3359498714699876, "mean_processing_ms": 0.5693681666342315, "mean_inference_ms": 1.2670762880182762}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 242000, "num_steps_trained": 61568000, "num_steps_sampled": 242000, "sample_time_ms": 12.316, "replay_time_ms": 10.642, "grad_time_ms": 25.673, "update_time_ms": 8.119, "opt_peak_throughput": 9971.757, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -90.1655502319336, "max_q": 262.9917297363281, "min_q": -541.6985473632812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 242000, "episodes_total": 241, "training_iteration": 242, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-56-28", "timestamp": 1565088988, "time_this_iter_s": 51.92491888999939, "time_total_s": 12717.975457191467, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12717.975457191467, "timesteps_since_restore": 242000, "iterations_since_restore": 242}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2198.5, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3356774524880834, "mean_processing_ms": 0.569389797271051, "mean_inference_ms": 1.2670861056226437}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 243000, "num_steps_trained": 61824000, "num_steps_sampled": 243000, "sample_time_ms": 5.603, "replay_time_ms": 5.366, "grad_time_ms": 16.505, "update_time_ms": 4.926, "opt_peak_throughput": 15510.202, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -103.54119873046875, "max_q": 79.98089599609375, "min_q": -734.9588012695312}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 243000, "episodes_total": 242, "training_iteration": 243, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-57-20", "timestamp": 1565089040, "time_this_iter_s": 51.54927682876587, "time_total_s": 12769.524734020233, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12769.524734020233, "timesteps_since_restore": 243000, "iterations_since_restore": 243}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2204.8, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3354042652213594, "mean_processing_ms": 0.5694096892819529, "mean_inference_ms": 1.2670933661649}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 244000, "num_steps_trained": 62080000, "num_steps_sampled": 244000, "sample_time_ms": 11.609, "replay_time_ms": 9.125, "grad_time_ms": 21.31, "update_time_ms": 6.339, "opt_peak_throughput": 12012.994, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.02013397216797, "max_q": 98.80337524414062, "min_q": -517.3961791992188}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 244000, "episodes_total": 243, "training_iteration": 244, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-58-11", "timestamp": 1565089091, "time_this_iter_s": 51.1865234375, "time_total_s": 12820.711257457733, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12820.711257457733, "timesteps_since_restore": 244000, "iterations_since_restore": 244}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2202.53, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3351342152182846, "mean_processing_ms": 0.5694297398192599, "mean_inference_ms": 1.2671016850482701}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 245000, "num_steps_trained": 62336000, "num_steps_sampled": 245000, "sample_time_ms": 12.098, "replay_time_ms": 10.539, "grad_time_ms": 24.156, "update_time_ms": 7.885, "opt_peak_throughput": 10597.803, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -99.64311218261719, "max_q": 71.93197631835938, "min_q": -409.8887023925781}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 245000, "episodes_total": 244, "training_iteration": 245, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-59-03", "timestamp": 1565089143, "time_this_iter_s": 52.22752118110657, "time_total_s": 12872.93877863884, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12872.93877863884, "timesteps_since_restore": 245000, "iterations_since_restore": 245}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2202.3, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3348670715452038, "mean_processing_ms": 0.5694495764165153, "mean_inference_ms": 1.2671102426723437}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 246000, "num_steps_trained": 62592000, "num_steps_sampled": 246000, "sample_time_ms": 11.427, "replay_time_ms": 7.13, "grad_time_ms": 19.071, "update_time_ms": 5.625, "opt_peak_throughput": 13423.367, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -93.99897766113281, "max_q": 30.72613525390625, "min_q": -566.7247314453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 246000, "episodes_total": 245, "training_iteration": 246, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_18-59-55", "timestamp": 1565089195, "time_this_iter_s": 51.85773205757141, "time_total_s": 12924.796510696411, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12924.796510696411, "timesteps_since_restore": 246000, "iterations_since_restore": 246}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2214.95, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3346029013565022, "mean_processing_ms": 0.5694690502182295, "mean_inference_ms": 1.2671185361598256}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 247000, "num_steps_trained": 62848000, "num_steps_sampled": 247000, "sample_time_ms": 11.791, "replay_time_ms": 9.846, "grad_time_ms": 22.019, "update_time_ms": 7.142, "opt_peak_throughput": 11626.232, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -95.85186004638672, "max_q": -3.384037971496582, "min_q": -418.8876953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 247000, "episodes_total": 246, "training_iteration": 247, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-00-47", "timestamp": 1565089247, "time_this_iter_s": 52.454089403152466, "time_total_s": 12977.250600099564, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 12977.250600099564, "timesteps_since_restore": 247000, "iterations_since_restore": 247}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2236.9, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3343433458057834, "mean_processing_ms": 0.5694875856892684, "mean_inference_ms": 1.2671251741133596}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 248000, "num_steps_trained": 63104000, "num_steps_sampled": 248000, "sample_time_ms": 11.792, "replay_time_ms": 8.222, "grad_time_ms": 21.643, "update_time_ms": 5.853, "opt_peak_throughput": 11828.464, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -96.17167663574219, "max_q": 9.77026653289795, "min_q": -478.06268310546875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 248000, "episodes_total": 247, "training_iteration": 248, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-01-39", "timestamp": 1565089299, "time_this_iter_s": 51.441293239593506, "time_total_s": 13028.691893339157, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13028.691893339157, "timesteps_since_restore": 248000, "iterations_since_restore": 248}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2294.02, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3340875279556155, "mean_processing_ms": 0.5695053088329034, "mean_inference_ms": 1.2671317633434915}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 249000, "num_steps_trained": 63360000, "num_steps_sampled": 249000, "sample_time_ms": 12.241, "replay_time_ms": 9.709, "grad_time_ms": 23.067, "update_time_ms": 6.7, "opt_peak_throughput": 11098.084, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -93.5336685180664, "max_q": 92.19184112548828, "min_q": -579.21728515625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 249000, "episodes_total": 248, "training_iteration": 249, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-02-30", "timestamp": 1565089350, "time_this_iter_s": 51.69614243507385, "time_total_s": 13080.388035774231, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13080.388035774231, "timesteps_since_restore": 249000, "iterations_since_restore": 249}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2295.26, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3338342038805333, "mean_processing_ms": 0.5695219221416299, "mean_inference_ms": 1.2671378293404651}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 250000, "num_steps_trained": 63616000, "num_steps_sampled": 250000, "sample_time_ms": 13.983, "replay_time_ms": 10.412, "grad_time_ms": 21.894, "update_time_ms": 7.236, "opt_peak_throughput": 11692.56, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -94.46951293945312, "max_q": 278.5343322753906, "min_q": -579.5502319335938}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 250000, "episodes_total": 249, "training_iteration": 250, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-03-24", "timestamp": 1565089404, "time_this_iter_s": 53.392200231552124, "time_total_s": 13133.780236005783, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13133.780236005783, "timesteps_since_restore": 250000, "iterations_since_restore": 250}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2330.15, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.333583709318784, "mean_processing_ms": 0.5695373925452168, "mean_inference_ms": 1.2671441059205273}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 251000, "num_steps_trained": 63872000, "num_steps_sampled": 251000, "sample_time_ms": 12.005, "replay_time_ms": 9.066, "grad_time_ms": 22.122, "update_time_ms": 6.596, "opt_peak_throughput": 11571.978, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -89.74324035644531, "max_q": 254.71726989746094, "min_q": -386.5438537597656}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 251000, "episodes_total": 250, "training_iteration": 251, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-04-18", "timestamp": 1565089458, "time_this_iter_s": 54.15884184837341, "time_total_s": 13187.939077854156, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13187.939077854156, "timesteps_since_restore": 251000, "iterations_since_restore": 251}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2333.37, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3333327715945043, "mean_processing_ms": 0.5695509665978338, "mean_inference_ms": 1.267148694484386}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 252000, "num_steps_trained": 64128000, "num_steps_sampled": 252000, "sample_time_ms": 14.659, "replay_time_ms": 9.257, "grad_time_ms": 20.852, "update_time_ms": 6.214, "opt_peak_throughput": 12277.06, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -88.408203125, "max_q": 171.39694213867188, "min_q": -564.4232177734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 252000, "episodes_total": 251, "training_iteration": 252, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-05-12", "timestamp": 1565089512, "time_this_iter_s": 53.56413412094116, "time_total_s": 13241.503211975098, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13241.503211975098, "timesteps_since_restore": 252000, "iterations_since_restore": 252}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2358.31, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3330855666433883, "mean_processing_ms": 0.5695632160350345, "mean_inference_ms": 1.267153384432827}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 253000, "num_steps_trained": 64384000, "num_steps_sampled": 253000, "sample_time_ms": 14.467, "replay_time_ms": 8.935, "grad_time_ms": 20.445, "update_time_ms": 5.977, "opt_peak_throughput": 12521.595, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -86.84969329833984, "max_q": 302.8514709472656, "min_q": -514.3397827148438}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 253000, "episodes_total": 252, "training_iteration": 253, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-06-06", "timestamp": 1565089566, "time_this_iter_s": 53.999293088912964, "time_total_s": 13295.50250506401, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13295.50250506401, "timesteps_since_restore": 253000, "iterations_since_restore": 253}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2382.69, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3328386811233814, "mean_processing_ms": 0.5695742109902655, "mean_inference_ms": 1.2671589052586785}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 254000, "num_steps_trained": 64640000, "num_steps_sampled": 254000, "sample_time_ms": 15.216, "replay_time_ms": 11.332, "grad_time_ms": 24.165, "update_time_ms": 8.364, "opt_peak_throughput": 10593.913, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -73.97789001464844, "max_q": 402.619140625, "min_q": -389.2106018066406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 254000, "episodes_total": 253, "training_iteration": 254, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-07-00", "timestamp": 1565089620, "time_this_iter_s": 54.411556005477905, "time_total_s": 13349.914061069489, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13349.914061069489, "timesteps_since_restore": 254000, "iterations_since_restore": 254}
{"episode_reward_max": -901.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2382.91, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3325936999389645, "mean_processing_ms": 0.5695838436164099, "mean_inference_ms": 1.267162520726134}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 255000, "num_steps_trained": 64896000, "num_steps_sampled": 255000, "sample_time_ms": 14.818, "replay_time_ms": 8.794, "grad_time_ms": 20.883, "update_time_ms": 6.21, "opt_peak_throughput": 12258.754, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -82.3962173461914, "max_q": 434.6900329589844, "min_q": -357.5476989746094}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 255000, "episodes_total": 254, "training_iteration": 255, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-07-54", "timestamp": 1565089674, "time_this_iter_s": 54.38960814476013, "time_total_s": 13404.303669214249, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13404.303669214249, "timesteps_since_restore": 255000, "iterations_since_restore": 255}
{"episode_reward_max": -1103.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2434.98, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.332351674672314, "mean_processing_ms": 0.569592517855667, "mean_inference_ms": 1.267163859375989}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 256000, "num_steps_trained": 65152000, "num_steps_sampled": 256000, "sample_time_ms": 14.822, "replay_time_ms": 8.732, "grad_time_ms": 23.151, "update_time_ms": 5.899, "opt_peak_throughput": 11057.659, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -63.16643142700195, "max_q": 472.6343994140625, "min_q": -276.5200500488281}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 256000, "episodes_total": 255, "training_iteration": 256, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-08-51", "timestamp": 1565089731, "time_this_iter_s": 56.12647891044617, "time_total_s": 13460.430148124695, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13460.430148124695, "timesteps_since_restore": 256000, "iterations_since_restore": 256}
{"episode_reward_max": -1103.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2474.85, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.332113667738146, "mean_processing_ms": 0.5696012406327634, "mean_inference_ms": 1.2671641672274097}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 257000, "num_steps_trained": 65408000, "num_steps_sampled": 257000, "sample_time_ms": 15.281, "replay_time_ms": 9.248, "grad_time_ms": 22.488, "update_time_ms": 6.006, "opt_peak_throughput": 11383.754, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -71.09837341308594, "max_q": 365.77203369140625, "min_q": -303.8735656738281}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 257000, "episodes_total": 256, "training_iteration": 257, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-09-46", "timestamp": 1565089786, "time_this_iter_s": 55.53934121131897, "time_total_s": 13515.969489336014, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13515.969489336014, "timesteps_since_restore": 257000, "iterations_since_restore": 257}
{"episode_reward_max": -1103.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2504.42, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3318784206535157, "mean_processing_ms": 0.5696099956450706, "mean_inference_ms": 1.2671641767532933}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 258000, "num_steps_trained": 65664000, "num_steps_sampled": 258000, "sample_time_ms": 11.26, "replay_time_ms": 7.653, "grad_time_ms": 18.795, "update_time_ms": 5.534, "opt_peak_throughput": 13620.893, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -45.112491607666016, "max_q": 462.00775146484375, "min_q": -351.3341064453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 258000, "episodes_total": 257, "training_iteration": 258, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-10-41", "timestamp": 1565089841, "time_this_iter_s": 55.07710862159729, "time_total_s": 13571.046597957611, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13571.046597957611, "timesteps_since_restore": 258000, "iterations_since_restore": 258}
{"episode_reward_max": -1103.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2565.74, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.331645708976352, "mean_processing_ms": 0.5696174719732684, "mean_inference_ms": 1.2671610438407594}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 259000, "num_steps_trained": 65920000, "num_steps_sampled": 259000, "sample_time_ms": 12.501, "replay_time_ms": 10.047, "grad_time_ms": 23.736, "update_time_ms": 7.479, "opt_peak_throughput": 10785.359, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -54.257972717285156, "max_q": 285.3462219238281, "min_q": -331.36175537109375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 259000, "episodes_total": 258, "training_iteration": 259, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-11-33", "timestamp": 1565089893, "time_this_iter_s": 51.441548347473145, "time_total_s": 13622.488146305084, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13622.488146305084, "timesteps_since_restore": 259000, "iterations_since_restore": 259}
{"episode_reward_max": -1103.0, "episode_reward_min": -9839.0, "episode_reward_mean": -2604.1, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3314170413455018, "mean_processing_ms": 0.5696238866423831, "mean_inference_ms": 1.2671555724616728}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 260000, "num_steps_trained": 66176000, "num_steps_sampled": 260000, "sample_time_ms": 12.421, "replay_time_ms": 11.656, "grad_time_ms": 25.648, "update_time_ms": 8.914, "opt_peak_throughput": 9981.351, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -51.66510772705078, "max_q": 325.53460693359375, "min_q": -368.9615783691406}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 260000, "episodes_total": 259, "training_iteration": 260, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-12-24", "timestamp": 1565089944, "time_this_iter_s": 51.37722206115723, "time_total_s": 13673.865368366241, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13673.865368366241, "timesteps_since_restore": 260000, "iterations_since_restore": 260}
{"episode_reward_max": -1103.0, "episode_reward_min": -9966.0, "episode_reward_mean": -2688.42, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3311934078046352, "mean_processing_ms": 0.5696294754728123, "mean_inference_ms": 1.2671490926808529}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 261000, "num_steps_trained": 66432000, "num_steps_sampled": 261000, "sample_time_ms": 12.615, "replay_time_ms": 10.199, "grad_time_ms": 24.43, "update_time_ms": 7.664, "opt_peak_throughput": 10478.863, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -48.0816764831543, "max_q": 353.8091735839844, "min_q": -377.298828125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 261000, "episodes_total": 260, "training_iteration": 261, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-13-16", "timestamp": 1565089996, "time_this_iter_s": 52.44136714935303, "time_total_s": 13726.306735515594, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13726.306735515594, "timesteps_since_restore": 261000, "iterations_since_restore": 261}
{"episode_reward_max": -1103.0, "episode_reward_min": -9966.0, "episode_reward_mean": -2765.03, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3309762095609998, "mean_processing_ms": 0.569635789792909, "mean_inference_ms": 1.267144692848522}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 262000, "num_steps_trained": 66688000, "num_steps_sampled": 262000, "sample_time_ms": 12.568, "replay_time_ms": 10.928, "grad_time_ms": 24.913, "update_time_ms": 8.99, "opt_peak_throughput": 10275.966, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -42.41162109375, "max_q": 251.65623474121094, "min_q": -453.5192565917969}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 262000, "episodes_total": 261, "training_iteration": 262, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-14-08", "timestamp": 1565090048, "time_this_iter_s": 51.92901945114136, "time_total_s": 13778.235754966736, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13778.235754966736, "timesteps_since_restore": 262000, "iterations_since_restore": 262}
{"episode_reward_max": -1103.0, "episode_reward_min": -9966.0, "episode_reward_mean": -2822.44, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3307673340910104, "mean_processing_ms": 0.5696423721520761, "mean_inference_ms": 1.2671414106485674}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 263000, "num_steps_trained": 66944000, "num_steps_sampled": 263000, "sample_time_ms": 12.025, "replay_time_ms": 10.648, "grad_time_ms": 23.151, "update_time_ms": 7.295, "opt_peak_throughput": 11058.069, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -49.4635124206543, "max_q": 390.9783935546875, "min_q": -780.240966796875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 263000, "episodes_total": 262, "training_iteration": 263, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-15-01", "timestamp": 1565090101, "time_this_iter_s": 52.59488368034363, "time_total_s": 13830.83063864708, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13830.83063864708, "timesteps_since_restore": 263000, "iterations_since_restore": 263}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -2964.01, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3305628249708243, "mean_processing_ms": 0.56964873999788, "mean_inference_ms": 1.2671374242570599}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 264000, "num_steps_trained": 67200000, "num_steps_sampled": 264000, "sample_time_ms": 5.928, "replay_time_ms": 5.491, "grad_time_ms": 17.735, "update_time_ms": 5.098, "opt_peak_throughput": 14434.924, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -35.43547058105469, "max_q": 650.0888061523438, "min_q": -708.145751953125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 264000, "episodes_total": 263, "training_iteration": 264, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-15-52", "timestamp": 1565090152, "time_this_iter_s": 50.94749641418457, "time_total_s": 13881.778135061264, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13881.778135061264, "timesteps_since_restore": 264000, "iterations_since_restore": 264}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3000.53, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3303578863214827, "mean_processing_ms": 0.5696537933264579, "mean_inference_ms": 1.2671318170417036}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 265000, "num_steps_trained": 67456000, "num_steps_sampled": 265000, "sample_time_ms": 12.062, "replay_time_ms": 8.717, "grad_time_ms": 22.615, "update_time_ms": 6.584, "opt_peak_throughput": 11320.086, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -38.166908264160156, "max_q": 388.6788330078125, "min_q": -522.7469482421875}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 265000, "episodes_total": 264, "training_iteration": 265, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-16-43", "timestamp": 1565090203, "time_this_iter_s": 51.162538290023804, "time_total_s": 13932.940673351288, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13932.940673351288, "timesteps_since_restore": 265000, "iterations_since_restore": 265}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3011.36, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3301555439889454, "mean_processing_ms": 0.5696580588229321, "mean_inference_ms": 1.2671251862723987}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 266000, "num_steps_trained": 67712000, "num_steps_sampled": 266000, "sample_time_ms": 11.952, "replay_time_ms": 9.161, "grad_time_ms": 21.978, "update_time_ms": 6.168, "opt_peak_throughput": 11647.836, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -44.53107833862305, "max_q": 463.5507507324219, "min_q": -733.0439453125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 266000, "episodes_total": 265, "training_iteration": 266, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-17-35", "timestamp": 1565090255, "time_this_iter_s": 51.53758358955383, "time_total_s": 13984.478256940842, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 13984.478256940842, "timesteps_since_restore": 266000, "iterations_since_restore": 266}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3030.13, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3299575463606856, "mean_processing_ms": 0.5696622088903005, "mean_inference_ms": 1.2671191358792}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 267000, "num_steps_trained": 67968000, "num_steps_sampled": 267000, "sample_time_ms": 12.162, "replay_time_ms": 9.866, "grad_time_ms": 23.844, "update_time_ms": 7.606, "opt_peak_throughput": 10736.291, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -32.19551086425781, "max_q": 242.87451171875, "min_q": -522.8489379882812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 267000, "episodes_total": 266, "training_iteration": 267, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-18-27", "timestamp": 1565090307, "time_this_iter_s": 52.73794198036194, "time_total_s": 14037.216198921204, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14037.216198921204, "timesteps_since_restore": 267000, "iterations_since_restore": 267}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3076.51, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.329766871250381, "mean_processing_ms": 0.5696653497658375, "mean_inference_ms": 1.2671123832549853}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 268000, "num_steps_trained": 68224000, "num_steps_sampled": 268000, "sample_time_ms": 11.626, "replay_time_ms": 7.962, "grad_time_ms": 23.046, "update_time_ms": 5.977, "opt_peak_throughput": 11108.279, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -27.769237518310547, "max_q": 522.5925903320312, "min_q": -537.7483520507812}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 268000, "episodes_total": 267, "training_iteration": 268, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-19-19", "timestamp": 1565090359, "time_this_iter_s": 51.19207215309143, "time_total_s": 14088.408271074295, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14088.408271074295, "timesteps_since_restore": 268000, "iterations_since_restore": 268}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3151.55, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.329578811033125, "mean_processing_ms": 0.5696671691224097, "mean_inference_ms": 1.2671038966635932}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 269000, "num_steps_trained": 68480000, "num_steps_sampled": 269000, "sample_time_ms": 11.534, "replay_time_ms": 7.965, "grad_time_ms": 23.631, "update_time_ms": 6.19, "opt_peak_throughput": 10833.282, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -30.683303833007812, "max_q": 433.591796875, "min_q": -473.1960754394531}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 269000, "episodes_total": 268, "training_iteration": 269, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-20-10", "timestamp": 1565090410, "time_this_iter_s": 51.59774875640869, "time_total_s": 14140.006019830704, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14140.006019830704, "timesteps_since_restore": 269000, "iterations_since_restore": 269}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3169.89, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.32939527198032, "mean_processing_ms": 0.5696691381254371, "mean_inference_ms": 1.2670951416558718}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 270000, "num_steps_trained": 68736000, "num_steps_sampled": 270000, "sample_time_ms": 12.266, "replay_time_ms": 9.429, "grad_time_ms": 23.703, "update_time_ms": 6.486, "opt_peak_throughput": 10800.504, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -46.20521926879883, "max_q": 314.46014404296875, "min_q": -625.8585205078125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 270000, "episodes_total": 269, "training_iteration": 270, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-21-02", "timestamp": 1565090462, "time_this_iter_s": 51.839911222457886, "time_total_s": 14191.845931053162, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14191.845931053162, "timesteps_since_restore": 270000, "iterations_since_restore": 270}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3195.47, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.32921763952503, "mean_processing_ms": 0.5696710563112992, "mean_inference_ms": 1.2670855601667452}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 271000, "num_steps_trained": 68992000, "num_steps_sampled": 271000, "sample_time_ms": 11.705, "replay_time_ms": 8.308, "grad_time_ms": 21.867, "update_time_ms": 6.481, "opt_peak_throughput": 11707.004, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -47.04753112792969, "max_q": 430.3688659667969, "min_q": -654.7200927734375}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 271000, "episodes_total": 270, "training_iteration": 271, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-21-54", "timestamp": 1565090514, "time_this_iter_s": 52.12287449836731, "time_total_s": 14243.968805551529, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14243.968805551529, "timesteps_since_restore": 271000, "iterations_since_restore": 271}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3237.8, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3290454388140378, "mean_processing_ms": 0.5696731260156634, "mean_inference_ms": 1.2670744617100218}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 272000, "num_steps_trained": 69248000, "num_steps_sampled": 272000, "sample_time_ms": 14.077, "replay_time_ms": 8.088, "grad_time_ms": 20.797, "update_time_ms": 5.823, "opt_peak_throughput": 12309.685, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -43.59516143798828, "max_q": 483.93359375, "min_q": -591.3140258789062}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 272000, "episodes_total": 271, "training_iteration": 272, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-22-49", "timestamp": 1565090569, "time_this_iter_s": 54.9816734790802, "time_total_s": 14298.95047903061, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14298.95047903061, "timesteps_since_restore": 272000, "iterations_since_restore": 272}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3268.46, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3288749142070102, "mean_processing_ms": 0.5696745170707108, "mean_inference_ms": 1.2670613058931448}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 273000, "num_steps_trained": 69504000, "num_steps_sampled": 273000, "sample_time_ms": 14.484, "replay_time_ms": 8.63, "grad_time_ms": 20.954, "update_time_ms": 5.862, "opt_peak_throughput": 12217.369, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -42.87310791015625, "max_q": 119.86505126953125, "min_q": -445.1295166015625}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 273000, "episodes_total": 272, "training_iteration": 273, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-23-42", "timestamp": 1565090622, "time_this_iter_s": 52.709378480911255, "time_total_s": 14351.65985751152, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14351.65985751152, "timesteps_since_restore": 273000, "iterations_since_restore": 273}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3291.0, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.328708815916456, "mean_processing_ms": 0.5696766765169677, "mean_inference_ms": 1.267050293627886}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 274000, "num_steps_trained": 69760000, "num_steps_sampled": 274000, "sample_time_ms": 13.366, "replay_time_ms": 10.106, "grad_time_ms": 22.784, "update_time_ms": 7.247, "opt_peak_throughput": 11235.77, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -44.86565399169922, "max_q": 566.22509765625, "min_q": -960.0682983398438}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 274000, "episodes_total": 273, "training_iteration": 274, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-24-36", "timestamp": 1565090676, "time_this_iter_s": 54.209227323532104, "time_total_s": 14405.869084835052, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14405.869084835052, "timesteps_since_restore": 274000, "iterations_since_restore": 274}
{"episode_reward_max": -1103.0, "episode_reward_min": -16082.0, "episode_reward_mean": -3318.49, "episode_len_mean": 1001.0, "episodes_this_iter": 1, "policy_reward_mean": {}, "custom_metrics": {}, "sampler_perf": {"mean_env_wait_ms": 1.3285469712708535, "mean_processing_ms": 0.5696792086460924, "mean_inference_ms": 1.2670387913453545}, "off_policy_estimator": {}, "num_metric_batches_dropped": 0, "info": {"min_exploration": 1.0, "max_exploration": 1.0, "num_target_updates": 275000, "num_steps_trained": 70016000, "num_steps_sampled": 275000, "sample_time_ms": 15.014, "replay_time_ms": 10.415, "grad_time_ms": 21.83, "update_time_ms": 6.627, "opt_peak_throughput": 11726.886, "opt_samples": 256.0, "learner": {"default_policy": {"mean_q": -35.799705505371094, "max_q": 748.780517578125, "min_q": -708.6407470703125}}}, "timesteps_this_iter": 1000, "done": false, "timesteps_total": 275000, "episodes_total": 274, "training_iteration": 275, "experiment_id": "15ce1e012115420582f59f69c3606925", "date": "2019-08-06_19-25-31", "timestamp": 1565090731, "time_this_iter_s": 54.614983797073364, "time_total_s": 14460.484068632126, "pid": 6132, "hostname": "omnisky", "node_ip": "10.12.131.114", "config": {"monitor": false, "log_level": "INFO", "callbacks": {"on_episode_start": null, "on_episode_step": null, "on_episode_end": null, "on_sample_end": null, "on_train_result": null, "on_postprocess_traj": null}, "ignore_worker_failures": false, "use_eager": false, "model": {"conv_filters": null, "conv_activation": "relu", "fcnet_activation": "tanh", "fcnet_hiddens": [256, 256], "free_log_std": false, "squash_to_range": false, "use_lstm": false, "max_seq_len": 20, "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_preprocessor": null, "custom_model": null, "custom_options": {}}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "env_config": {"cityflow_config_file": "examples/config_1x1.json", "thread_num": 1, "num_step": 1000, "lane_phase_info": {"intersection_1_1": {"start_lane": ["road_0_1_0_0", "road_0_1_0_1", "road_1_0_1_0", "road_1_0_1_1", "road_1_2_3_0", "road_1_2_3_1", "road_2_1_2_0", "road_2_1_2_1"], "end_lane": ["road_1_1_0_0", "road_1_1_0_1", "road_1_1_1_0", "road_1_1_1_1", "road_1_1_2_0", "road_1_1_2_1", "road_1_1_3_0", "road_1_1_3_1"], "phase": [1, 2, 3, 4, 5, 6, 7, 8], "phase_startLane_mapping": {"1": ["road_0_1_0_1", "road_2_1_2_1"], "2": ["road_1_0_1_1", "road_1_2_3_1"], "3": ["road_0_1_0_0", "road_2_1_2_0"], "4": ["road_1_0_1_0", "road_1_2_3_0"], "5": ["road_0_1_0_1", "road_0_1_0_0"], "6": ["road_2_1_2_1", "road_2_1_2_0"], "7": ["road_1_0_1_1", "road_1_0_1_0"], "8": ["road_1_2_3_0", "road_1_2_3_1"]}, "phase_roadLink_mapping": {"1": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"]], "2": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]], "3": [["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "4": [["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"], ["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"]], "5": [["road_0_1_0_1", "road_1_1_0_0"], ["road_0_1_0_1", "road_1_1_0_1"], ["road_0_1_0_0", "road_1_1_1_0"], ["road_0_1_0_0", "road_1_1_1_1"]], "6": [["road_2_1_2_1", "road_1_1_2_0"], ["road_2_1_2_1", "road_1_1_2_1"], ["road_2_1_2_0", "road_1_1_3_0"], ["road_2_1_2_0", "road_1_1_3_1"]], "7": [["road_1_0_1_1", "road_1_1_1_0"], ["road_1_0_1_1", "road_1_1_1_1"], ["road_1_0_1_0", "road_1_1_2_0"], ["road_1_0_1_0", "road_1_1_2_1"]], "8": [["road_1_2_3_0", "road_1_1_0_0"], ["road_1_2_3_0", "road_1_1_0_1"], ["road_1_2_3_1", "road_1_1_3_0"], ["road_1_2_3_1", "road_1_1_3_1"]]}}}, "state_time_span": 5, "time_span": 30, "state_size": 8, "action_size": 8, "batch_size": 128}, "env": "CityflowGymEnv", "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 0.0001, "evaluation_interval": null, "evaluation_num_episodes": 10, "evaluation_config": {"exploration_fraction": 0, "exploration_final_eps": 0}, "num_workers": 1, "num_gpus": 0, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "num_envs_per_worker": 1, "sample_batch_size": 1, "train_batch_size": 256, "batch_mode": "truncate_episodes", "sample_async": false, "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 1, "timesteps_per_iteration": 1000, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null}, "twin_q": false, "policy_delay": 1, "smooth_target_policy": false, "target_noise": 0.2, "target_noise_clip": 0.5, "use_state_preprocessor": false, "actor_hiddens": [400, 300], "actor_hidden_activation": "relu", "critic_hiddens": [400, 300], "critic_hidden_activation": "relu", "n_step": 1, "exploration_should_anneal": false, "schedule_max_timesteps": 100000, "exploration_fraction": 0.1, "exploration_final_scale": 0.02, "exploration_noise_type": "ou", "exploration_ou_noise_scale": 0.1, "exploration_ou_theta": 0.15, "exploration_ou_sigma": 0.2, "exploration_gaussian_sigma": 0.1, "parameter_noise": false, "pure_exploration_steps": 1000, "buffer_size": 50000, "prioritized_replay": true, "prioritized_replay_alpha": 0.6, "prioritized_replay_beta": 0.4, "beta_annealing_fraction": 0.2, "final_prioritized_replay_beta": 0.4, "prioritized_replay_eps": 1e-06, "critic_lr": 0.001, "actor_lr": 0.001, "target_network_update_freq": 0, "tau": 0.002, "use_huber": false, "huber_threshold": 1.0, "l2_reg": 1e-06, "grad_norm_clipping": null, "learning_starts": 1500, "per_worker_exploration": false, "worker_side_prioritization": false}, "time_since_restore": 14460.484068632126, "timesteps_since_restore": 275000, "iterations_since_restore": 275}
